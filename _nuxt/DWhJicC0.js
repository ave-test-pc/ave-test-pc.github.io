import{n as e,ns as a,a3 as t,bM as s,aw as r,br as o,dg as l,bv as n,bC as d,aS as i,fE as p,cd as u,c,o as m,S as f,J as y,at as v,a5 as k,H as g,nt as h,aa as S,ak as x,cL as b,aN as C,F as _,_ as E}from"./C8zCCogY.js";import{u as w}from"./cC-N3AwG.js";const A=E(e({__name:"remark",props:{remark:{type:String,default:""},address:{type:String,default:""},chain:{type:String,default:""},priority:{type:Number,default:0},teleported:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},formatAddress:{type:Function,default:e=>"*"+(null==e?void 0:e.slice(-6))},mouseoverAddress:{type:Function,default:null},addressClass:{type:String,default:""},addressStyle:{type:String,default:""},iconEditColor:{type:String,default:"var(--third-text)"},showAddressTitle:{type:Boolean,default:!1},iconEditSize:{type:String,default:"12px"},iconSize:{type:String,default:"16px"},showAddress:{type:Boolean,default:!0},maxRemarkLength:{type:Number,default:14},wallet_logo:{type:Object,default:()=>({logo:"",name:"",url:"",vip_logo:""})},canEdit:{type:Boolean,default:!0},avatarClass:{type:String,default:"mr-10px"}},emits:["refresh"],setup(e,{emit:E}){a(a=>({e71d04d8:e.iconEditColor,v6a7ef0a0:e.iconEditSize}));const A=e,B=E,{updateNum3:z}=t(s()),{t:I}=r(),N=o();l();const j=n(),F=d("target"),L=v(!1),P=_(!1);let R;function H(e){const a=e.remark;a.length<=20?function(e){const a={address:A.address,name:e,chain:A.chain};P.value=!0,w(a).then(()=>{C.success(I("success")),z.value++,B("refresh")}).catch(e=>{C.error(e.message)}).finally(()=>{P.value=!1})}(a):C.error(I("maximum10characters"))}return i(()=>{if(F.value){const e=p(F,([e])=>{L.value=e.isIntersecting});R=e.stop}}),u(()=>{R&&R()}),(a,t)=>{var s,r,o;const l=S;return m(),c("div",{ref_key:"target",ref:F,class:"remark-com"},[e.canEdit&&y(L)?(m(),c(k,{key:0},[(null==(r=null==(s=y(N))?void 0:s.userInfo)?void 0:r.evmAddress)||(null==(o=y(j))?void 0:o.address)?(m(),g(h,{key:0,address:e.address,chain:e.chain,remark:e.remark,popoverProps:{width:320,title:y(I)("editRemark"),popperClass:"[&&]:[--el-popover-title-text-color:--main-text] [&&]:[--el-popover-title-font-size:14px]"},onConfirm:H},null,8,["address","chain","remark","popoverProps"])):(m(),g(l,{key:1,name:"custom:remark",class:"text-12px ml-5px clickable icon-remark shrink-0",onClick:x(y(b),["stop","prevent"])},null,8,["onClick"]))],64)):f("",!0)],512)}}}),[["__scopeId","data-v-a07ba607"]]);export{A as default};
