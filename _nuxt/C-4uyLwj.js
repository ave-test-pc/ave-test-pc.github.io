const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C9o3poHn.js","./Dg2_FZEt.js","./DIFfro1Y.js","./Dlqr82Kd.js","./C8zCCogY.js","./entry.ZJtcXcXk.css","./SAv5KoQ3.js","./YJ8GLtNh.js","./D-MmK6ns.js","./pAvqTbq1.js","./scrollbar.wwf0UyhQ.css","./CiE6GnGM.js","./netSelect.B1TCqw__.css","./BWc5ynOe.js","./DT8qK_3J.js","./B-JdZO_T.js","./alert.D1SEbdVP.css","./HK4-8ipE.js","./xIcon.-1kN8h6i.css","./DHI12vUc.js","./Dwz_iTym.js","./tag.D5zYjl71.css","./Ch2kKm0h.js","./select.bnIT0Jy1.css","./BcLlRL1h.js","./D9w_6Z7_.js","./3zf6s2PU.js","./2xvRo4QC.js","./remind.B6TrAqUJ.css","./Ca6upjXL.js","./arcProgress.C2KVeCWd.css","./C535m_7q.js","./jvqJ-lss.js","./input-number.HwP0nlBD.css","./-d3z4qYr.js","./switch.BHcx86ck.css","./slippageSet.10-w620G.css","./Bo7zwPAw.js","./CLZzqSQq.js","./BGkjShqg.js","./color-picker-panel.DA7VoFEm.css","./Bzhi185P.js","./index.CaOxWLb8.css","./D9paliCs.js","./Q01_-I3Q.js","./date-picker-panel.CCEMxv2z.css","./DKYpiC1k.js","./progress.C2s-rdyf.css","./DDNWRfdP.js","./DUtGqHLY.js","./dropdown.BebM7Wof.css","./tabs.B9pYJVzC.css","./TbcHext3.js","./slider.LN1DrOuY.css","./B6VsYDNj.js","./vLoading.DP4dScFC.css","./C-cIFx6x.js","./table.Cdl6t-Uy.css","./CuEu_puv.js","./DjDWeJrl.js","./index.Z__kHujj.css","./B6Y1KpwL.js","./radio-group.BLfk2hwF.css","./WWWZ5U8g.js","./DLGHj_Zr.js","./5kl4xEHr.js","./CxMvX8-5.js","./profitLoss.rWV4UtaI.css","./fEdJWnWm.js","./index.CnkWTJqX.css","./FgZ7WRTR.js","./_OF3j6f5.js","./proTag.I_eSLysf.css","./index.lMypYYbp.css","./radio-button.BKANFUc1.css","./npkA6KOp.js","./index.vSqoEtlI.css","./rHU2Jf8t.js","./index.CF7iWGTB.css","./CLrfaUgq.js","./Cdo98r7k.js","./index.C9CqUhN3.css"])))=>i.map(i=>d[i]);
import{E as e}from"./pAvqTbq1.js";import{dm as l,ah as a,n as t,aw as n,au as o,ae as s,aS as i,D as r,E as u,at as d,a7 as c,H as v,S as m,J as p,o as f,w as h,a as x,M as g,t as k,aa as b,c as _,a5 as y,a6 as w,e as T,b as C,L as A,du as S,d as N,dv as $,ak as F,K as I,aM as L,aL as V,_ as B,dw as M,dx as D,G as E,F as P,a2 as U,cd as R,bu as H,br as O,bv as j,a3 as z,cC as W,bM as q,a8 as G,aK as Y,dy as Q,a9 as K,ad as X,W as Z,bW as J,bX as ee,de as le,aN as ae,bY as te,cS as ne,bi as oe,az as se,P as ie,av as re,dz as ue,dj as de,dA as ce,cc as ve,aB as me,aA as pe,aC as fe,aE as he,bS as xe,bT as ge,T as ke,bO as be,aP as _e,aF as ye,bR as we,cI as Te,bz as Ce,cG as Ae,bH as Se,ch as Ne,cM as $e,cL as Fe,cn as Ie,cl as Le,cm as Ve,dl as Be,cQ as Me,cA as De,bh as Ee,cD as Pe,dB as Ue,c9 as Re,dC as He,dD as Oe,dr as je,dE as ze,ac as We,bx as qe,dF as Ge,cy as Ye,dG as Qe,dH as Ke,dI as Xe,bt as Ze,aU as Je,cj as el,bs as ll,by as al,dJ as tl,dK as nl,aj as ol,dL as sl,dq as il,dM as rl,d5 as ul,dt as dl,ds as cl,dN as vl,dp as ml,dO as pl,dP as fl,dQ as hl,bA as xl,dR as gl,dS as kl,ca as bl,dT as _l,dU as yl,aT as wl,cK as Tl,dV as Cl,cP as Al,bC as Sl,bw as Nl,dW as $l,R as Fl,bk as Il,N as Ll,dX as Vl,dY as Bl,dZ as Ml,d_ as Dl,d$ as El,e0 as Pl,e1 as Ul,e2 as Rl,e3 as Hl,cT as Ol,e4 as jl,e5 as zl,e6 as Wl,e7 as ql,e8 as Gl,e9 as Yl,ea as Ql,eb as Kl,ec as Xl,ed as Zl,ee as Jl,ef as ea,eg as la,eh as aa,ei as ta,ej as na,ek as oa,el as sa,em as ia,en as ra,eo as ua,ep as da,eq as ca,er as va,es as ma,et as pa,eu as fa,ev as ha,ew as xa,ex as ga,ey as ka,ez as ba,eA as _a,eB as ya,eC as wa,eD as Ta,eE as Ca,eF as Aa,eG as Sa,eH as Na,eI as $a,eJ as Fa,eK as Ia,eL as La,eM as Va,eN as Ba,eO as Ma,eP as Da,eQ as Ea,eR as Pa,eS as Ua,eT as Ra,eU as Ha,eV as Oa,eW as ja,eX as za,eY as Wa,eZ as qa,e_ as Ga,e$ as Ya,f0 as Qa,f1 as Ka,f2 as Xa,f3 as Za,f4 as Ja,f5 as et,f6 as lt,ap as at,f7 as tt,f8 as nt,f9 as ot,fa as st,fb as it,fc as rt,fd as ut,a4 as dt,fe as ct,I as vt,ff as mt,aJ as pt,fg as ft,fh as ht,bK as xt,cg as gt,cf as kt,ck as bt,ci as _t,bB as yt,cE as wt,fi as Tt,cN as Ct,fj as At,fk as St,fl as Nt,fm as $t,fn as Ft,ag as It,af as Lt,al as Vt,bP as Bt,bQ as Mt,di as Dt,ao as Et,aG as Pt,fo as Ut,dh as Rt,fp as Ht,fq as Ot,fr as jt,d6 as zt,bD as Wt,fs as qt,ft as Gt,fu as Yt,fv as Qt,cH as Kt,fw as Xt,ai as Zt,fx as Jt,fy as en,fz as ln,fA as an,fB as tn,fC as nn,fD as on,fE as sn,fF as rn,fG as un,fH as dn,a0 as cn}from"./C8zCCogY.js";import{E as vn}from"./B-JdZO_T.js";import{_ as mn,a as pn,b as fn}from"./HK4-8ipE.js";import{b as hn,E as xn,a as gn}from"./DHI12vUc.js";import"./Dwz_iTym.js";import{_ as kn}from"./BcLlRL1h.js";import{_ as bn,a as _n,c as yn,E as wn,b as Tn}from"./D9w_6Z7_.js";import{_ as Cn,E as An}from"./Ca6upjXL.js";import{a as Sn,E as Nn,u as $n,S as Fn}from"./C535m_7q.js";import{a as In,_ as Ln,b as Vn,c as Bn,g as Mn,u as Dn}from"./Bo7zwPAw.js";import{a as En,_ as Pn,K as Un}from"./CLZzqSQq.js";import{_ as Rn,a as Hn,E as On}from"./D9paliCs.js";import{E as jn}from"./DKYpiC1k.js";import{E as zn,a as Wn}from"./DDNWRfdP.js";import{E as qn,a as Gn,b as Yn}from"./DUtGqHLY.js";import{E as Qn}from"./TbcHext3.js";import{E as Kn}from"./jvqJ-lss.js";import{V as Xn}from"./B6VsYDNj.js";import{r as Zn,u as Jn,a as eo,b as lo}from"./BWc5ynOe.js";import{E as ao}from"./-d3z4qYr.js";import{a as to,E as no}from"./C-cIFx6x.js";import{_ as oo}from"./CiE6GnGM.js";import{V as so}from"./CuEu_puv.js";import{u as io}from"./DT8qK_3J.js";import{_ as ro}from"./DjDWeJrl.js";import{u as uo}from"./Bzhi185P.js";import{a as co,b as vo}from"./B6Y1KpwL.js";import{_ as mo}from"./WWWZ5U8g.js";import{U as po}from"./DLGHj_Zr.js";let fo=[],ho=!1;let xo=0;const go=()=>{if(0===fo.length)return void(ho=!1);ho=!0;const e=fo.shift(),a=Date.now()-xo,t=Math.max(0,500-a);setTimeout(()=>{l(e.options),xo=Date.now(),go()},t)};const ko={class:"filter-box"},bo={class:"flex-start"},_o={class:"font_18 title"},yo={class:"border mt-20px"},wo={class:"holder"},To={class:"item"},Co=["src"],Ao={class:"flex-between mt-10px"},So={class:"flex-start mt-10px"},No={class:"flex-start mt-10px"},$o={class:"flex-start mt-10px"},Fo={class:"flex-start mt-10px"},Io={class:"mt-5px block text-10px color-[--secondary-text]"},Lo=t({__name:"top50",setup(e){var l;const{t:t}=n(),B=o(),M=d(!1),D=d([]),E=u(()=>{var e;return null==(e=B.params)?void 0:e.id}),{chain:P}=s(null==(l=B.params)?void 0:l.id);function U(e){return{1:{color:"#12B886",icon:"custom-top50-holders",text:t("top50Holders")},2:{color:"#00B00F",icon:"custom-top50-holders",text:t("top50Increase")},3:{color:"#F6465D",icon:"custom-top50-sold",text:t("top50SSoldOut")},4:{color:"#F6465D",icon:"custom-top50-partial",text:t("top50PartialSale")}}[e]||""}function R(){(function(e){const{$api:l}=a();return l("/v1api/v3/stats/earlyholders",{method:"get",query:{token_id:e}})})(E.value).then(e=>{const l=Array.isArray(e)?null==e?void 0:e.slice(0,50):[];D.value=null==l?void 0:l.map(e=>{var l;return{...e,new_tags:null==(l=e.new_tags)?void 0:l.filter(e=>["25","30","31"].includes((null==e?void 0:e.type)??""))}})}).catch(e=>{}).finally(()=>{})}return i(()=>{R()}),r(()=>B.params.id,()=>{R()}),(e,l)=>{var a;const n=b,o=T,s=V,i=c("tooltip");return(null==(a=p(D))?void 0:a.length)>0?(f(),v(s,{key:0,visible:p(M),"onUpdate:visible":l[1]||(l[1]=e=>L(M)?M.value=e:null),persistent:!1,placement:"bottom","popper-class":"chains-table-filter",title:"",width:370,trigger:"click"},{reference:h(()=>{var e,a,t,o,s,i;return[x("a",{class:"top50 bg-btn text-10px",href:"",onClick:l[0]||(l[0]=F(()=>{},["stop","prevent"]))},[C(n,{name:"custom:top",class:"text-[--third-text] h-10px mr-2px"}),x("span",{class:I(["text-10px",{text:((null==(a=null==(e=p(D))?void 0:e.filter(e=>4==(null==e?void 0:e.tag_type)||1==(null==e?void 0:e.tag_type)||2==(null==e?void 0:e.tag_type)))?void 0:a.length)||0)/Math.min((null==(t=p(D))?void 0:t.length)||50)>1/3}])},k((null==(s=null==(o=p(D))?void 0:o.filter(e=>4==(null==e?void 0:e.tag_type)||1==(null==e?void 0:e.tag_type)||2==(null==e?void 0:e.tag_type)))?void 0:s.length)||0),3),N(" /"+k(Math.min((null==(i=p(D))?void 0:i.length)||50))+" ",1),C(n,{name:"material-symbols:arrow-forward-ios-rounded",class:"text-10px"})])]}),default:h(()=>{var e,a,s,r,u,d,c,b,T,F,I,L,V,B,M,E,R,H;return[x("div",ko,[x("div",bo,[x("span",_o,k("early"==(null==(e=p(D)[0])?void 0:e.tag)?p(t)("top50TitleHold"):p(t)("top50TitleEarly")),1),"early"==(null==(a=p(D)[0])?void 0:a.tag)?g((f(),v(n,{key:0,class:"text-14px ml-5px mt-2px color-[--third-text] cursor-pointer",name:"mi:circle-warning"},null,512)),[[i,{content:p(t)("top50TitleTip"),props:{placement:"top",persistent:!1,"popper-class":"[&&]:[--el-text-color-primary:--dialog-list-hover]!"}}]]):m("",!0)]),x("div",yo,[x("div",wo,[(f(!0),_(y,null,w(p(D),(e,l)=>{var a;return f(),_("div",{key:l},[U(e.tag_type)?g((f(),v(o,{key:0,to:`/address/${e.account_address}/${p(P)}`},{default:h(()=>{var l,a,t,o;return[x("div",To,[C(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(l=U(e.tag_type))?void 0:l.icon,style:A({color:null==(a=U(e.tag_type))?void 0:a.color})},null,8,["name","style"]),(null==(t=null==e?void 0:e.new_tags)?void 0:t.length)>0?(f(),_("img",{key:0,style:{"max-width":"10px","max-height":"10px"},class:"mr-3",src:p(S)(null==(o=e.new_tags[0])?void 0:o.icon),alt:""},null,8,Co)):m("",!0)])]}),_:2},1032,["to"])),[[i,{content:null==(a=U(e.tag_type))?void 0:a.text,props:{placement:"top",hideAfter:0,persistent:!1}}]]):m("",!0)])}),128))]),x("div",Ao,[x("div",null,[x("div",So,[C(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(s=U(1))?void 0:s.icon,style:A({color:null==(r=U(1))?void 0:r.color})},null,8,["name","style"]),N(" "+k(p(t)("top50Holders"))+"："+k((null==(d=null==(u=p(D))?void 0:u.filter(e=>1==e.tag_type))?void 0:d.length)||0),1)]),x("div",No,[C(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(c=U(3))?void 0:c.icon,style:A({color:null==(b=U(3))?void 0:b.color})},null,8,["name","style"]),N(" "+k(p(t)("top50SSoldOut"))+"："+k((null==(F=null==(T=p(D))?void 0:T.filter(e=>3==e.tag_type))?void 0:F.length)||0),1)])]),x("div",null,[x("div",$o,[C(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(I=U(2))?void 0:I.icon,style:A({color:null==(L=U(2))?void 0:L.color})},null,8,["name","style"]),N(" "+k(p(t)("top50Increase"))+"："+k((null==(B=null==(V=p(D))?void 0:V.filter(e=>2==e.tag_type))?void 0:B.length)||0),1)]),x("div",Fo,[C(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(M=U(4))?void 0:M.icon,style:A({color:null==(E=U(4))?void 0:E.color,"margin-top":"2px"})},null,8,["name","style"]),N(" "+k(p(t)("top50PartialSale"))+"："+k((null==(H=null==(R=p(D))?void 0:R.filter(e=>4==e.tag_type))?void 0:H.length)||0),1)])])])]),l[2]||(l[2]=x("div",{class:"flex-start mt-20px"},[x("img",{src:$,style:{height:"17px"},height:"17",alt:"",srcset:""}),x("span",{class:"ml-5px font-14"},"Ave.ai")],-1)),x("span",Io,k(p(t)("campaignTitle")),1)])]}),_:1},8,["visible"])):m("",!0)}}}),Vo=B(Lo,[["__scopeId","data-v-a008843e"]]),Bo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070261395'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17677'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M509.085538%20357.612308v115.554461c0%2019.219692%2015.596308%2034.894769%2034.816%2034.894769h50.806154L475.451077%20640.393846V524.839385a34.816%2034.816%200%200%200-34.816-34.816H389.907692l119.177846-132.489847zM279.788308%20538.860308c5.671385%2012.603077%2018.116923%2020.716308%2031.822769%2020.716307h94.208v171.638154a34.894769%2034.894769%200%200%200%2060.731077%2023.315693l232.290461-258.12677a34.816%2034.816%200%200%200-25.993846-58.131692H578.796308V266.791385a34.737231%2034.737231%200%200%200-60.652308-23.394462l-232.369231%20258.126769a34.816%2034.816%200%200%200-5.907692%2037.415385z%20m595.731692-91.529846c0%20318.857846-298.141538%20448.748308-383.212308%20479.232C407.236923%20896.157538%20109.095385%20766.267077%20109.095385%20447.409231V202.279385c203.618462-42.535385%20287.428923-81.132308%20383.842461-128.787693%2090.742154%2045.528615%20177.152%2085.779692%20382.582154%20128.787693V447.409231z%20m41.747692-307.672616C688.285538%2093.892923%20609.043692%2053.878154%20508.691692%203.387077a38.045538%2038.045538%200%200%200-32.610461%200.630154C374.468923%2054.508308%20294.045538%2094.365538%2067.347692%20139.736615A34.816%2034.816%200%200%200%2039.384615%20173.843692V447.409231c0%20382.503385%20368.009846%20524.603077%20441.895385%20549.179077a34.894769%2034.894769%200%200%200%2022.055385%200c73.806769-24.576%20441.895385-166.675692%20441.895384-549.179077V173.843692a34.816%2034.816%200%200%200-28.041846-34.107077z'%20fill='%23EC4343'%20p-id='17678'%3e%3c/path%3e%3c/svg%3e",Mo="data:image/svg+xml,%3csvg%20width='128'%20height='128'%20viewBox='0%200%20128%20128'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M58.88%2077.0757L82.1071%2053.8388C82.9231%2053.0214%2083.3811%2051.9134%2083.3801%2050.7584C83.3792%2049.6034%2082.9195%2048.4961%2082.1022%2047.68C81.2848%2046.864%2080.1768%2046.406%2079.0218%2046.407C77.8668%2046.4079%2076.7594%2046.8676%2075.9434%2047.6849L55.7982%2067.8302L47.2616%2059.2936C46.8568%2058.8895%2046.3765%2058.5691%2045.848%2058.3507C45.3194%2058.1322%2044.753%2058.02%2044.1812%2058.0205C43.6093%2058.021%2043.0431%2058.1341%2042.5149%2058.3533C41.9867%2058.5726%2041.5069%2058.8938%2041.1028%2059.2985C40.6987%2059.7032%2040.3783%2060.1835%2040.1599%2060.7121C39.9415%2061.2406%2039.8293%2061.807%2039.8297%2062.3789C39.8302%2062.9508%2039.9433%2063.517%2040.1626%2064.0452C40.3818%2064.5734%2040.703%2065.0532%2041.1077%2065.4573L52.7262%2077.0757C53.5436%2077.8892%2054.6499%2078.3459%2055.8031%2078.3459C56.9563%2078.3459%2058.0626%2077.8892%2058.88%2077.0757ZM13.6369%2025.2849V55.9262C13.6369%2095.7834%2050.9046%20112.02%2061.5385%20115.84C72.1723%20112.02%20109.44%2095.7834%20109.44%2055.9262V25.2849C83.7711%2019.9089%2072.9797%2014.8776%2061.6369%209.18648C49.5656%2015.1434%2039.0892%2019.968%2013.6369%2025.2849ZM61.5385%20124.8C61.0697%20124.8%2060.6041%20124.724%2060.16%20124.574C50.9342%20121.502%204.9231%20103.739%204.9231%2055.9262V21.7305C4.9231%2019.6628%206.39017%2017.8708%208.42833%2017.4573C36.7557%2011.7957%2046.8086%206.81356%2059.5299%200.502175C60.1597%200.189175%2060.8511%200.0197618%2061.5542%200.00614108C62.2574%20-0.00747969%2062.9549%200.135031%2063.5963%200.423406C76.1502%206.74464%2086.0652%2011.7465%20114.649%2017.4573C115.637%2017.6551%20116.525%2018.1889%20117.164%2018.9678C117.803%2019.7468%20118.153%2020.723%20118.154%2021.7305V55.9262C118.154%20103.739%2072.1428%20121.502%2062.9169%20124.574C62.4729%20124.724%2062.0072%20124.8%2061.5385%20124.8Z'%20fill='%23CDF1DF'/%3e%3c/svg%3e",Do="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070249343'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17535'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M471.04%20616.605538l185.816615-185.895384a34.816%2034.816%200%201%200-49.309538-49.230769L446.385231%20542.641231%20378.092308%20474.348308a34.816%2034.816%200%201%200-49.23077%2049.309538l92.947693%2092.947692a34.894769%2034.894769%200%200%200%2049.230769%200M109.095385%20202.279385V447.409231c0%20318.857846%20298.141538%20448.748308%20383.212307%20479.310769%2085.070769-30.562462%20383.212308-160.452923%20383.212308-479.310769V202.279385C670.168615%20159.271385%20583.837538%20119.020308%20493.095385%2073.491692%20396.524308%20121.147077%20312.713846%20159.744%20109.095385%20202.279385M492.307692%20998.4a34.422154%2034.422154%200%200%201-11.027692-1.811692C407.473231%20972.012308%2039.384615%20829.912615%2039.384615%20447.409231V173.843692c0-16.541538%2011.736615-30.877538%2028.041847-34.185846C294.045538%2094.365538%20374.468923%2054.508308%20476.238769%204.017231a38.045538%2038.045538%200%200%201%2032.531693-0.630154c100.430769%2050.569846%20179.751385%2090.584615%20408.418461%20136.270769a34.894769%2034.894769%200%200%201%2028.041846%2034.185846V447.409231c0%20382.503385-368.088615%20524.603077-441.895384%20549.179077a34.422154%2034.422154%200%200%201-11.027693%201.811692'%20fill='%2337C882'%20p-id='17536'%3e%3c/path%3e%3c/svg%3e",Eo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070216443'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17112'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M539.647107%20638.358305a46.472345%2046.472345%200%200%200-46.472345-46.472344h-0.4726a46.236045%2046.236045%200%200%200-46.157278%2046.472344c0%2025.67794%2021.030705%2046.472345%2046.629878%2046.472345a46.472345%2046.472345%200%200%200%2046.472345-46.472345m-14.414304-110.74596c0.393833-0.787667%204.095868-9.294469%2029.458741-26.15054%2045.763445-30.403941%2066.164016-74.040685%2057.578447-122.954797a122.954797%20122.954797%200%200%200-98.14329-98.222057c-36.153909-6.301335-72.465351%203.386967-100.191225%2026.62314a121.69453%20121.69453%200%200%200-43.557977%2093.417289%2034.814875%2034.814875%200%200%200%2069.62975%200%2052.143546%2052.143546%200%200%201%2061.989382-51.355879%2052.77368%2052.77368%200%200%201%2041.746343%2041.58881c2.363001%2013.232803%201.969167%2033.160775-27.56834%2052.77368-20.006738%2013.390337-47.496312%2034.184742-56.869547%2061.989382a34.342275%2034.342275%200%200%200%2032.845708%2045.290844%2035.523775%2035.523775%200%200%200%2033.082008-22.999872M109.029634%20202.305932V447.427858c0%20318.847545%20298.131907%20448.73381%20383.278695%20479.216518%2085.068021-30.482707%20383.199927-160.368973%20383.199927-479.216518V202.305932C670.163505%20159.299321%20583.677684%20119.049545%20492.938462%2073.5224%20396.528038%20121.176245%20312.720284%20159.771921%20109.029634%20202.305932M492.308329%20998.400827a34.421042%2034.421042%200%200%201-11.027337-1.811634C407.476608%20972.013987%2039.399884%20829.918886%2039.399884%20447.427858V173.871158c0-16.541004%2011.65747-30.876541%2027.962174-34.105975C294.05258%2094.395572%20374.3946%2054.539629%20476.161158%203.971416A38.044309%2038.044309%200%200%201%20508.849333%203.42005c100.348758%2050.568212%20179.588044%2090.581689%20408.3265%20136.266366a34.736109%2034.736109%200%200%201%2027.962173%2034.184742V447.427858c0%20382.491027-367.997957%20524.586129-441.802341%20549.161335a34.499808%2034.499808%200%200%201-11.027336%201.811634'%20fill='%23848E9C'%20p-id='17113'%3e%3c/path%3e%3c/svg%3e",Po="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070227205'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17254'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M492.307692%20301.607385c19.219692%200%2034.816%2015.596308%2034.816%2034.816v139.421538a34.816%2034.816%200%200%201-69.632%200V336.344615c0-19.219692%2015.596308-34.816%2034.816-34.816z%20m47.419077%20313.501538a46.473846%2046.473846%200%200%201-46.473846%2046.473846%2046.631385%2046.631385%200%200%201-46.710154-46.473846c0-25.6%2020.558769-46.473846%2046.237539-46.473846h0.472615a46.473846%2046.473846%200%200%201%2046.473846%2046.473846z%20m335.793231-167.699692c0%20318.857846-298.141538%20448.748308-383.212308%20479.232C407.236923%20896.157538%20109.095385%20766.267077%20109.095385%20447.409231V202.279385c203.697231-42.535385%20287.428923-81.132308%20383.92123-128.787693%2090.820923%2045.528615%20177.230769%2085.858462%20382.503385%20128.787693V447.409231z%20m41.747692-307.672616C688.443077%2093.971692%20609.201231%2053.956923%20508.691692%203.387077a38.045538%2038.045538%200%200%200-32.610461%200.630154C374.468923%2054.508308%20294.045538%2094.365538%2067.347692%20139.736615A34.816%2034.816%200%200%200%2039.384615%20173.843692V447.409231c0%20382.503385%20368.088615%20524.603077%20441.895385%20549.179077a34.422154%2034.422154%200%200%200%2022.055385%200c73.806769-24.576%20441.895385-166.675692%20441.895384-549.179077V173.843692a34.816%2034.816%200%200%200-28.041846-34.107077z'%20fill='%23FFA622'%20p-id='17255'%3e%3c/path%3e%3c/svg%3e",Uo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092276934'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18385'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M512.877714%200l23.625143%2011.849143%2023.405714%2011.556571C649.508571%2067.145143%20743.131429%20104.740571%20950.857143%20146.285714v287.085715c0%20325.12-276.333714%20487.643429-438.857143%20541.842285-162.596571-54.198857-438.857143-216.722286-438.857143-541.842285V146.285714C280.868571%20104.740571%20374.491429%2067.145143%20465.188571%2023.405714l23.698286-11.556571L512.877714%200z%20m62.025143%20221.037714a24.356571%2024.356571%200%200%200-26.843428%206.436572L304.274286%20498.395429a24.356571%2024.356571%200%200%200%2018.139428%2040.667428h111.030857V731.428571a24.356571%2024.356571%200%200%200%2042.496%2016.310858L719.798857%20476.891429a24.356571%2024.356571%200%200%200-18.139428-40.667429H590.628571v-192.365714a24.356571%2024.356571%200%200%200-15.725714-22.747429z'%20fill='%23848E9C'%20p-id='18386'%3e%3c/path%3e%3c/svg%3e",Ro="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092282851'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18527'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M513.024%20768a51.436308%2051.436308%200%200%201-51.515077-51.2c0-28.278154%2022.685538-51.2%2050.963692-51.2h0.551385a51.2%2051.2%200%201%201%200%20102.4z%20m-39.384615-409.6a38.439385%2038.439385%200%200%201%2076.72123%200v204.8a38.360615%2038.360615%200%201%201-76.8%200v-204.8z%20m530.195692%20366.119385L665.6%2092.002462c-65.536-122.643692-241.664-122.643692-307.2%200L20.164923%20724.440615c-60.100923%20112.482462%2021.504%20248.280615%20149.188923%20248.280616h685.292308c127.684923%200%20209.368615-135.798154%20149.188923-248.280616z'%20fill='%23848E9C'%20p-id='18528'%3e%3c/path%3e%3c/svg%3e",Ho="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092257447'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18243'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M577.536%20490.130286c-26.624%2017.700571-30.573714%2026.550857-30.939429%2027.428571a37.376%2037.376%200%200%201-46.738285%2022.235429%2036.059429%2036.059429%200%200%201-22.528-45.568c9.801143-29.257143%2038.765714-51.053714%2059.684571-65.097143%2031.085714-20.553143%2031.451429-41.472%2028.964572-55.369143a55.442286%2055.442286%200%200%200-43.739429-43.739429%2054.710857%2054.710857%200%200%200-65.097143%2053.906286%2036.571429%2036.571429%200%200%201-73.142857%200c0-37.814857%2016.676571-73.654857%2045.714286-98.011428%2029.037714-24.283429%2067.291429-34.523429%20105.179428-27.940572a129.097143%20129.097143%200%200%201%20103.131429%20103.131429c8.996571%2051.273143-12.507429%2097.133714-60.489143%20129.024z%20m-64.585143%20192.512a49.005714%2049.005714%200%200%201-49.005714-48.786286c0-26.916571%2021.577143-48.713143%2048.493714-48.713143h0.512a48.713143%2048.713143%200%201%201%200%2097.499429zM950.857143%20146.285714C706.998857%2097.499429%20620.397714%2054.125714%20512.877714%200%20403.602286%2054.125714%20316.928%2097.499429%2073.142857%20146.285714v287.158857c0%20325.046857%20276.333714%20487.570286%20438.857143%20541.769143%20162.523429-54.125714%20438.857143-216.722286%20438.857143-541.769143V146.285714z'%20fill='%233F80F7'%20p-id='18244'%3e%3c/path%3e%3c/svg%3e",Oo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748102247370'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20164'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M673.024%20699.221333H321.578667c-16.085333%200-29.44%209.130667-29.44%2020.48%200%2011.392%2012.970667%2020.565333%2029.44%2020.565334h351.445333c16.085333%200%2029.44-9.173333%2029.44-20.522667%200-11.392-13.354667-20.522667-29.44-20.522667z'%20fill='%23999999'%20p-id='20165'%3e%3c/path%3e%3cpath%20d='M665.6%2042.752v0.896c-3.669333%200-19.84-1.322667-60.501333-0.853333H249.045333C182.058667%2042.752%20128%2096%20128%20161.408v665.258667c0%2065.450667%2054.058667%20118.698667%20121.045333%20118.698666h537.557334c66.986667%200%20121.045333-53.248%20121.045333-118.698666V280.149333L665.6%2042.794667z%20m183.338667%20239.232l-123.306667-1.792h4.181333c-28.16%200-67.882667-26.666667-67.882666-59.136l-0.938667-122.794667%20187.946667%20183.722667z%20m6.485333%20553.301333c0%2033.408-27.690667%2060.928-61.866667%2060.928H242.090667c-34.218667%200-61.866667-27.093333-61.866667-60.928V153.344c0-33.408%2027.648-60.928%2061.866667-60.928h363.946666c-0.341333%2040.448%200%2080.938667%200.896%20121.429333%200%2067.242667%2055.466667%20121.386667%20124.245334%20121.386667h124.245333v500.053333z'%20fill='%23999999'%20p-id='20166'%3e%3c/path%3e%3cpath%20d='M673.024%20495.573333H321.578667c-16.085333%200-29.44%208.832-29.44%2019.712%200%2010.965333%2012.970667%2019.797333%2029.44%2019.797334h351.445333c16.085333%200%2029.44-8.832%2029.44-19.797334%200-10.88-13.354667-19.712-29.44-19.712z%20m-144.213333-165.674666H310.442667c-10.368%200-18.346667%208.832-18.346667%2019.797333%200%2010.922667%208.021333%2019.712%2018.304%2019.712h218.325333c10.24%200%2018.346667-8.789333%2018.346667-19.712%200-10.965333-8.106667-19.797333-18.346667-19.797333z'%20fill='%23999999'%20p-id='20167'%3e%3c/path%3e%3c/svg%3e",jo=""+new URL("unlock.CdYdhxfn.png",import.meta.url).href,zo={class:"code-block"},Wo={class:"flex-end"},qo={key:0,class:"code-scroll"},Go=t({__name:"code",props:{code:{},show:{type:Boolean}},setup(e){M(D);const l=e,a=P(null),t=()=>{a.value&&D.highlightBlock(a.value)};return i(()=>{t()}),r(()=>l.code,async()=>{await E(),t()}),(e,t)=>{const n=b,o=c("copy");return f(),_("div",zo,[x("div",Wo,[g(C(n,{name:"bxs:copy",class:"clickable text-14px color-[--third-text]"},null,512),[[o,l.code]])]),l.show?(f(),_("div",qo,[x("pre",null,[t[0]||(t[0]=N("        ",-1)),x("code",{ref_key:"codeEl",ref:a,class:"language-solidity"},k(l.code),513),t[1]||(t[1]=N("\n      ",-1))])])):m("",!0)])}}}),Yo=B(Go,[["__scopeId","data-v-8bbc1d4b"]]),Qo={class:"AI"},Ko={key:0,class:"mt-20px"},Xo={class:"title"},Zo={class:"mt-10px relative text-wrapper"},Jo={key:1,class:"mt-20px"},es={class:"title"},ls={class:"mt-10px"},as={class:"tax"},ts={key:0},ns={key:1},os={key:2},ss={key:3},is={key:4},rs={key:2,class:"mt-20px"},us={class:"flex-between"},ds={class:"title"},cs={class:"card-t"},vs={class:"mt-10px"},ms={class:"flex-start"},ps={style:{width:"20px"}},fs=["src"],hs={class:"color-999 text-12px"},xs={key:3,class:"mt-20px"},gs={class:"title"},ks={class:"mt-10px color-999 text-12px"},bs=t({__name:"ai",props:{obj:{},riskList:{}},setup(e){var l;const a=e,t=U(),n=u(()=>t.lang),o=u(()=>"zh-cn"===n.value||"zh-tw"===n.value),s={1:"normal1",0:"normal1","-1":"normal-half","-2":"warning1","-3":"danger1"},r=P(!1),d=P(!1),c=P(null),h=P((null==(l=a.riskList)?void 0:l.map(e=>e.risk_level<-1))||[]),g=u(()=>o.value?a.obj.mechanism_zh||"":a.obj.mechanism_en||""),T=u(()=>{var e;return(null==(e=a.obj.ownerControl)?void 0:e.join("、"))||""}),C=()=>{r.value=!r.value},S=()=>{E(()=>{const e=c.value;if(!e)return;const l=3*parseFloat(getComputedStyle(e).lineHeight);d.value=e.scrollHeight>l+1})};function $(e){var l;const a=Object.assign({"/assets/images/check-danger1.svg":Bo,"/assets/images/check-normal-half.svg":Mo,"/assets/images/check-normal1.svg":Do,"/assets/images/check-unknownRisk1.svg":Eo,"/assets/images/check-warning1.svg":Po});return(null==(l=Object.entries(a).find(([l])=>l.endsWith(`check-${e}.svg`)))?void 0:l[1])||""}return i(()=>{S(),window.addEventListener("resize",S)}),R(()=>{window.removeEventListener("resize",S)}),(l,t)=>{var n,i,u,S,L;const V=b;return f(),_("div",Qo,[p(g)?(f(),_("div",Ko,[x("span",Xo,k(l.$t("AIOverview")),1),x("div",Zo,[x("div",{ref_key:"textEl",ref:c,class:I([{collapsed:!p(r)},"text"])},k(p(g)),3),p(d)?(f(),_("a",{key:0,href:"",onClick:F(C,["stop","prevent"]),class:"toggle-btn"},k(p(r)?l.$t("Collapse"):l.$t("Expand")),1)):m("",!0)])])):m("",!0),a.obj.fee_structure?(f(),_("div",Jo,[x("span",es,k(l.$t("AITax")),1),x("div",ls,[x("ul",as,[a.obj.fee_structure.buy_fee?(f(),_("li",ts,[x("span",null,k(l.$t("buyTax"))+"：",1),N(k(a.obj.fee_structure.buy_fee),1)])):m("",!0),a.obj.fee_structure.sell_fee?(f(),_("li",ns,[x("span",null,k(l.$t("sellTax"))+"：",1),N(k(a.obj.fee_structure.sell_fee),1)])):m("",!0),a.obj.fee_structure.transfer_fee?(f(),_("li",os,[x("span",null,k(l.$t("TransferTax"))+"：",1),N(k(a.obj.fee_structure.transfer_fee),1)])):m("",!0),a.obj.fee_structure.max_tx_amount?(f(),_("li",ss,[x("span",null,k(l.$t("MaxTxAmount"))+"：",1),N(k(a.obj.fee_structure.max_tx_amount),1)])):m("",!0),a.obj.fee_structure.max_wallet_amount?(f(),_("li",is,[x("span",null,k(l.$t("MaxWalletAmount"))+"：",1),N(k(a.obj.fee_structure.max_wallet_amount),1)])):m("",!0)])])])):m("",!0),(null==(n=a.riskList)?void 0:n.length)>0?(f(),_("div",rs,[x("div",us,[x("span",ds,k(l.$t("AIRiskCheck")),1),x("span",cs,[x("span",{class:I((null==(i=e.riskList.filter(e=>-3===(null==e?void 0:e.risk_level)))?void 0:i.length)>0?"red":"")},k((null==(u=e.riskList.filter(e=>-3===(null==e?void 0:e.risk_level)))?void 0:u.length)||0),3),N(" /"+k(e.riskList.length),1)])]),x("ul",vs,[(f(!0),_(y,null,w(e.riskList,(e,a)=>(f(),_("li",{key:a,class:"card-list-item"},[x("div",ms,[x("div",ps,[x("img",{class:"align-middle",src:$(s[e.risk_level]),width:"12px",alt:""},null,8,fs)]),x("div",null,[x("span",{class:"risk-message",style:A({color:-3==(null==e?void 0:e.risk_level)?"var(--main-text)":"var(--secondary-text)"})},k(p(o)?e.name_zh||"":e.name_en||"")+" "+k(1===(null==e?void 0:e.risk_removed)?`(${l.$t("riskRemoved")})`:""),5)]),t[0]||(t[0]=x("span",{style:{flex:"1"}},null,-1)),e.code_snippet?(f(),_(y,{key:0},[p(h)[a]?(f(),v(V,{key:0,class:"ml-5 text-14px",name:"material-symbols:keyboard-arrow-down-rounded",color:"#999",onClick:e=>p(h)[a]=!p(h)[a]},null,8,["onClick"])):(f(),v(V,{key:1,class:"ml-5 text-14px",name:"material-symbols:keyboard-arrow-up-rounded",color:"#999",onClick:e=>p(h)[a]=!p(h)[a]},null,8,["onClick"]))],64)):m("",!0)]),p(h)[a]?(f(),_(y,{key:0},[e.code_snippet?(f(),v(Yo,{key:0,code:e.code_snippet,show:p(h)[a],language:"solidity"},null,8,["code","show"])):m("",!0),x("div",hs,k(p(o)?e.description_zh||"":e.description_en||""),1)],64)):m("",!0)]))),128))])])):m("",!0),p(T)?(f(),_("div",xs,[x("span",gs,[N(k(l.$t("AIAdmin"))+" ",1),1===(null==(L=null==(S=a.obj)?void 0:S.summary)?void 0:L.is_owner_renounced)?(f(),_(y,{key:0},[N(" ("+k(l.$t("Renounced"))+") ",1)],64)):m("",!0)]),x("div",ks,k(p(T)),1)])):m("",!0)])}}}),_s=B(bs,[["__scopeId","data-v-66cd7ac5"]]),ys={class:"check-container bg-[--dialog-bg] color-[--main-text]"},ws={class:"flex items-center justify-between text-20px p-20px sticky top-0 bg-[--dialog-bg] z-1"},Ts={key:0,class:"flex-start"},Cs={key:1},As={class:"check-content"},Ss={class:"flex-center width_100"},Ns={class:"audit-progress relative"},$s={key:0,class:"danbao-bg-absolute"},Fs={class:"danbao-bg"},Is=["href"],Ls={class:"audit-bg"},Vs={key:0,class:"risk-statics"},Bs={class:"item1"},Ms={key:0,height:16,src:bn},Ds={key:1,height:16,src:Uo},Es={class:"num"},Ps={class:"item1"},Us={key:0,src:_n,height:16},Rs={key:1,height:16,src:Ro},Hs={class:"num"},Os={class:"item1"},js={key:0,height:16,src:Ho},zs={key:1,height:16,src:yn},Ws={class:"num"},qs={key:1,class:"risk-statics"},Gs={class:"item1"},Ys={key:0,height:16,src:bn},Qs={key:1,height:16,src:Uo},Ks={class:"num"},Xs={class:"item1"},Zs={key:0,src:_n,height:16},Js={key:1,height:16,src:Ro},ei={class:"num"},li={class:"item1"},ai={key:0,height:16,src:Ho},ti={key:1,height:16,src:yn},ni={class:"num"},oi={class:"card card1"},si={key:0,class:"card-list-item flex-start hover"},ii={class:"inline-flex items-center color-[currentColor]"},ri=["src"],ui={class:"color-[--secondary-text] ml-5px"},di=["src"],ci={key:1,class:"remark"},vi={class:"card basic"},mi={class:"flex items-start justify-between"},pi={class:"flex-1 pr-15px border-r border-[#97979733]"},fi={key:0,class:"py-5px"},hi={class:"ml-15px"},xi={key:0,class:"card-list-item in"},gi={class:"gray"},ki={key:1,class:"card-list-item in"},bi={class:"gray"},_i={key:2,class:"card-list-item in"},yi={class:"gray"},wi={key:3,class:"card-list-item in"},Ti={class:"gray"},Ci={key:4,class:"card-list-item in"},Ai={class:"gray"},Si={key:5,class:"card-list-item in"},Ni={class:"gray"},$i={key:6,class:"card-list-item in"},Fi={class:"gray"},Ii={key:7,class:"card-list-item in"},Li={class:"gray"},Vi={style:{flex:"1"}},Bi={key:0,class:"py-5px"},Mi={class:"indent"},Di={key:0,class:"card-list-item in"},Ei={class:"gray"},Pi={key:1,class:"card-list-item in"},Ui={class:"gray"},Ri={key:2,class:"card-list-item in"},Hi={class:"gray"},Oi={key:3,class:"card-list-item in"},ji={class:"gray"},zi={key:4,class:"card-list-item in"},Wi={class:"gray"},qi={key:5,class:"card-list-item in"},Gi={class:"gray"},Yi={key:6,class:"card-list-item in"},Qi={class:"gray"},Ki={key:7,class:"card-list-item in"},Xi={class:"gray"},Zi={key:0,class:"flex justify-between mt-10px"},Ji={class:"flex-1 mr-5px pr-5px border-r border-[#97979733]"},er={key:0,class:"card-list-item in"},lr={key:1,class:"card-list-item in"},ar={class:"danger"},tr={style:{flex:"1"}},nr={key:0,class:"card-list-item in"},or={key:1,class:"card-list-item in"},sr={class:"danger"},ir={key:1,class:"mt-10px"},rr={key:0,class:"card-list-item cursor"},ur={key:1,class:"card-list-item"},dr={class:"danger"},cr={key:2,class:"card-list-item"},vr=["href"],mr={key:3,class:"card-list-item"},pr={class:"flex items-center"},fr=["href"],hr={key:4,class:"card-list-item"},xr={class:"flex items-center"},gr=["href"],kr={key:5,class:"card-list-item"},br=["href"],_r={key:6,class:"card-list-item"},yr={key:7,class:"card-list-item"},wr={key:8,class:"card-list-item"},Tr={style:{"word-break":"keep-all"}},Cr=["innerHTML"],Ar={class:"text-14px mt-10px"},Sr={class:"card card1"},Nr={class:"flex-s"},$r={class:"label"},Fr={class:"range-text"},Ir={class:"flex-s flex items-center"},Lr={class:"label"},Vr={class:"range-text"},Br={class:"range"},Mr={class:"mt-10px"},Dr=["href"],Er={key:2,src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748102199171'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20007'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M694.0672%2051.2l0.512%200.512a136.5504%20136.5504%200%200%201%2084.992%2039.4752l102.0416%20102.0928c22.8864%2022.8352%2036.8128%2052.992%2039.4752%2084.992l0.512%200.512V824.832a136.5504%20136.5504%200%200%201-136.5504%20136.5504H238.9504A136.5504%20136.5504%200%200%201%20102.4%20824.832V187.7504A136.5504%20136.5504%200%200%201%20238.9504%2051.2h455.1168z%20m-45.568%2091.0336h-409.6a45.5168%2045.5168%200%200%200-45.4656%2045.5168V824.832c0%2025.1392%2020.3776%2045.5168%2045.5168%2045.5168h546.0992c25.1392%200%2045.568-20.3776%2045.568-45.5168V324.2496h-91.0848a91.0336%2091.0336%200%200%201-90.9824-90.9824V142.2336z'%20fill='%23F57559'%20p-id='20008'%3e%3c/path%3e%3cpath%20d='M300.3904%20384.8192H401.408v223.8976h83.7632v79.616h-184.832zM607.488%20384.8192c19.456%200%2037.5808%202.0992%2054.3744%206.3488%2016.896%204.2496%2031.5904%2010.9056%2044.1856%2020.0192%2012.5952%209.1136%2022.528%2020.992%2029.7984%2035.7376%207.2704%2014.6944%2010.9056%2032.512%2010.9056%2053.4528%200%2020.992-3.584%2038.7584-10.9056%2053.504-7.2704%2014.6944-17.2032%2026.624-29.7984%2035.7376a127.8976%20127.8976%200%200%201-44.1856%2019.968%20221.8496%20221.8496%200%200%201-54.3744%206.4v72.3456H510.5664V384.8192h96.9216z%20m4.096%2081.92h-4.096v67.328h4.096c12.8%200%2021.9136-2.9696%2027.5456-8.8576%205.632-5.9392%208.3968-14.1824%208.3968-24.832%200-10.5984-2.7648-18.8928-8.3968-24.7808-5.632-5.9392-14.7968-8.8576-27.5456-8.8576z'%20fill='%23F57559'%20p-id='20009'%3e%3c/path%3e%3c/svg%3e",width:12,alt:""},Pr={key:3,src:Oo,width:12,alt:""},Ur={class:"flex items-center"},Rr={key:0,class:"color-[--third-text]"},Hr={key:0,class:"table-lock"},Or={key:0},jr={key:1},zr={key:2},Wr={key:0,class:"remark"},qr={class:"text-14px"},Gr={class:"card card1"},Yr={class:"flex-s"},Qr={class:"label"},Kr={class:"range-text"},Xr={class:"flex-s flex items-center"},Zr={class:"label mr-auto"},Jr={class:"range-text"},eu={class:"range"},lu={class:"mt-10px"},au=["href"],tu={key:0,style:{height:"15px"},src:jo,alt:"",srcset:""},nu={key:2,src:Oo,width:12,alt:""},ou={class:"flex items-center"},su={key:0,class:"color-[--third-text]"},iu={key:0,class:"table-lock"},ru={key:0},uu={key:1},du={key:2},cu={class:"risk-addition"},vu={key:0,class:"warning"},mu={key:1,class:"warning"},pu={key:2,class:"warning"},fu={key:3,class:"warning"},hu={key:4,class:"warning"},xu={key:5,class:"warning"},gu={key:6,class:"warning"},ku={key:0,class:"remark"},bu={key:0,class:"text-12px"},_u={key:1,class:"card card1"},yu=["onClick"],wu={class:"top"},Tu={class:"ellipsis"},Cu={class:"color-777e90"},Au={class:"color-777e90 date"},Su={key:0,class:"bottom"},Nu={class:"color-777e90 van-ellipsis"},$u={key:0,class:"color-777e90",style:{color:"#f6465d"}},Fu={key:1,class:"color-777e90 flex",style:{color:"#ff9f00"}},Iu={key:2,class:"color-777e90"},Lu={key:1,class:"color-777e90"},Vu={key:2,class:"color-777e90"},Bu={key:0,class:"block ml_10"},Mu={key:3,class:"color-777e90"},Du={class:"card card1 simulate"},Eu={class:"text-14px"},Pu={class:"rd-4px"},Uu={class:"block color-[--third-text]"},Ru={class:"block"},Hu={class:"block color-[--third-text]"},Ou={class:"block"},ju={class:"block"},zu={class:"color-[--third-text]"},Wu={colspan:"3",class:"tl"},qu={class:"color-[--third-text]"},Gu={class:"color-[--third-text]"},Yu={class:"color-[--third-text]"},Qu={class:"risk-addition"},Ku={class:"card card1"},Xu={class:"text-14px"},Zu={class:"community-container mt-20px"},Ju={class:"thumbs-label"},ed={class:"range-container"},ld={class:"range"},ad={class:"range-label"},td={class:"thumbs-label"},nd={class:"remark",style:{"padding-top":"0.2rem"}},od=B(t({__name:"check",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const a=H(),t=O(),T=j(),{checkResult:S,showResult:$,hasLpLock:V,progress:B}=z(In()),M=In(),{t:D}=n(),E=W(),P=o(),U=l,R=d(!1),ne=d(!0),oe=d(!0),se={0:"normal1",.5:"normal1",.6:"unknownRisk1",1:"warning1",2:"danger1"},ie=d(!1),re=u(()=>{var e,l;return[{name:D("holders1"),id:1},{name:D("poolInfo"),id:2},...(null==(l=null==(e=null==S?void 0:S.value)?void 0:e.owner_txs)?void 0:l.length)?[{name:D("ownerTxs"),id:3}]:[]]}),ue=u({get:()=>e.modelValue,set(e){U("update:modelValue",e)}}),de=u(()=>{var e,l;let a=(null==(l=null==(e=S.value)?void 0:e.ai_report)?void 0:l.risk)||[];return a=null==a?void 0:a.map(e=>({...e,risk_level:1==e.risk_removed?"1":null==e?void 0:e.risk_level})),a}),ce=u(()=>{var e,l,a,t,n,o,s,i,r,u,d;return!((null==(e=null==S?void 0:S.value)?void 0:e.owner)&&!(null==(a=null==(l=null==S?void 0:S.value)?void 0:l.owner)?void 0:a.startsWith("0x00000"))&&!(null==(n=null==(t=null==S?void 0:S.value)?void 0:t.owner)?void 0:n.startsWith("T9yD14Nj9j7x"))&&"Contract"!==(null==(o=null==S?void 0:S.value)?void 0:o.owner_type)||null!=(null==(s=null==S?void 0:S.value)?void 0:s.can_take_back_ownership)&&"0"!==(null==(i=null==S?void 0:S.value)?void 0:i.can_take_back_ownership)||null!=(null==(r=null==S?void 0:S.value)?void 0:r.hidden_owner)&&"1"===(null==(u=null==S?void 0:S.value)?void 0:u.hidden_owner)||""===(null==(d=null==S?void 0:S.value)?void 0:d.owner))}),ve=u(()=>(null==S?void 0:S.value)&&function(e){var l,a,t,n;if(!$||!(null==e?void 0:e.risk_score))return[];const o=[],s={"-1":D("noLookLike"),0:D("checkFailed"),1:D("isHoneypot")};let i=0;i=0===e.is_honeypot?1:1===e.is_honeypot?2:0;void 0!==e.is_honeypot&&o.push([i,s[e.is_honeypot]]);const r=0===e.has_code?2:0,u=0===e.has_code?D("open-source"):D("openSource");void 0!==e.has_code&&"solana"!==(null==e?void 0:e.chain)&&o.push([r,u]);const d="1"===e.owner_change_balance?2:0,c="1"===e.owner_change_balance?D("ownerChangeBalance"):D("ownerNoChangeBalance");void 0!==e.owner_change_balance&&o.push([d,c]);let v="1"===e.is_proxy?2:0,m="1"===e.is_proxy?D("isProxy"):D("isNotProxy");2===v&&ce&&(1===e.has_owner_removed_risk?(v=.5,m=D("hasNoAuth")+D("isProxyNoAuth")):v=.6);void 0!==e.is_proxy&&o.push([v,m]);let p=1===(null==e?void 0:e.slippage_modifiable)?1:0,f=1===e.slippage_modifiable?D("slippageModifiable"):D("noSlippageModifiable");1===p&&ce&&(1===e.has_owner_removed_risk?(p=.5,f=D("hasNoAuth")+D("noSlippageModifiable")):p=.6);void 0!==e.slippage_modifiable&&o.push([p,f]);let h=1===e.has_white_method?1:0,x=1===e.has_white_method?D("whitelist"):D("noWhitelist");h>0&&ce&&(1===e.has_owner_removed_risk?(h=.5,x=D("hasNoAuth")+D("whitelistNoAuth")):h=.6);void 0!==e.has_white_method&&o.push([h,x]);let g=1===e.has_black_method?1:0,k=1===e.has_black_method?D("blacklist"):D("noBlacklist");g>0&&ce&&(1===e.has_owner_removed_risk?(g=.5,k=D("hasNoAuth")+D("blacklistNoAuth")):g=.6);void 0!==e.has_black_method&&o.push([g,k]);if(""!==e.owner&&"-"!==e.owner){const l=ce.value?0:1,a=ce.value?D("dropContractAuth1"):D("dropContractAuth");(null==e?void 0:e.audit_pass_by)&&!ce||o.push([l,a])}let b=1===e.has_mint_method?1:0,_=1===e.has_mint_method?D("canMint"):D("canNotMint");b>0&&ce&&(1===e.has_owner_removed_risk?(b=.5,_=D("hasNoAuth")+D("canNotMint")):b=.6);void 0!==e.has_mint_method&&o.push([b,_]);const y=V?0:1,w=D(V?"hasLpLock":"hasNoLpLock");void 0!==e.hasLpLock&&o.push([y,w]);const T="1"===e.can_take_back_ownership?1:0,C="1"===e.can_take_back_ownership?D("canTakeBackOwnership"):D("canNotTakeBackOwnership");void 0!==e.can_take_back_ownership&&o.push([T,C]);const A="1"===e.trading_cooldown?1:0,S="1"===e.trading_cooldown?D("tradingCoolDown"):D("noTradingCoolDown");void 0!==e.trading_cooldown&&o.push([A,S]);"1"===e.hidden_owner&&o.push([2,D("hasHiddenOwner")]);e.other_potential_risks&&o.push([1,e.other_potential_risks]);e.note&&o.push([1,e.note]);"1"===e.external_call&&o.push([2,D("externalCall")]);e.is_safu_contract&&o.push([0,D("isSafuContract")]);(null==e?void 0:e.is_recidivist)>=1&&o.push([2,D("isRecidivist")]);1==(null==e?void 0:e.has_malicious_code)&&o.push([2,D("has_malicious_code")]);1==(null==e?void 0:e.has_sell_max_limit)&&o.push([.6,D("has_sell_max_limit")]);1===(null==e?void 0:e.can_remove_liqudity)&&o.push([2,D("can_remove_liqudity")]);!(null==e?void 0:e.liquidity_provider)||Number(null==e?void 0:e.pair_lock_percent)||(null==(a=null==(l=null==e?void 0:e.liquidity_provider)?void 0:l.startsWith)?void 0:a.call(l,"0x00000"))||(null==(n=null==(t=null==e?void 0:e.liquidity_provider)?void 0:t.startsWith)?void 0:n.call(t,"T9yD14Nj9j7x"))||o.push([1,D("liquidity_provider")]);"solana"==(null==e?void 0:e.chain)&&(1===(null==e?void 0:e.has_top10_holder_amount_over_30)&&o.push([2,D("has_top10_holder_amount_over_30")]),0===(null==e?void 0:e.has_top10_holder_amount_over_30)&&o.push([0,D("has_top10_holder_amount_lt_30")]),1===(null==e?void 0:e.has_not_burned_lp)&&o.push([1,D("has_not_burned_lp")]),0===(null==e?void 0:e.has_not_burned_lp)&&o.push([0,D("has_burned_lp")]));1===e.is_low_liquidity&&o.push([1,D("is_low_liquidity")]);return o.sort((e,l)=>l[0]-e[0])}(S.value)||[]),me=u(()=>{var e,l;return(null==(e=null==S?void 0:S.value)?void 0:e.ave_remarks)?JSON.parse(null==(l=null==S?void 0:S.value)?void 0:l.ave_remarks):{}}),pe=u(()=>(null==me?void 0:me.value.lp_remark)||""),fe=u(()=>(null==me?void 0:me.value.holder_remark)||""),he=u(()=>(null==me?void 0:me.value.risk_remark)||""),xe=u(()=>{var e,l;const a=((null==(e=null==S?void 0:S.value)?void 0:e.token_holders_rank)||[]).reduce((e,l)=>e+Number(l.quantity),0)/Number(null==(l=null==S?void 0:S.value)?void 0:l.total);return[{name:"tokenHolders",value:a},{name:"default",value:1-a}]}),ge=u(()=>{var e,l;return(null==(l=null==(e=null==xe?void 0:xe.value)?void 0:e[0])?void 0:l.value)||0}),ke=u(()=>{var e;const l=((null==(e=null==S?void 0:S.value)?void 0:e.pair_holders_rank)||[]).reduce((e,l)=>{var a;let t=0;return $e(l)&&(t=Number(null==l?void 0:l.percent)||Number(null==l?void 0:l.quantity)/((null==(a=null==S?void 0:S.value)?void 0:a.pair_total)??1)),e+t},0);return[{name:"pairHolders",value:l},{name:"default",value:1-l}]}),be=u(()=>{var e,l;return(null==(l=null==(e=null==ke?void 0:ke.value)?void 0:e[0])?void 0:l.value)||0}),_e=u(()=>{var e,l,a,t,n,o;const s=[];return((null==(l=null==(e=null==S?void 0:S.value)?void 0:e.holder_analysis)?void 0:l.sell_failure)??0)>0&&1==(null==(a=null==S?void 0:S.value)?void 0:a.some_users_are_blocked)&&s.push([2,D("some_users_are_blocked")]),((null==(n=null==(t=null==S?void 0:S.value)?void 0:t.holder_analysis)?void 0:n.balance_disappeared)??0)>0&&1==(null==(o=null==S?void 0:S.value)?void 0:o.some_users_balance_are_tampered)&&s.push([1,D("some_users_balance_are_tampered")]),s}),ye=u(()=>{var e,l,a,t;let n=(null==(l=null==(e=null==ve?void 0:ve.value)?void 0:e.filter(e=>2==e[0]))?void 0:l.length)||0;return(null==_e?void 0:_e.value)&&(null==(a=null==_e?void 0:_e.value)||a.forEach(e=>{2==e[0]&&(n+=1)})),(null==(t=null==S?void 0:S.value)?void 0:t.audit_pass_by)?0:n}),we=u(()=>function(e){const l=[];"1"===(null==e?void 0:e.is_anti_whale)&&l.push(D("isAntiWhale"));"1"===(null==e?void 0:e.anti_whale_modifiable)&&l.push(D("antiWhaleModifiable"));"1"===(null==e?void 0:e.cannot_sell_all)&&l.push(D("cannotSellAll"));((null==e?void 0:e.wallet_count_24h_buy)&&((null==e?void 0:e.wallet_count_24h_buy)||0)<10||(null==e?void 0:e.wallet_count_24h_sell)&&((null==e?void 0:e.wallet_count_24h_sell)||0)<10)&&l.push(D("txNoActive"));((null==e?void 0:e.wallet_count_24h_sell)&&((null==e?void 0:e.wallet_count_24h_buy)||0)/(null==e?void 0:e.wallet_count_24h_sell)>8||!(null==e?void 0:e.wallet_count_24h_sell)&&(null==e?void 0:e.wallet_count_24h_buy))&&l.push(D("highBuyLowSell"));(null==e?void 0:e.vol_24h_top100)&&Number((null==e?void 0:e.vol_24h_top10)||0)/(null==e?void 0:e.vol_24h_top100)>.75&&l.push(D("volumeConcentrated"));const a=(null==e?void 0:e.vote_support)||0,t=(null==e?void 0:e.vote_against)||0;a+t>30&&t/(t+a)>.7&&l.push(D("lowCommunityScore"));"1"===(null==e?void 0:e.personal_slippage_modifiable)&&l.push(D("personalSlippageModifiable"));"1"===(null==e?void 0:e.selfdestruct)&&l.push(D("selfdeStruct"));return l}((null==S?void 0:S.value)??void 0)||[]),Te=u(()=>{var e,l,a,t,n,o,s,i,r,u,d,c;let v=we.value.length;return Number(null==(e=null==S?void 0:S.value)?void 0:e.sell_gas)>=.1&&"#f81111"===Q(Number(null==(l=null==S?void 0:S.value)?void 0:l.sell_gas),null==(a=null==S?void 0:S.value)?void 0:a.chain)&&(v+=1),Number(null==(t=null==S?void 0:S.value)?void 0:t.buy_gas)>=.1&&"#f81111"===Q(Number(null==(n=null==S?void 0:S.value)?void 0:n.buy_gas),null==(o=null==S?void 0:S.value)?void 0:o.chain)&&(v+=1),Number(null==(s=null==S?void 0:S.value)?void 0:s.approve_gas)>=.1&&"#f81111"===Q(Number(null==(i=null==S?void 0:S.value)?void 0:i.approve_gas),null==(r=null==S?void 0:S.value)?void 0:r.chain)&&(v+=1),v+=null==(d=null==(u=null==ve?void 0:ve.value)?void 0:u.filter(e=>.6==e[0]))?void 0:d.length,(null==(c=null==S?void 0:S.value)?void 0:c.audit_pass_by)?0:v}),Ce=u(()=>{var e,l,a,t,n,o,s,i,r,u,d,c,v,m;let p=0;return Number((null==(e=null==S?void 0:S.value)?void 0:e.analysis_creator_gt_5percent)||0)>5&&(p+=1),"1"===(null==(l=null==S?void 0:S.value)?void 0:l.analysis_scam_wallet)&&(p+=1),Number((null==(a=null==S?void 0:S.value)?void 0:a.analysis_lp_creator_gt_5percent)||0)>5&&(p+=1),"1"===(null==(t=null==S?void 0:S.value)?void 0:t.analysis_big_wallet)&&(p+=1),(null==(n=null==S?void 0:S.value)?void 0:n.analysis_lp_locked_or_burned_gt_15days)&&Number(null==(o=null==S?void 0:S.value)?void 0:o.analysis_lp_locked_or_burned_gt_15days)<50&&(p+=1),(null==(s=null==S?void 0:S.value)?void 0:s.analysis_lp_current_adequate)&&"0"==(null==(i=null==S?void 0:S.value)?void 0:i.analysis_lp_current_adequate)&&(p+=1),(null==(r=null==S?void 0:S.value)?void 0:r.big_lp_without_any_lock)&&1==(null==(u=null==S?void 0:S.value)?void 0:u.big_lp_without_any_lock)&&(p+=1),p+=null==(c=null==(d=null==ve?void 0:ve.value)?void 0:d.filter(e=>1==e[0]))?void 0:c.length,(null==_e?void 0:_e.value)&&(null==(v=null==_e?void 0:_e.value)||v.forEach(e=>{1==e[0]&&(p+=1)})),(null==(m=null==S?void 0:S.value)?void 0:m.audit_pass_by)?0:p}),Ae=u(()=>{var e;const l=s(P.params.id);return(null==l?void 0:l.chain)||(null==(e=a.token)?void 0:e.chain)||""}),Se=u(()=>{var e,l;if(t.evmAddress){const a=null==(l=null==(e=t.userInfo)?void 0:e.addresses)?void 0:l.find(e=>e.chain==Ae.value);return a?a.address:null==t?void 0:t.evmAddress}return(null==T?void 0:T.address)||""});function Ne(e){var l;const a=Object.assign({"/assets/images/check-danger1.svg":Bo,"/assets/images/check-normal-half.svg":Mo,"/assets/images/check-normal1.svg":Do,"/assets/images/check-unknownRisk1.svg":Eo,"/assets/images/check-warning1.svg":Po});return(null==(l=Object.entries(a).find(([l])=>l.endsWith(`check-${e}.svg`)))?void 0:l[1])||""}function $e(e){return(null==e?void 0:e.lock)||/lock|null|(black hole)/gi.test((null==e?void 0:e.mark)||"")}function Fe(e){let{vote_support:l=0,vote_against:a=0}=e??{};if(l=l||0,a=a||0,0===l&&0===a)return[0,0,0];const t=l+a;return[l/t||0,a/t,t||0]}function Ie(e){let{vote_support:l=0,vote_against:a=0}=e??{};if(l=l||0,a=a||0,0===l&&0===a)return[.5,.5,0];const t=l+a;return[l/t||0,a/t,t||0]}function Le(){var e;if(q().currentAddress||O().changeConnectVisible(!0),0!==(null==(e=null==S?void 0:S.value)?void 0:e.my_vote))return void ae.error(D("voted"));te.confirm(D("voteTips"),{confirmButtonText:D("confirm1"),cancelButtonText:D("cancel"),type:"warning"}).then(()=>{(()=>{const e=P.params.id;ie.value=!0,Vn(e,Se.value).then(()=>{var e;0===(null==(e=null==S?void 0:S.value)?void 0:e.my_vote)?ae.success(D("voteSuccess")):ae.success(D("success")),Be()}).catch(e=>{ae.error(e.message||e)}).finally(()=>{ie.value=!1})})()}).catch(()=>{})}function Ve(){var e;if(q().currentAddress||O().changeConnectVisible(!0),0!==(null==(e=null==S?void 0:S.value)?void 0:e.my_vote))return void ae.error(D("voted"));te.confirm(D("voteTips"),{confirmButtonText:D("confirm1"),cancelButtonText:D("cancel"),type:"warning"}).then(()=>{(()=>{const e=P.params.id;ie.value=!0,Bn(e,Se.value).then(()=>{var e;0===(null==(e=null==S?void 0:S.value)?void 0:e.my_vote)?ae.success(D("voteSuccess")):ae.success(D("success")),Be()}).catch(e=>{ae.error(e.message||e)}).finally(()=>{ie.value=!1})})()}).catch(()=>{})}function Be(){if(!ue.value||!q().currentAddress)return;const e=P.params.id;Ln(e,Se.value).then(e=>{Object.keys(e).forEach(l=>{S.value&&(S.value[l]=e[l])})})}return r(ye,e=>{M.statistics_risk_store=e}),r(Ce,e=>{M.statistics_warning_store=e}),r(Te,e=>{M.statistics_unknown_store=e}),r(()=>ue.value,e=>{e&&Be()}),i(()=>{Be()}),r(()=>q().currentAddress,()=>{Be()}),(e,l)=>{const a=b,t=Cn,n=Nn,o=hn,s=Z,i=Sn,r=wn,u=le,d=c("tooltip"),T=c("copy");return p(ue)?(f(),v(u,{key:0,modelValue:p(ue),"onUpdate:modelValue":l[6]||(l[6]=e=>L(ue)?ue.value=e:null),"append-to-body":"","with-header":!1,size:480,"destroy-on-close":"",class:"draw-right"},{default:h(()=>{var u;return[x("div",ys,[x("div",ws,[(null==(u=p(S))?void 0:u.ai_report)?(f(),_("div",Ts,[l[7]||(l[7]=x("img",{src:"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.0002%200C10.3036%203.65386e-05%2010.5959%200.112414%2010.8206%200.314453C11.0451%200.516434%2011.1865%200.793616%2011.2161%201.09277C11.2456%201.3921%2011.1617%201.69223%2010.9807%201.93359C10.7997%202.17496%2010.5342%202.3412%2010.2366%202.39941V3.52148C12.2395%203.58399%2014.1592%204.4363%2015.6653%205.94336C17.3937%207.66451%2018.363%209.99524%2018.3596%2012.4238L18.3538%2014.1523C18.3413%2017.9779%2015.584%2020%2010.3801%2020H9.62622C4.42243%2020%201.6652%2017.9779%201.65259%2014.1523L1.64673%2012.4229C1.64351%209.99465%202.61196%207.6642%204.34009%205.94336C5.84483%204.43792%207.76316%203.58476%209.76392%203.52148V2.39941C9.46629%202.34121%209.2008%202.17491%209.01978%201.93359C8.83875%201.69222%208.75492%201.39212%208.78442%201.09277C8.81399%200.793794%208.95461%200.516399%209.17896%200.314453C9.40368%200.112381%209.69684%200%2010.0002%200ZM9.81567%2015.9561C9.63227%2015.9922%209.46354%2016.0808%209.3313%2016.2119C9.19904%2016.343%209.109%2016.5105%209.07251%2016.6924C9.03611%2016.874%209.05482%2017.0623%209.12622%2017.2334C9.1978%2017.4047%209.31934%2017.5513%209.47485%2017.6543C9.63037%2017.7573%209.81321%2017.8125%2010.0002%2017.8125C10.251%2017.8125%2010.4919%2017.7139%2010.6692%2017.5381C10.8465%2017.3623%2010.9456%2017.1236%2010.9456%2016.875C10.9455%2016.6897%2010.8902%2016.5086%2010.7864%2016.3545C10.6825%2016.2003%2010.5344%2016.0797%2010.3616%2016.0088C10.1889%2015.938%209.99897%2015.9199%209.81567%2015.9561ZM10.0002%205.78125C6.14201%205.78125%203.39649%209.10304%203.80298%2012.8711C3.87489%2013.5606%204.20146%2014.1999%204.71997%2014.665C5.23849%2015.13%205.91237%2015.3884%206.61157%2015.3906C8.30574%2015.3859%208.30595%2014.4531%2010.0002%2014.4531C11.6944%2014.4532%2011.6946%2015.3859%2013.3889%2015.3906C14.0882%2015.3884%2014.762%2015.1301%2015.2805%2014.665C15.799%2014.1999%2016.1256%2013.5607%2016.1975%2012.8711C16.604%209.10309%2013.8584%205.78134%2010.0002%205.78125ZM1.66724%208.56543C1.71372%208.57291%201.75682%208.59414%201.79126%208.62598C1.82576%208.65793%201.84992%208.69952%201.8606%208.74512C1.87123%208.79058%201.86846%208.83819%201.85181%208.88184C1.39582%2010.0072%201.16562%2011.2101%201.17407%2012.4229L1.17896%2014.1543C1.17975%2014.4041%201.19347%2014.6551%201.21899%2014.9004C1.22301%2014.9465%201.21297%2014.9926%201.19067%2015.0332C1.16829%2015.0739%201.13436%2015.1072%201.09302%2015.1289C1.05167%2015.1506%201.00479%2015.1599%200.958252%2015.1553C0.911787%2015.1507%200.867483%2015.1328%200.831299%2015.1035C0.75616%2015.0416%200.684886%2014.9752%200.618408%2014.9043C-0.055234%2014.1771%20-0.024199%2013.2542%200.0197754%2011.9775C0.0627959%2010.7094%200.0940511%209.7937%200.821533%209.0752C1.02776%208.87299%201.26715%208.70655%201.52954%208.58398C1.57244%208.56443%201.62062%208.55796%201.66724%208.56543ZM18.4709%208.58398C18.7333%208.70655%2018.9728%208.87303%2019.179%209.0752C19.9062%209.79371%2019.9377%2010.7094%2019.9807%2011.9775C20.0241%2013.2542%2020.0547%2014.1771%2019.3811%2014.9043C19.3147%2014.9751%2019.2433%2015.0417%2019.1682%2015.1035C19.132%2015.1327%2019.0877%2015.1507%2019.0413%2015.1553C18.9949%2015.1598%2018.9477%2015.1505%2018.9065%2015.1289C18.8654%2015.1072%2018.8311%2015.0738%2018.8088%2015.0332C18.7866%2014.9926%2018.7775%2014.9464%2018.7815%2014.9004C18.807%2014.6552%2018.8205%2014.4042%2018.8206%2014.1543L18.8264%2012.4229C18.8349%2011.2101%2018.6046%2010.0072%2018.1487%208.88184C18.132%208.83818%2018.1293%208.79061%2018.1399%208.74512C18.1506%208.69952%2018.1747%208.65793%2018.2092%208.62598C18.2437%208.59411%2018.2867%208.57289%2018.3333%208.56543C18.3799%208.55796%2018.428%208.56443%2018.4709%208.58398Z'%20fill='%233F80F7'/%3e%3cpath%20d='M12%208H12.8193V13H12V8Z'%20fill='%23333333'/%3e%3cpath%20d='M7.91176%208H8.84314L10.7549%2013H9.87955L9.42437%2011.7465H7.33053L6.87535%2013H6L7.91176%208ZM7.57563%2011.0742H9.17927L8.39496%208.88235H8.36695L7.57563%2011.0742Z'%20fill='%23333333'/%3e%3c/svg%3e",alt:"",width:20,class:"mr-5px"},null,-1)),N(k(e.$t("AI")),1)])):(f(),_("span",Cs,k(e.$t("check2")),1)),C(a,{name:"ri:close-large-fill",class:"clickable",onClick:l[0]||(l[0]=F(e=>ue.value=!1,["stop"]))})]),x("div",As,[p($)?(f(),v(i,{key:0,gutter:20},{default:h(()=>{var i,r,u;return[C(n,{span:24},{default:h(()=>{var l,a,n,o,s,i;return[x("div",Ss,[x("div",null,[x("div",Ns,[(null==(l=p(S))?void 0:l.is_safu_contract)?(f(),_("div",$s,[x("div",Fs,[x("div",null,[x("span",null,k(e.$t("SAFU")),1),x("span",null,k(1==(null==(a=p(S))?void 0:a.is_safu_contract)?"PinkSale":null==(n=p(S))?void 0:n.is_safu_contract),1)])])])):m("",!0),C(t,{progress:p(B),width:140,height:80,thickness:7,big:!1,class:"arc-progress",fontSize:"24px",textHeight:40},null,8,["progress"]),(null==(o=p(S))?void 0:o.audit_pass_by)?(f(),_("a",{key:1,class:"audit-bg-absolute",href:null==(s=p(S))?void 0:s.audit_link,target:"_blank"},[x("div",Ls,[x("div",null,[x("span",null,k(e.$t("audited")),1),x("span",null,k(null==(i=p(S))?void 0:i.audit_pass_by),1)])])],8,Is)):m("",!0)])])])]}),_:1}),C(n,{span:24},{default:h(()=>{var e,l,a,t,n,o,s,i,r;return[(null==(e=p(S))?void 0:e.ai_report)?(f(),_("div",Vs,[x("div",Bs,[(null==(a=null==(l=p(de))?void 0:l.filter(e=>-3==Number(null==e?void 0:e.risk_level)))?void 0:a.length)>0?(f(),_("img",Ms)):(f(),_("img",Ds)),x("span",Es,k((null==(n=null==(t=p(de))?void 0:t.filter(e=>-3==Number(null==e?void 0:e.risk_level)))?void 0:n.length)||0),1)]),x("div",Ps,[(null==(o=p(de).filter(e=>-2==Number(null==e?void 0:e.risk_level)))?void 0:o.length)>0?(f(),_("img",Us)):(f(),_("img",Rs)),x("span",Hs,k(null==(s=p(de).filter(e=>-2==Number(null==e?void 0:e.risk_level)))?void 0:s.length),1)]),x("div",Os,[(null==(i=p(de).filter(e=>-1!==Number(null==e?void 0:e.risk_level)))?void 0:i.length)>0?(f(),_("img",js)):(f(),_("img",zs)),x("span",Ws,k(null==(r=p(de).filter(e=>-1==Number(null==e?void 0:e.risk_level)))?void 0:r.length),1)])])):(f(),_("div",qs,[x("div",Gs,[p(ye)?(f(),_("img",Ys)):(f(),_("img",Qs)),x("span",Ks,k(p(ye)||0),1)]),x("div",Xs,[p(Ce)?(f(),_("img",Zs)):(f(),_("img",Js)),x("span",ei,k(p(Ce)),1)]),x("div",li,[p(Te)?(f(),_("img",ai)):(f(),_("img",ti)),x("span",ni,k(p(Te)),1)])]))]}),_:1}),(null==(i=p(S))?void 0:i.ai_report)?m("",!0):(f(),v(n,{key:0,span:24},{default:h(()=>{var e,t,n;return[x("div",oi,[x("ul",null,[(f(!0),_(y,null,w(p(R)||"solana"===(null==(e=p(S))?void 0:e.chain)?p(ve):null==(t=p(ve))?void 0:t.slice(0,2),(e,l)=>(f(),_(y,{key:l},[.6===e[0]?(f(),_("li",si,[g((f(),_("div",ii,[x("img",{src:Ne(se[e[0]]),width:"12px",alt:""},null,8,ri),x("span",ui,k(e[1]),1)])),[[d,p(D)("notSurePermissionRemovalRemovesRisk")]])])):(f(),_("li",{key:1,class:I(["card-list-item flex-start",`${se[e[0]]}`])},[x("img",{src:Ne(se[e[0]]),width:"12px",alt:""},null,8,di),x("span",{class:I(e[0]>1?"color-[--main-text] ml-5px":"color-[--secondary-text] ml-5px")},k(e[1]),3)],2))],64))),128))]),p(ve).length>2&&"solana"!==(null==(n=p(S))?void 0:n.chain)?(f(),_("a",{key:0,class:"block text-center",href:"",style:{"font-size":"12px","text-decoration":"none"},onClick:l[1]||(l[1]=F(e=>R.value=!p(R),["stop","prevent"]))},[C(a,{class:"text-24px color-[--third-text]",name:p(R)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])])):m("",!0),p(he)?(f(),_("div",ci,k(p(D)("remark"))+": "+k(p(he)),1)):m("",!0)])]}),_:1})),C(n,{span:24},{default:h(()=>{var t,n,o,s,i,r,u,d,c,b,y,w,$,L,V,B,M,D,E,P,U,R,H,O,j,z,W,q,X,Z,J,ee,le,ae,te,se,ie,re,ue,de,ce,ve,me,pe,fe,he,xe,ge,ke,be,_e,ye,we,Te,Ce,Ae,Se,Ne,$e,Fe,Ie,Le,Ve,Be,Me,De;return[x("div",vi,[x("div",mi,[x("ul",pi,[x("li",{class:"card-list-item cursor-pointer",onClick:l[2]||(l[2]=F(e=>{ne.value=!p(ne),oe.value=!p(oe)},["stop"]))},[x("span",null,k(e.$t("buyTax")),1),x("span",{class:I(["flex items-center",{danger:((null==(t=p(S))?void 0:t.buy_tax)??0)>0}])},[N(k(p(G)((null==(n=p(S))?void 0:n.buy_tax)||0,2))+"% ",1),Number(null==(o=p(S))?void 0:o.tm_buy_tax_for_lp)>0||Number(null==(s=p(S))?void 0:s.tm_buy_tax_for_burn)>0||Number(null==(i=p(S))?void 0:i.tm_buy_tax_for_fund)>0||Number(null==(r=p(S))?void 0:r.tm_buy_tax_for_holders)>0||Number(null==(u=p(S))?void 0:u.tm_buy_tax_for_lp_holders)>0||Number(null==(d=p(S))?void 0:d.tm_buy_tax_for_team)>0||Number(null==(c=p(S))?void 0:c.tm_buy_tax_for_inviter)>0||Number(null==(b=p(S))?void 0:b.tm_buy_tax_for_other)>0?(f(),v(a,{key:0,class:"text-20px color-[--secondary-text]",name:p(ne)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])):m("",!0)],2)]),C(Y,null,{default:h(()=>{var l,a,t,n,o,s,i,r,u,d,c,v,h,g,b,y,w,T,C,A,N,$,F,I;return[p(ne)&&(Number(null==(l=p(S))?void 0:l.tm_buy_tax_for_lp)>0||Number(null==(a=p(S))?void 0:a.tm_buy_tax_for_burn)>0||Number(null==(t=p(S))?void 0:t.tm_buy_tax_for_fund)>0||Number(null==(n=p(S))?void 0:n.tm_buy_tax_for_holders)>0||Number(null==(o=p(S))?void 0:o.tm_buy_tax_for_lp_holders)>0||Number(null==(s=p(S))?void 0:s.tm_buy_tax_for_team)>0||Number(null==(i=p(S))?void 0:i.tm_buy_tax_for_inviter)>0||Number(null==(r=p(S))?void 0:r.tm_buy_tax_for_other)>0)?(f(),_("li",fi,[x("ul",hi,[Number(null==(u=p(S))?void 0:u.tm_buy_tax_for_lp)>0?(f(),_("li",xi,[x("span",null,k(e.$t("tm_buy_tax_for_lp")),1),x("span",gi,k(p(G)((null==(d=p(S))?void 0:d.tm_buy_tax_for_lp)||0,2))+"% ",1)])):m("",!0),Number(null==(c=p(S))?void 0:c.tm_buy_tax_for_burn)>0?(f(),_("li",ki,[x("span",null,k(e.$t("tm_buy_tax_for_burn")),1),x("span",bi,k(p(G)((null==(v=p(S))?void 0:v.tm_buy_tax_for_burn)||0,2))+"% ",1)])):m("",!0),Number(null==(h=p(S))?void 0:h.tm_buy_tax_for_fund)>0?(f(),_("li",_i,[x("span",null,k(e.$t("tm_buy_tax_for_fund")),1),x("span",yi,k(p(G)((null==(g=p(S))?void 0:g.tm_buy_tax_for_fund)||0,2))+"% ",1)])):m("",!0),Number(null==(b=p(S))?void 0:b.tm_buy_tax_for_holders)>0?(f(),_("li",wi,[x("span",null,k(e.$t("tm_buy_tax_for_holders")),1),x("span",Ti,k(p(G)((null==(y=p(S))?void 0:y.tm_buy_tax_for_holders)||0,2))+"% ",1)])):m("",!0),Number(null==(w=p(S))?void 0:w.tm_buy_tax_for_lp_holders)>0?(f(),_("li",Ci,[x("span",null,k(e.$t("tm_buy_tax_for_lp_holders")),1),x("span",Ai,k(p(G)((null==(T=p(S))?void 0:T.tm_buy_tax_for_lp_holders)||0,2))+"% ",1)])):m("",!0),Number(null==(C=p(S))?void 0:C.tm_buy_tax_for_team)>0?(f(),_("li",Si,[x("span",null,k(e.$t("tm_buy_tax_for_team")),1),x("span",Ni,k(p(G)((null==(A=p(S))?void 0:A.tm_buy_tax_for_team)||0,2))+"% ",1)])):m("",!0),Number(null==(N=p(S))?void 0:N.tm_buy_tax_for_inviter)>0?(f(),_("li",$i,[x("span",null,k(e.$t("tm_buy_tax_for_inviter")),1),x("span",Fi,k(p(G)((null==($=p(S))?void 0:$.tm_buy_tax_for_inviter)||0,2))+"% ",1)])):m("",!0),Number(null==(F=p(S))?void 0:F.tm_buy_tax_for_other)>0?(f(),_("li",Ii,[x("span",null,k(e.$t("tm_buy_tax_for_other")),1),x("span",Li,k(p(G)((null==(I=p(S))?void 0:I.tm_buy_tax_for_other)||0,2))+"% ",1)])):m("",!0)])])):m("",!0)]}),_:1})]),x("ul",Vi,[x("li",{class:"card-list-item cursor-pointer",onClick:l[3]||(l[3]=F(e=>{ne.value=!p(ne),oe.value=!p(oe)},["stop"]))},[x("span",null,k(e.$t("sellTax")),1),x("span",{class:I(["flex items-center",{danger:(null==(y=p(S))?void 0:y.sell_tax)??!1}])},[N(k(p(G)((null==(w=p(S))?void 0:w.sell_tax)||0,2))+"% ",1),Number(null==($=p(S))?void 0:$.tm_sell_tax_for_lp)>0||Number(null==(L=p(S))?void 0:L.tm_sell_tax_for_burn)>0||Number(null==(V=p(S))?void 0:V.tm_sell_tax_for_fund)>0||Number(null==(B=p(S))?void 0:B.tm_sell_tax_for_holders)>0||Number(null==(M=p(S))?void 0:M.tm_sell_tax_for_lp_holders)>0||Number(null==(D=p(S))?void 0:D.tm_sell_tax_for_team)>0||Number(null==(E=p(S))?void 0:E.tm_sell_tax_for_inviter)>0||Number(null==(P=p(S))?void 0:P.tm_sell_tax_for_other)>0?(f(),v(a,{key:0,class:"text-20px color-[--secondary-text]",name:p(oe)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])):m("",!0)],2)]),C(Y,null,{default:h(()=>{var l,a,t,n,o,s,i,r,u,d,c,v,h,g,b,y,w,T,C,A,N,$,F,I;return[p(oe)&&(Number(null==(l=p(S))?void 0:l.tm_sell_tax_for_lp)>0||Number(null==(a=p(S))?void 0:a.tm_sell_tax_for_burn)>0||Number(null==(t=p(S))?void 0:t.tm_sell_tax_for_fund)>0||Number(null==(n=p(S))?void 0:n.tm_sell_tax_for_holders)>0||Number(null==(o=p(S))?void 0:o.tm_sell_tax_for_lp_holders)>0||Number(null==(s=p(S))?void 0:s.tm_sell_tax_for_team)>0||Number(null==(i=p(S))?void 0:i.tm_sell_tax_for_inviter)>0||Number(null==(r=p(S))?void 0:r.tm_sell_tax_for_other)>0)?(f(),_("li",Bi,[x("ul",Mi,[Number(null==(u=p(S))?void 0:u.tm_sell_tax_for_lp)>0?(f(),_("li",Di,[x("span",null,k(e.$t("tm_sell_tax_for_lp")),1),x("span",Ei,k(p(G)((null==(d=p(S))?void 0:d.tm_sell_tax_for_lp)||0,2))+"% ",1)])):m("",!0),Number(null==(c=p(S))?void 0:c.tm_sell_tax_for_burn)>0?(f(),_("li",Pi,[x("span",null,k(e.$t("tm_sell_tax_for_burn")),1),x("span",Ui,k(p(G)((null==(v=p(S))?void 0:v.tm_sell_tax_for_burn)||0,2))+"% ",1)])):m("",!0),Number(null==(h=p(S))?void 0:h.tm_sell_tax_for_fund)>0?(f(),_("li",Ri,[x("span",null,k(e.$t("tm_sell_tax_for_fund")),1),x("span",Hi,k(p(G)((null==(g=p(S))?void 0:g.tm_sell_tax_for_fund)||0,2))+"% ",1)])):m("",!0),Number(null==(b=p(S))?void 0:b.tm_sell_tax_for_holders)>0?(f(),_("li",Oi,[x("span",null,k(e.$t("tm_sell_tax_for_holders")),1),x("span",ji,k(p(G)((null==(y=p(S))?void 0:y.tm_sell_tax_for_holders)||0,2))+"% ",1)])):m("",!0),Number(null==(w=p(S))?void 0:w.tm_sell_tax_for_lp_holders)>0?(f(),_("li",zi,[x("span",null,k(e.$t("tm_sell_tax_for_lp_holders")),1),x("span",Wi,k(p(G)((null==(T=p(S))?void 0:T.tm_sell_tax_for_lp_holders)||0,2))+"% ",1)])):m("",!0),Number(null==(C=p(S))?void 0:C.tm_sell_tax_for_team)>0?(f(),_("li",qi,[x("span",null,k(e.$t("tm_sell_tax_for_team")),1),x("span",Gi,k(p(G)((null==(A=p(S))?void 0:A.tm_sell_tax_for_team)||0,2))+"% ",1)])):m("",!0),Number(null==(N=p(S))?void 0:N.tm_sell_tax_for_inviter)>0?(f(),_("li",Yi,[x("span",null,k(e.$t("tm_sell_tax_for_inviter")),1),x("span",Qi,k(p(G)((null==($=p(S))?void 0:$.tm_sell_tax_for_inviter)||0,2))+"% ",1)])):m("",!0),Number((null==(F=p(S))?void 0:F.tm_sell_tax_for_other)||0)>0?(f(),_("li",Ki,[x("span",null,k(e.$t("tm_sell_tax_for_other")),1),x("span",Xi,k(p(G)((null==(I=p(S))?void 0:I.tm_sell_tax_for_other)||0,2))+"% ",1)])):m("",!0)])])):m("",!0)]}),_:1})])]),Number((null==(U=p(S))?void 0:U.buy_gas)||0)>=.1||(null==(R=p(S))?void 0:R.buy_max_amount_per_tx)||Number((null==(H=p(S))?void 0:H.sell_gas)||0)>=.1||(null==(O=p(S))?void 0:O.sell_max_amount_per_tx)?(f(),_("div",Zi,[x("ul",Ji,[Number(null==(j=p(S))?void 0:j.buy_gas)>=.1?(f(),_("li",er,[x("span",null,k(e.$t("buy_gas")),1),x("span",{style:A({color:p(Q)(Number((null==(z=p(S))?void 0:z.buy_gas)||0),(null==(W=p(S))?void 0:W.chain)||"")})}," $"+k(p(G)((null==(q=p(S))?void 0:q.buy_gas)||0,2)),5)])):m("",!0),(null==(X=p(S))?void 0:X.buy_max_amount_per_tx)?(f(),_("li",lr,[x("span",null,k(e.$t("buyMaxAmount")),1),x("span",ar,k(p(G)((null==(Z=p(S))?void 0:Z.buy_max_amount_per_tx)||0,0)),1)])):m("",!0)]),x("ul",tr,[Number((null==(J=p(S))?void 0:J.sell_gas)||0)>=.1?(f(),_("li",nr,[x("span",null,k(e.$t("sell_gas")),1),x("span",{style:A({color:p(Q)(Number((null==(ee=p(S))?void 0:ee.sell_gas)||0),(null==(le=p(S))?void 0:le.chain)||"")})}," $"+k(p(G)((null==(ae=p(S))?void 0:ae.sell_gas)||0,2)),5)])):m("",!0),(null==(te=p(S))?void 0:te.sell_max_amount_per_tx)?(f(),_("li",or,[x("span",null,k(e.$t("sellMaxAmount")),1),x("span",sr,k(p(G)((null==(se=p(S))?void 0:se.sell_max_amount_per_tx)||0,0)),1)])):m("",!0)])])):m("",!0),Number((null==(ie=p(S))?void 0:ie.approve_gas)||0)>=.1||(null==(re=p(S))?void 0:re.tm_max_hold_amount_per_wallet)||(null==(ue=p(S))?void 0:ue.tm_bonus_token_name)||(null==(de=p(S))?void 0:de.tm_bonus_token_for_lp_holders)||(null==(ce=p(S))?void 0:ce.market_wallet)||(null==(ve=p(S))?void 0:ve.team_wallet)||(null==(me=p(S))?void 0:me.tm_kill_block_after_open)||(null==(pe=p(S))?void 0:pe.tm_start_trade_at_block)||(null==(fe=p(S))?void 0:fe.mechanism_intro)?(f(),_("ul",ir,[Number((null==(he=p(S))?void 0:he.approve_gas)||0)>=.1?(f(),_("li",rr,[x("span",null,k(e.$t("approve_gas")),1),x("span",{style:A({color:p(Q)(Number((null==(xe=p(S))?void 0:xe.approve_gas)||0),(null==(ge=p(S))?void 0:ge.chain)||"")})}," $"+k(p(G)((null==(ke=p(S))?void 0:ke.approve_gas)||0,2)),5)])):m("",!0),(null==(be=p(S))?void 0:be.tm_max_hold_amount_per_wallet)?(f(),_("li",ur,[x("span",null,k(e.$t("tm_max_hold_amount_per_wallet")),1),x("span",dr,k(p(G)(p(S).tm_max_hold_amount_per_wallet,0)),1)])):m("",!0),(null==(_e=p(S))?void 0:_e.tm_bonus_token_name)?(f(),_("li",cr,[x("span",null,k(e.$t("tm_bonus_token_name")),1),x("a",{href:p(K)((null==(ye=p(S))?void 0:ye.chain)||"",(null==(we=p(S))?void 0:we.tm_bonus_token_for_holders)||""),target:"_blank"},k(p(S).tm_bonus_token_name),9,vr)])):m("",!0),(null==(Te=p(S))?void 0:Te.tm_bonus_token_for_lp_holders)?(f(),_("li",mr,[x("span",null,k(e.$t("tm_bonus_token_name_for_lp")),1),x("div",pr,[x("a",{href:p(K)(p(S).chain||"",p(S).tm_bonus_token_for_lp_holders||"","address"),target:"_blank"},k((null==(Ce=p(S))?void 0:Ce.tm_bonus_token_name_for_lp)||((null==(Ae=p(S))?void 0:Ae.tm_bonus_token_for_lp_holders)||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,fr)])])):m("",!0),(null==(Se=p(S))?void 0:Se.market_wallet)?(f(),_("li",hr,[x("span",null,k(e.$t("fundWallet")),1),x("div",xr,[x("a",{href:p(K)((null==(Ne=p(S))?void 0:Ne.chain)||"",(null==($e=p(S))?void 0:$e.market_wallet)||"","address"),target:"_blank"},k((p(S).market_wallet||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,gr),g(C(a,{name:"bxs:copy",class:"text-12px ml-2px clickable color-#999",onClick:l[4]||(l[4]=F(()=>{},["stop","prevent"]))},null,512),[[T,p(S).market_wallet||""]])])])):m("",!0),(null==(Fe=p(S))?void 0:Fe.team_wallet)?(f(),_("li",kr,[x("span",null,k(e.$t("teamWallet")),1),x("div",null,[x("a",{href:p(K)(p(S).chain||"",p(S).team_wallet||"","address"),target:"_blank"},k((p(S).team_wallet||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,br),g(C(a,{name:"bxs:copy",class:"text-12px ml-2px clickable color-#999",onClick:l[5]||(l[5]=F(()=>{},["stop","prevent"]))},null,512),[[T,p(S).team_wallet||""]])])])):m("",!0),(null==(Ie=p(S))?void 0:Ie.tm_kill_block_after_open)?(f(),_("li",_r,[x("span",null,k(e.$t("tm_kill_block_after_open")),1),x("span",null,k(p(G)(p(S).tm_kill_block_after_open,0)),1)])):m("",!0),(null==(Le=p(S))?void 0:Le.tm_start_trade_at_block)?(f(),_("li",yr,[x("span",null,k(e.$t("tm_start_trade_at_block")),1),x("span",null,k(p(G)(p(S).tm_start_trade_at_block,0)),1)])):m("",!0),(null==(Ve=p(S))?void 0:Ve.mechanism_intro)?(f(),_("li",wr,[x("span",Tr,k(e.$t("mechanism_intro")),1),x("span",{class:"",innerHTML:null==(De=null==(Me=null==(Be=p(S))?void 0:Be.mechanism_intro)?void 0:Me.replace)?void 0:De.call(Me,/\n/g,"<br/>")},null,8,Cr)])):m("",!0)])):m("",!0)])]}),_:1}),(null==(r=p(S))?void 0:r.ai_report)?(f(),v(n,{key:1,span:24},{default:h(()=>{var e;return[C(_s,{obj:null==(e=p(S))?void 0:e.ai_report,riskList:p(de)},null,8,["obj","riskList"])]}),_:1})):m("",!0),C(n,{span:24},{default:h(()=>{var t,n,i,r,u,d,c,g,b,T,$,F,L,V,B,M,D,E,P,U,R,H,O,j,z,W,Y,Q,Z,J;return[x("div",Ar,k(null==(n=null==(t=p(re))?void 0:t[0])?void 0:n.name)+"("+k(p(G)((null==(i=p(S))?void 0:i.holders)||0))+") ",1),x("div",Sr,[x("div",Nr,[x("span",$r,k(e.$t("totalSupply1")),1),x("span",Fr,k(p(G)((null==(r=p(S))?void 0:r.total)||0)),1)]),x("div",Ir,[x("span",Lr,k(e.$t("top10Holder")),1),l[8]||(l[8]=x("span",{style:{flex:"1"}},null,-1)),x("span",Vr,k(p(G)(100*p(ge),1))+"%",1),x("div",Br,[x("span",{class:"range-bar",style:A({width:p(G)(100*p(ge))+"%"})},null,4)])]),x("ul",Mr,[(f(!0),_(y,null,w((null==(u=p(S))?void 0:u.token_holders_rank)||[],(t,n)=>{var s,i,r;return f(),_(y,{key:n},[x("li",{class:I(["card-list-item holder-item",{"bg-warning":1===Number(null==t?void 0:t.analysis_show_warning)}])},[x("a",{class:"flex items-center justify-items-start",href:p(K)((null==(s=p(S))?void 0:s.chain)||"",t.address||"","address"),target:"_blank"},[x("span",null,k(n+1)+".",1),1===Number(null==t?void 0:t.analysis_show_creator)?(f(),v(o,{key:0,type:"primary",round:"",size:"small",class:"mr-3px"},{default:h(()=>[N(k(e.$t("contractCreator")),1)]),_:1})):m("",!0),t.lock||/lock|null/gi.test(t.mark||"")?(f(),v(a,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"})):m("",!0),1===t.is_lp?(f(),_("img",Er)):m("",!0),(null==t?void 0:t.is_contract)&&1===(null==t?void 0:t.is_contract)?(f(),_("img",Pr)):m("",!0),t.mark?(f(),_(y,{key:5},[N(k(t.mark),1)],64)):(f(),_(y,{key:4},[N(k((t.address||"").slice(0,2)+"..."+(t.address||"").slice(-4)),1)],64)),t.lock&&t.lock.length>0&&t.lock.every(e=>1e3*((null==e?void 0:e.unlockDate)??0)<=Date.now())?(f(),_(y,{key:6},[l[9]||(l[9]=x("br",null,null,-1)),N(" "+k(e.$t("unlocked")),1)],64)):m("",!0)],8,Dr),x("div",Ur,[x("span",null,k(p(G)(t.quantity||0,2)),1),(null==(i=p(S))?void 0:i.total)&&(null==t?void 0:t.quantity)?(f(),_("span",Rr," ("+k(p(G)(100*Number(null==t?void 0:t.quantity)/Number(null==(r=p(S))?void 0:r.total)||0,2))+"%) ",1)):m("",!0)])],2),t.lock&&t.lock.length>0?(f(),_("table",Hr,[x("thead",null,[x("tr",null,[x("th",null,k(e.$t("amount")),1),x("th",null,k(e.$t("lockDate")),1),x("th",null,k(e.$t("unlockDateStart")),1),x("th",null,k(e.$t("unlockDateEnd")),1)])]),(f(!0),_(y,null,w(t.lock,(e,l)=>(f(),_("tr",{key:l},[x("td",null,k(p(G)((null==e?void 0:e.amount)||0,2)),1),(null==e?void 0:e.lockDate)?(f(),_("td",Or,k(p(X)(null==e?void 0:e.lockDate,"YYYY-MM-DD")),1)):m("",!0),(null==e?void 0:e.unlockDate)?(f(),_("td",jr,k(p(X)(null==e?void 0:e.unlockDate,"YYYY-MM-DD")),1)):m("",!0),(null==e?void 0:e.vesting_end)||(null==e?void 0:e.unlockDate)?(f(),_("td",zr,k(p(X)((null==e?void 0:e.vesting_end)||(null==e?void 0:e.unlockDate)||0,"YYYY-MM-DD")),1)):m("",!0)]))),128))])):m("",!0)],64)}),128))]),p(fe)?(f(),_("div",Wr,k(e.$t("remark"))+": "+k(p(fe)),1)):m("",!0)]),x("div",qr,k(null==(c=null==(d=p(re))?void 0:d[1])?void 0:c.name)+"("+k(p(G)((null==(g=p(S))?void 0:g.pair_holders)||0))+") ",1),x("div",Gr,[x("div",Yr,[x("span",Qr,k(e.$t("totalSupply1")),1),x("span",Kr,k(p(G)((null==(b=p(S))?void 0:b.pair_total)||0)),1)]),x("div",Xr,[x("span",Zr,k(e.$t("LPLocked")),1),x("span",Jr,k(p(G)(100*p(be),1))+"%",1),x("div",eu,[x("span",{class:"range-bar",style:A({width:p(G)(100*p(be))+"%"})},null,4)])]),x("ul",lu,[(f(!0),_(y,null,w((null==(T=p(S))?void 0:T.pair_holders_rank)||[],(l,t)=>{var n,s,i,r,u,d,c;return f(),_(y,{key:t},[x("li",{class:I(["card-list-item holder-item",{"bg-warning":1===Number(null==l?void 0:l.analysis_show_warning)}])},[x("a",{href:p(K)((null==(n=p(S))?void 0:n.chain)||"",(null==l?void 0:l.address)||"","address"),target:"_blank",style:{display:"flex","align-items":"center"}},[x("span",null,k(t+1)+".",1),1===Number(null==l?void 0:l.analysis_show_creator)?(f(),v(o,{key:0,type:"info",round:"",size:"small",class:"mr-3px",effect:"plain"},{default:h(()=>[N(k(e.$t("contractCreator")),1)]),_:1})):m("",!0),$e(l)?(f(),_(y,{key:1},[((null==(s=null==l?void 0:l.lock)?void 0:s.length)??0)>0&&(null==(r=null==(i=null==l?void 0:l.lock)?void 0:i.every)?void 0:r.call(i,e=>1e3*(e.unlockDate??0)<=Date.now()))?(f(),_("img",tu)):(f(),v(a,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"}))],64)):m("",!0),(null==l?void 0:l.is_contract)&&1===(null==l?void 0:l.is_contract)?(f(),_("img",nu)):m("",!0),(null==l?void 0:l.mark)?(f(),_(y,{key:4},[N(k(null==l?void 0:l.mark),1)],64)):(f(),_(y,{key:3},[N(k(((null==l?void 0:l.address)||"").slice(0,2)+"..."+((null==l?void 0:l.address)||"").slice(-4)),1)],64))],8,au),x("div",ou,[x("span",null,k(p(G)((null==l?void 0:l.quantity)||0)),1),(null==(u=p(S))?void 0:u.pair_total)&&(null==l?void 0:l.quantity)||(null==l?void 0:l.percent)?(f(),_("span",su," ("+k(l.percent&&Number(null==l?void 0:l.percent)?p(G)(100*Number((null==l?void 0:l.percent)||0),2):p(G)(100*Number(l.quantity)/Number(null==(d=p(S))?void 0:d.pair_total)||0,2))+"%) ",1)):m("",!0)])],2),(null==l?void 0:l.lock)&&(null==(c=null==l?void 0:l.lock)?void 0:c.length)>0?(f(),_("table",iu,[x("thead",null,[x("tr",null,[x("th",null,k(e.$t("amount")),1),x("th",null,k(e.$t("lockDate")),1),x("th",null,k(e.$t("unlockDateStart")),1),x("th",null,k(e.$t("unlockDateEnd")),1)])]),x("tbody",null,[(f(!0),_(y,null,w(l.lock,(e,l)=>(f(),_("tr",{key:l,style:A({color:e.unlockDate??0<=Date.now()?"#FF9F00":""})},[x("td",null,k(p(G)(e.amount||0)),1),e.lockDate?(f(),_("td",ru,k(p(X)(e.lockDate,"YYYY-MM-DD")),1)):m("",!0),e.unlockDate?(f(),_("td",uu,k(p(X)(e.unlockDate,"YYYY-MM-DD")),1)):m("",!0),e.vesting_end||e.unlockDate?(f(),_("td",du,k(p(X)(e.vesting_end||e.unlockDate||0,"YYYY-MM-DD")),1)):m("",!0)],4))),128))])])):m("",!0)],64)}),128))]),x("ul",cu,[Number((null==($=p(S))?void 0:$.analysis_creator_gt_5percent)||0)>5?(f(),_("li",vu,k(e.$t("analysis_creator_gt_5percent"))+"("+k(p(G)((null==(F=p(S))?void 0:F.analysis_creator_gt_5percent)||0,2))+"%) ",1)):m("",!0),"1"===(null==(L=p(S))?void 0:L.analysis_scam_wallet)?(f(),_("li",mu,k(e.$t("analysis_scam_wallet")),1)):m("",!0),Number((null==(V=p(S))?void 0:V.analysis_lp_creator_gt_5percent)||0)>5?(f(),_("li",pu,k(e.$t("analysis_lp_creator_gt_5percent"))+"("+k(p(G)((null==(B=p(S))?void 0:B.analysis_lp_creator_gt_5percent)||0,2))+"%) ",1)):m("",!0),"1"===(null==(M=p(S))?void 0:M.analysis_big_wallet)?(f(),_("li",fu,k(e.$t("analysis_big_wallet")),1)):m("",!0),(null==(D=p(S))?void 0:D.analysis_lp_locked_or_burned_gt_15days)&&Number(null==(E=p(S))?void 0:E.analysis_lp_locked_or_burned_gt_15days)<50?(f(),_("li",hu,k(e.$t("analysis_lp_locked_or_burned_gt_15days"))+" ("+k(p(G)((null==(P=p(S))?void 0:P.analysis_lp_locked_or_burned_gt_15days)||0,2))+"%) ",1)):m("",!0),(null==(U=p(S))?void 0:U.analysis_lp_current_adequate)&&"0"==(null==(R=p(S))?void 0:R.analysis_lp_current_adequate)?(f(),_("li",xu,k(e.$t("analysis_lp_current_adequate")),1)):m("",!0),(null==(H=p(S))?void 0:H.big_lp_without_any_lock)&&1==(null==(O=p(S))?void 0:O.big_lp_without_any_lock)?(f(),_("li",gu,k(e.$t("big_lp_without_any_lock")),1)):m("",!0)]),p(pe)?(f(),_("div",ku,k(e.$t("remark"))+": "+k(p(pe)),1)):m("",!0)]),(null==(j=p(re))?void 0:j[2])?(f(),_("div",bu,k(null==(W=null==(z=p(re))?void 0:z[2])?void 0:W.name)+"("+k(p(G)((null==(Q=null==(Y=p(S))?void 0:Y.owner_txs)?void 0:Q.length)||0))+") ",1)):m("",!0),(null==(Z=p(re))?void 0:Z[2])?(f(),_("div",_u,[(f(!0),_(y,null,w(null==(J=p(S))?void 0:J.owner_txs,(t,n)=>{var o,i,r,u;return f(),_("div",{key:n,class:"ownerTxs",onClick:e=>function(e){var l;(null==e?void 0:e.tx_hash)&&(window.location=K((null==(l=null==S?void 0:S.value)?void 0:l.chain)||"",(null==e?void 0:e.tx_hash)||"","tx"))}(t)},[x("div",wu,[x("span",Tu,[N(k(null==t?void 0:t.method_name)+" ",1),x("span",Cu,[l[10]||(l[10]=N(" ( ",-1)),l[11]||(l[11]=x("img",{src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748182189947'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20308'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M704.590769%20479.389538a39.936%2039.936%200%200%200-39.936-39.936H291.84a39.936%2039.936%200%200%200%200%2079.872h372.814769c22.055385%200%2039.936-17.880615%2039.936-39.936zM544.846769%20692.381538a39.936%2039.936%200%200%200-39.936-39.936H291.84a39.936%2039.936%200%200%200%200%2079.95077H504.910769c22.055385%200%2039.936-17.959385%2039.936-40.01477z%20m332.878769-332.878769v439.453539c0%20106.496-53.248%20159.744-159.822769%20159.744H238.670769C132.017231%20958.700308%2078.769231%20905.452308%2078.769231%20798.956308V159.822769C78.769231%2053.248%20132.017231%200%20238.592%200h279.630769v159.822769c0%20128.866462%2070.813538%20199.68%20199.68%20199.68h159.822769zM837.789538%20279.630769H717.902769c-84.125538%200-119.808-35.682462-119.808-119.808V39.936L837.789538%20279.630769z'%20fill='%23CCCCCC'%20p-id='20309'%3e%3c/path%3e%3c/svg%3e",width:12,alt:""},null,-1)),N(" "+k((null==(o=null==t?void 0:t.method_code)?void 0:o.slice(0,4))+"..."+(null==(i=null==t?void 0:t.method_code)?void 0:i.slice(-4)))+") ",1)])]),x("span",Au,k((null==(r=String(null==t?void 0:t.timestamp))?void 0:r.length)>10?p(X)(((null==t?void 0:t.timestamp)??0)/1e3||0,"YYYY-MM-DD"):p(X)((null==t?void 0:t.timestamp)||0,"YYYY-MM-DD")),1)]),((null==(u=null==t?void 0:t.params)?void 0:u.length)??0)>0?(f(),_("div",Su,[(f(!0),_(y,null,w(null==t?void 0:t.params,(t,n)=>{var o,i,r,u,d,c,v,g,b;return f(),_("div",{key:n,class:"flex-start"},[x("span",Nu,k(null==t?void 0:t.name)+"：",1),"address"==(null==t?void 0:t.type)?(f(),_(y,{key:0},[(null==t?void 0:t.value)==("useFollowStore"in e?e.useFollowStore:p(q))().currentAddress||(null==t?void 0:t.value)==p(Se)?(f(),_("span",$u,k((null==(o=null==t?void 0:t.value)?void 0:o.slice(0,8))+"..."+(null==(i=null==t?void 0:t.value)?void 0:i.slice(-4)))+" ("+k(e.$t("myWallet"))+") ",1)):1==(null==t?void 0:t.is_trader_addr)?(f(),_("span",Fu,[N(k((null==(r=null==t?void 0:t.value)?void 0:r.slice(0,8))+"..."+(null==(u=null==t?void 0:t.value)?void 0:u.slice(-4)))+" ",1),C(s,{effect:"customized",content:e.$t("latestTrader"),placement:"top",persistent:!1},{default:h(()=>[C(a,{class:"text-14px",color:"#ff9f00",name:"ep:avatar"})]),_:1},8,["content"])])):(f(),_("span",Iu,k((null==(d=null==t?void 0:t.value)?void 0:d.slice(0,8))+"..."+(null==(c=null==t?void 0:t.value)?void 0:c.slice(-4))),1))],64)):"uint256"==(null==t?void 0:t.type)?(f(),_("span",Lu,k(p(G)((null==t?void 0:t.value)||0)),1)):"address[]"==(null==t?void 0:t.type)?(f(),_("div",Vu,[l[12]||(l[12]=x("strong",null,"[",-1)),(f(!0),_(y,null,w(null==(v=null==t?void 0:t.value)?void 0:v.slice(0,3),(e,l)=>(f(),_("span",{key:l,class:"block ml_10"}," '"+k((null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)))+"' ",1))),128)),(null==(g=null==t?void 0:t.value)?void 0:g.length)>3?(f(),_("span",Bu," //"+k(e.$t("totalTxs",{n:null==(b=null==t?void 0:t.value)?void 0:b.length})),1)):m("",!0),l[13]||(l[13]=x("strong",null,"]",-1))])):(f(),_("span",Mu,k(null==t?void 0:t.value),1))])}),128))])):m("",!0)],8,yu)}),128))])):m("",!0)]}),_:1}),(null==(u=p(S))?void 0:u.holder_analysis)?(f(),v(n,{key:2,span:24},{default:h(()=>{var l,a,t,n,o,s,i,r,u,d,c,v,m,h,g,b,T,C,A;return[x("div",Du,[x("span",Eu,k(e.$t("simulate")),1),x("table",Pu,[x("tbody",null,[x("tr",null,[x("td",null,[x("span",Uu,k(e.$t("simulateHolders")),1),x("span",Ru,k(p(G)((null==(a=null==(l=p(S))?void 0:l.holder_analysis)?void 0:a.simulate_holders)||0)),1)]),x("td",null,[x("span",Hu,k(e.$t("sellSuccessful")),1),x("span",Ou,k(p(G)((null==(n=null==(t=p(S))?void 0:t.holder_analysis)?void 0:n.sell_successful)||0)),1)]),x("td",null,[x("span",{class:I(["block color-[--third-text]",{failedBg:((null==(s=null==(o=p(S))?void 0:o.holder_analysis)?void 0:s.sell_failure)??0)>0}])},k(e.$t("sellFailure")),3),x("span",{class:I(["block",{failedColor:((null==(r=null==(i=p(S))?void 0:i.holder_analysis)?void 0:r.sell_failure)??0)>0}])},k(p(G)((null==(d=null==(u=p(S))?void 0:u.holder_analysis)?void 0:d.sell_failure)||0)),3)]),x("td",null,[x("span",{class:I(["block color-[--third-text]",{balanceBg:((null==(v=null==(c=p(S))?void 0:c.holder_analysis)?void 0:v.balance_disappeared)??0)>0}])},k(e.$t("balanceDisappeared")),3),x("span",ju,k(p(G)((null==(h=null==(m=p(S))?void 0:m.holder_analysis)?void 0:h.balance_disappeared)||0)),1)])]),x("tr",null,[x("td",null,[x("span",zu,k(e.$t("sellSlippage")),1)]),x("td",Wu,[x("span",{class:I({avgBg:1==(null==(g=p(S))?void 0:g.avg_tax_too_high)})},[x("span",qu,k(e.$t("averageTax")),1),N("  "+k(p(G)((null==(T=null==(b=p(S))?void 0:b.holder_analysis)?void 0:T.average_tax)||0))+"% ",1)],2),(f(!0),_(y,null,w(null==(A=null==(C=p(S))?void 0:C.holder_analysis)?void 0:A.tax_distribution,(l,a)=>(f(),_("div",{key:a,class:"flex-start"},[x("span",null,[x("span",Gu,k(e.$t("slippage1")),1),N("  "+k(p(G)(null==l?void 0:l.tax))+"% ",1)]),x("span",null,[x("span",Yu,k(e.$t("addressCount")),1),N("  "+k(null==l?void 0:l.count),1)])]))),128))])])])]),x("ul",Qu,[(f(!0),_(y,null,w(p(_e),(e,l)=>(f(),_("li",{key:l,class:I({warning:1==e[0],danger:2==e[0]})},k(e[1]),3))),128))])])]}),_:1})):m("",!0),C(n,null,{default:h(()=>{var l,t,n,o,s;return[x("div",Ku,[x("h3",Xu,k(e.$t("communityTrust")),1),x("div",Zu,[x("div",{class:"thumbs-container",onClick:F(Le,["stop"])},[C(a,{name:"garden:thumbs-up-fill-12",style:A({color:((null==(l=p(S))?void 0:l.my_vote)??0)>0?"#12B886":"var(--secondary-text)"})},null,8,["style"]),x("span",Ju,k(e.$t("support"))+"("+k(null==(t=p(S))?void 0:t.vote_support)+") ",1)]),x("div",ed,[x("div",ld,[x("span",{class:"left",style:A({width:p(G)(100*(null==(n=Ie(p(S)))?void 0:n[0])||0)+"%"})},k(p(G)(100*Fe(p(S))[0]||0,1))+"% ",5),x("span",{class:"right",style:A({width:p(G)(100*Ie(p(S))[1]||0)+"%"})},k(p(G)(100*Fe(p(S))[1]||0,1))+"% ",5)]),x("div",ad," ("+k(Fe(p(S))[2])+" "+k(e.$t("votes"))+") ",1)]),x("div",{class:"thumbs-container",onClick:F(Ve,["stop"])},[C(a,{name:"garden:thumbs-down-fill-12",style:A({color:((null==(o=p(S))?void 0:o.my_vote)??0)<0?"#F6465D":"var(--secondary-text)"})},null,8,["style"]),x("span",td,k(e.$t("against"))+"("+k((null==(s=p(S))?void 0:s.vote_against)||0)+") ",1)])]),x("div",nd,k(e.$t("remark"))+": "+k(e.$t("checkRemark")),1)])]}),_:1})]}),_:1})):(f(),v(r,{key:1,image:"light"===p(E).theme?p(J):p(ee)},null,8,["image"]))])])]}),_:1},8,["modelValue"])):m("",!0)}}}),[["__scopeId","data-v-7f66c984"]]);var sd=Object.defineProperty,id=Object.getOwnPropertySymbols,rd=Object.prototype.hasOwnProperty,ud=Object.prototype.propertyIsEnumerable,dd=(e,l,a)=>l in e?sd(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,cd=(e,l)=>{for(var a in l||(l={}))rd.call(l,a)&&dd(e,a,l[a]);if(id)for(var a of id(l))ud.call(l,a)&&dd(e,a,l[a]);return e};class vd{constructor(){this.tag=null,this.config={zIndex:"999",projectId:"",conversationId:"",containerDomId:void 0,defaultOpen:!1,destroyOnClose:!1},this.onClose=e=>{var l,a;null==(a=(l=this.config).onClose)||a.call(l),this.config.destroyOnClose&&(e.preventDefault(),e.stopPropagation(),this.destroy())}}static getInstance(){return vd.instance||(vd.instance=new vd),vd.instance}initMain(e){this.config=cd(cd({},this.config),e),this.tag=document.createElement("debox-chat-widget"),this.tag.style.zIndex=this.config.zIndex,this.tag.projectId=this.config.projectId,this.tag.conversationId=this.config.conversationId,this.tag.setAttribute("defaultOpen",`${this.config.defaultOpen}`);let l=document.body;if(this.config.containerDomId){const e=document.getElementById(this.config.containerDomId);e&&(l=e)}l.appendChild(this.tag),this.addCloseEvent(),this.addToggleEvent()}async init(e){if(this.tag)throw new Error("DeBoxChatWidget is already initialized");this.initMain(e),typeof window<"u"&&await ne(()=>import("./C9o3poHn.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)}destroy(){var e,l;this.tag&&(this.removeToggleEvent(),this.removeCloseEvent(),this.callbackFn&&this.removeEventListener(this.callbackFn),this.tag.remove(),this.tag=null),null==(l=(e=this.config).onDestroy)||l.call(e),this.config={zIndex:"999",projectId:"",conversationId:"",containerDomId:void 0,defaultOpen:!1,destroyOnClose:!1}}setConversation(e,l){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.config.conversationId=e,this.tag.conversationId=e,"boolean"==typeof l&&this.tag.toggleChat(l)}toggleChat(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.toggleChat(e)}addEventListener(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.addEventListener("debox-message-pushed",e),this.callbackFn=e}removeEventListener(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.removeEventListener("debox-message-pushed",e),this.callbackFn=void 0}addToggleEvent(){const e=document.querySelector("debox-chat-widget");e&&this.config.onToggle&&(this.observer=new MutationObserver(()=>{var l,a;const t=e.hasAttribute("open");null==(a=(l=this.config).onToggle)||a.call(l,t)}),this.observer.observe(e,{attributes:!0,attributeFilter:["open"]}))}removeToggleEvent(){var e;null==(e=this.observer)||e.disconnect()}addCloseEvent(){var e;null==(e=this.tag)||e.addEventListener("debox-before-close",this.onClose)}removeCloseEvent(){var e;null==(e=this.tag)||e.removeEventListener("debox-before-close",this.onClose)}}const md=vd.getInstance();const pd={class:"debox"},fd={id:"chat-deBox"},hd=B(t({__name:"deBox",setup(e){const l=o(),t=d(""),n={solana:-200,eth:1,optimism:10,bsc:56,polygon:137,xlayer:196,ftm:250,zksync:324,merlin:4200,mantle:5e3,base:8453,arbitrum:42161,avalanche:43114,linea:59144,blast:81457,bitlayer:200901,scroll:534352},c=oe("showDeBox",!1),v=oe("isMin",!0),h=u(()=>{var e;return(null==(e=s(l.params.id))?void 0:e.chain)||""}),k=u(()=>{var e;return null==(e=s(l.params.id))?void 0:e.address});async function y(){var e;n[h.value]&&c.value&&(t.value=await new Promise((e,l)=>{(function(e){const{$api:l}=a();return l("/v1api/v1/ave_proxy/debox/openapi/chatwidget/conversation/id",{method:"post",body:e})})({chain_id:n[h.value],contract_address:k.value}).then(l=>{var a;t.value=null==(a=null==l?void 0:l.data)?void 0:a.cid,e(t.value),md.tag&&md.setConversation(t.value)}).catch(()=>{l("")})})||"",t.value&&(e=t.value,md.tag?md.setConversation(e,v.value):md.init({projectId:"QMPwBXl11rZZlQp0",zIndex:"999",containerDomId:"chat-deBox",destroyOnClose:!0,defaultOpen:v.value,conversationId:e,onToggle:e=>{v.value=e},onDestroy:()=>{c.value=!1}})))}function w(){c.value=!c.value,c.value?y():md.tag&&md.destroy()}return r(()=>l.params.id,()=>{md.tag&&y()}),i(()=>{y()}),se(()=>{md.tag&&md.destroy()}),(e,l)=>{const a=b;return f(),_("div",pd,[n[p(h)]?(f(),_("a",{key:0,href:"",class:"p-2px radius-2px h-16px flex items-center bg-btn",onClick:F(w,["stop","prevent"])},[C(a,{name:"custom:debox",class:I(["color-[--third-text] text-12px",p(c)?"color-#21c161":""])},null,8,["class"])])):m("",!0),g(x("div",fd,null,512),[[ie,n[p(h)]&&p(c)]])])}}}),[["__scopeId","data-v-07845bff"]]),xd={class:"relative"},gd={class:"info flex items-center bg-[--secondary-bg] mb-1px h-64px p-x-16px text-12px color-[--third-text]"},kd={class:"token-info ml-16px flex items-center color-[--third-text]"},bd=["src"],_d=["src"],yd={key:0,class:"icon-token-container relative"},wd=["src"],Td=["src"],Cd=["src"],Ad={class:"ml-8px"},Sd={class:"flex items-center"},Nd={class:"text-16px leading-[1.25] color-[--main-text] font-500"},$d={class:"ml-8px text-12px font-500 mr-8px"},Fd={class:"flex items-center justify-start"},Id={key:0,class:"bg-btn",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAC7BJREFUeF7tnTGOFDkUht2tFSJhtw+B4AiE2xxgM2YTcsJNIAdySDYkn2Qh2wMMhBwBxCFmdxKEVt0rd0/N1PR0Vdmu56rn568lNBJju+z/+Zvfz+WuWjg+kypwsXqy9hfcuOV66ba/NhffOrf7/+azcO7jvtzik/+5dJuP984/7P6Pz3QKLKa7VL1X2kOxeHkIQaoiW7d47ev+cv7Xq9Q2qBemAICE6RRdShqKrg4AS3RooioASJRcw4WnAuOwJ4AyHJuUEgCSotqROnOBcQwU8hWhoDrnAERAy39Wv79auO1LgabEmvCOQo4yXk4AGaGhFtfoGsJ+J2z7mt2v9CADSKJ2Gl2jL5HHTdICDSAJupUERzM8llwJgSYHiRetRDiAJD7OTQ0cJEK7kuEAkohAt4oCSKBuFuAAksBgA0icUJbguF46bB+zuzU8D3CQAY38Vu7WLc6GpSyvxMIByVDUAGQQkJMzqUOGQ8GY+vf+Psm98/ePp75uSdcDkJ5oWVxaHQ6X7d9+XAGkR59/Vyfbkv7apfaVpVa3cgDSoU0N7tHa62ep1TEPAOSIMDXBwa4WS6zolcfFym5i3iUGCftxZXCQA11qdA9chBwk2EVqScyPCYKL3FYFB2lpUrN74CIssQZdpGb3aIvz8/l7/nBeCoIQl0LgHteIcPPwWgsAudQC97hpsLjIXg8Acc7hHrdXn7gIgFzNCtyjK0HltG/1DoJ79N4DqP4ISvWA4B5DRy3qdpGqAcE9Bne+fZJatYtUCwhwDMPBzcOKd7EAJAaQel2kSgcBjnA4aneRKgEhMU8BpE4XqQ4Q3CMejppdpDpAcI8xgNTnIlUBgnukw9HUrO0ISlWA4B7jAfEt1HSQsRpAcA8ZOHwrNblINYDgHnKA1OQiVQCCe8jCcfk9iSqOoFQBCO4hD8geEvsHGc0DgnvkgaMWFzENiOVXF+Sb9nEtW3cR04DgHnGTPaW09ePwZgEBjpTpnlbHsosASNqcoFZLAcsuYhIQ3GN6fq26iElA2NadAxCbBxnNAYJ7TA+H5ePw5gDBPeYExJ6LmAIE95gPDqvH4U0BgnvMD4i1g4xmAME9dMBh7Ti8GUBwDz2AWDrIaAIQ3EMXHJYOMpoABPfQB4gVFykeENxDJxxWXKRoQIBDLxxWbh4CiP45VnQPSz/IWCwguEc53JR8kLFYQC5WJ2db59blTJP+nm4ePdwV2Dx64Jafv7rl5y9Whlb0O0aKBMSSe/z3x2/O/zv2+enPv53/Z+FTqosUCYiFbV3vGB4M7xh9H+8mHpLSHaXUXKQ4QKy4x4/TF4NwNOB4SO48fVO8kZToIsUBYsE9+pZVXRRYWW6V9lzfogCx4h7fv71LcoO7958l1dNUqbTn+hYFiAX38LnHj9PnSXP2ztO3xecifuAluUgxgFhxj5TlVUOTFUBKcpFiALHgHn6ijwHESh5S0kHGIgCx4h4Acr2yLGXbtwhArLgHgNxMvUrY9lUPiCX3AJBDQPQ/BUU1INbgAJDbm3faXQRAkjZc0yuRpJflImoBsegeOMjxPyyaXUQtIJYS8/a0wEGOLbP05iIqAbHqHjhI99JUq4uoBMSqewBIHyA6XUQdIJbdA0D6Nzc0HkFRB4hl9wCQ4d0/bQcZVQFi3T0AZBgQbS6iChDr7gEgw4BoOw6vBpAa3ANAwgDRdJBRDSA1uAeAhAHiS2nZ9lUBSC3uASAxgOjY9p0dkIvVk/XWLc7CpSu7JHfSw+OnwUVmB6Qm98BBwuHYL7Pmd5FZAakNDgCJA0RDLgIg8TEbVYMlVpx8c7vIbIDU6B44SBwcTek5c5HZAKllW/dwSuAg8ZDM6SKzAFKre+Ag8XDM7SKzAFKrewDIGEDm2dGaHJCa3QNA0gHxNec4yDg5IDW7B4CMA8TXnvo4/KSA1O4eADIekKldZFJAancPABkPyNQ3DycDBPfYTw62ecdDMuW272SA4B4AMh6N6xamunk4CSC4x3VgcRAZTKZykeyAAMfNCQEgMoBMlYsAiFy8gloCkCCZggpN4SJZAcE9bscZQILmfnCh3LlIVkAuVidnW+fWwaOtoCCAyAY5t4tkAwT3OD4RAEQWkNy5SDZA2NYFEHkUjreY00WyAIJ7dE8NHCQPNrlykSyA4B4AkgeD/lZzHGQUBwT36A/i5tFD9+P0edL8sfSe9CQBBirlOMgoDgjukQ+QO0/fuuXnLznmlpk2pV1EFBDcI2yeff/2LqzgQam7958l1aupkrSLiAKCe4RNxZREneVVmLbS275igOAe4QH0JX+cvnCbRw+CKi0/f3V3nr4JKksh2ScyigGCe8RNTZ+seycZgsTD4d2D3CNOX6ltXxFAcI+44LVL9y23WFal6yp183A0IMCRHsR2Te8o3k28Y/gPjjFeVwkXAZDxcaAFpQpIuMgoQHAPpTODbl0pMNZFRgFCYs5M1K7AWBdJBgT30D416F+jwBgXSQYE92AClqLAGBdJAgT3KGVq0M9GgdQjKEmA4B5MvBIVSDnIGA0I7lHi1KDPXoEUF4kGBPdgspWsQKyLRAGCe5Q8Nei7VyA2YY8CBPdgkllQIGbbNxgQ3MPC1GAMsS4SBMjF6sl66xZnyCuvQHNI0f/0n+b4uz/J6z/NT/kr191iqIsEAYJ7yE+m0O+DNJAAimwMQnORQUCAQzYwvjW+ciuvaUqLIS4CICnKjqiTAkdzOb56O0L4I1VDXKQXENxDNiC+tdQnmjQ94VuGsjEZcpFeQNjWlQ3GGPdo94TnY8nFZchFOgHBPeSCsN+dSn+i4mFPWGrJxqbPRToBwT1kgyDlHr5XACIbmz4XOQoI7iEbgNSdq75e8JRF2Rh1HWQ8CgjuISu+by3mQXEhVycPCVEprsyxg4y3AME94kQNLQ0goUrNV+6Yi9wCBPfIEyBpQFhi5YnToYvcAAT3yCM6u1j5dJVu+dBFbgCCe0jLfd2e5DYvNwvzxcm33HaRK0Bwj7yiSybqLK/yxqp9X+QKENwjr+hSyyzcI3+c2vdFdoDwfY/8ojdXGHPDEDimi1PjIjtAWF5NJ7y/Ugok3D2fNkZNsn7pICdnW+fW03ah7qs13yT0sAx9cI4hheR/3yyzdoCQf8gLHNpiA0gDjK/XvCOEN0uFqpinnF9mLcg/8ohLq+UrsAOE/KP8QDKCPAr4PARA8mhLqwYU8HnI4mJFgm4glgwhgwI7QEjQMyhLk2YUABAzoWQgORQAkByq0qYZBQDETCgZSA4FACSHqrRpRgF2scyEkoFIK8A2r7SitGdKAQAxFU4GI60Ad9KlFaU9UwrsAOGwoqmYMhhBBXaA+Pa4my6oKk2ZUcA/vIEvTJkJJwORVODGF6Y4sCgpLW1ZUODgK7e8pNNCUBmDnAI3Htrgm8VF5MSlpfIVaB4ed/VcLHazyg8qI5BRoP34UQCR0ZRWDClw9NGjfnx8P91QlBlKkgK9D6/mnkiSplQypEDv6w9wEUORZijRCgS9QIcdrWhdqWBEgaBXsO0B4b6IkZgzjEAFol7iyVIrUFWKmVCgCw4/uM73pLPUMhF7BjGgQN870gcBARLml2UFhuAIBIR8xPIkqXls7VetdenQu8RqKpG01zyNbI49BI4gB2lD4tziJS/asTlhahmVX1Y5t3197/zDx5AxBzlIuyFO/YbIShmNCoTkHIf9jgaELWCNoadPQwr0beX21U0CBEiGwsHvtSgQu6QScZB2I5wA1jIV6MehAqmu0W4n2UEOOwMoTFAtCox1jSyANI0CipZpUlc/9lD4T/gOVYhCYg5yeDF/72TjluuF274M6QhlUCBWgVxQZHWQrkE2wPjfL9321x3rzq1jRaF8fQpcg+Dcxi0+Ld3mY+h9jLFqZXOQsR2jPgpoUABANESBPqhVAEDUhoaOaVAAQDREgT6oVQBA1IaGjmlQAEA0RIE+qFUAQNSGho5pUABANESBPqhVAEDUhoaOaVAAQDREgT6oVeB/CNFKt7xdpVUAAAAASUVORK5CYII=",width:12},Ld={key:1,class:"flex text-20px"},Vd={key:0,class:"bg-btn"},Bd=["href"],Md=["href"],Dd={class:"media-item bg-btn cursor-pointer"},Ed={class:"py-4px [&&]:m--12px flex flex-col"},Pd=["href"],Ud=["href"],Rd=["href"],Hd=["href"],Od=["src"],jd={key:5,class:"media-item bg-btn clickable"},zd={class:"ml-2px ellipsis block",style:{"max-width":"140px"}},Wd={class:"filter-box"},qd={class:"flex mt-10px"},Gd={class:"mt-20px flex-center"},Yd={class:"ml-2px ellipsis block",style:{"max-width":"140px"}},Qd={class:"filter-box"},Kd={class:"flex mt-10px"},Xd={class:"mt-20px flex-center"},Zd={class:"text-12px flex items-center mt-4px"},Jd=["href"],ec={class:"media-item bg-btn cursor-pointer"},lc={key:1,class:"ml-5px hover:color-[--main-text] leading-12px font-400 mr-8px"},ac={key:2,class:"flex-start bg-btn"},tc={key:0,class:"ml-2px",style:{color:"#959a9f"}},nc={key:4,class:"minor flex-end color-text-2 tag-btn signal cursor-pointer mr-4px bg-btn text-10px"},oc={class:"mr-2px text-10px"},sc={class:"media-item bg-btn cursor-pointer"},ic={width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},rc=["fill"],uc={class:"text-[--main-text] text-10px ml-2px mt-1px"},dc={class:"py-4px [&&]:m--12px flex flex-col"},cc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},vc={class:"text-[--main-text]"},mc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},pc={class:"text-[--main-text]"},fc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},hc={class:"text-[--main-text]"},xc={class:"item ml-24px items-end!"},gc={class:"text-20px color-[--main-text]"},kc={class:"ml-24px cursor-pointer"},bc={class:"border-dotted border-0 border-b-1 inline-block leading-none"},_c={class:"block mt-8px color-[--main-text]"},yc={class:"bg-[--secondary-bg]"},wc={class:"flex p-10px justify-between pb-8px text-12px"},Tc={class:"text-12px color-[--third-text]"},Cc={class:"color-[--main-text]",'"':""},Ac={class:"max-h-300px px-10px overflow-auto v-scroller-container"},Sc=["onClick"],Nc={class:"flex justify-between"},$c={class:"flex items-center"},Fc={class:"relative"},Ic=["href"],Lc=["src"],Vc=["src"],Bc={class:"mb-[-5px]"},Mc={class:"token-address text-[10px] color-[--third-text]"},Dc={class:"flex items-center text-12px"},Ec={key:0,class:"color-[--secondary-text]"},Pc={key:1,class:"color-[--secondary-text]"},Uc={key:0,class:"item ml-24px"},Rc={class:"block mt-8px color-[--main-text]"},Hc={class:"item ml-24px"},Oc={class:"block mt-8px color-[--main-text]"},jc={class:"item ml-24px"},zc={class:"block mt-8px color-[--main-text]"},Wc={class:"item ml-24px"},qc={class:"block mt-8px color-[--main-text]"},Gc={class:"item ml-24px"},Yc={class:"flex-start"},Qc={class:"color-text-1 mt-8px font-500 text-14px flex-start"},Kc={key:0,width:12,class:"icon-svg1",src:bn},Xc={key:1,width:12,class:"icon-svg1",src:_n},Zc={key:2,width:12,class:"icon-svg1",src:Tn},Jc={key:3,class:"icon-svg1",width:12,src:yn},ev=B(t({__name:"index",setup(e){const{token_logo_url:l}=re(),a=H(),t=U(),{collected:T}=z(H()),{evmAddress:S}=z(O()),$=W(),{t:B}=n(),M=o(),{mode:D,dialogVisible_search:E,dialogSearchText:R}=z(U()),q=d(!1),Y=d(0),Q=d(0),J=d(!1),ee=d(!1),le=d([]),te=d(!1),ne=d(""),oe=ue("aiSummary"),Me=d(""),De=d(!1),Ee=P({all_tag_rate:0,rates:{rugged_rate:0}}),Pe=d(!1),Ue=de(Be.FAV_DIALOG);Ue.on(Ye);const Re=d({total_tokens:0,total_migrated:0}),He=de(Be.TOP_FAV_CHANGE),Oe=de(Be.TOP_ADD_GROUP),je=de(Be.DEV_TOKENS_TAB);function ze(){je.emit(),ae.success(B("devTokensDisplayed"))}async function We(){const e={token_id:el.value,pageNO:1,pageSize:1},l=await Hn(e);Re.value=l}const qe=e=>{const l=e.target_token===e.token0_address?e.token1_address:e.token0_address;if(l)return{tokenShow:l.slice(0,4)+"..."+l.slice(-6),token:l}},Ge=u(()=>{var e;return null==(e=a.pairs)?void 0:e.map(e=>{var l;return{...e,ammName:"unknown"===e.amm?e.amm:(null==(l=Ae(e.chain,e.amm))?void 0:l.show_name)||e.amm,isUp:e.target_token===e.token0_address?new Ce(e.reserve1).gt(e.init_reserve1):new Ce(e.reserve0).gt(e.init_reserve0)}}).filter(e=>!0)});function Ye({tokenId:e,type:l,groupId:a}){"changeFavoriteGroupName"===l||"removeFavoriteGroup"===l||"delete"===l?hl():e===el.value&&vl(),a&&Number(a)===Q.value&&(Q.value=0)}r(()=>De.value,e=>{e&&In().getContractCheckResult(M.params.id,Ke.value)}),r(()=>M.params.id,()=>{M.params.id&&We()}),se(()=>{He.off(ze),Ue.off(Ye)});const Qe=j(),Ke=u(()=>S.value||Qe.address),{statistics_risk_store:Xe,statistics_warning_store:Ze,statistics_unknown_store:Je}=z(In()),el=u(()=>M.params.id),ll=u(()=>a.token),al=u(()=>a.pair),tl=u(()=>a.price),nl=u(()=>a.priceChangeV2||0),ol=u(()=>a.marketCap||0),sl=u(()=>{var e,l;return(null==(e=a.pair)?void 0:e.volume_u)||(null==(l=a.tokenInfoExtra)?void 0:l.volume_24)||0}),il=u(()=>a.tokenInfoExtra),rl=u(()=>{var e;return Se(null==(e=ll.value)?void 0:e.appendix)}),ul=u(()=>{var e,l;return 0==Y.value?B("defaultGroup"):null==(l=null==(e=le.value)?void 0:e.find(e=>e.group_id==Y.value))?void 0:l.name}),dl=u(()=>{const{chain:e}=s(el.value,0);return e});i(()=>{Ke.value&&(vl(),hl()),M.params.id&&We(),"solana"==dl.value&&bl()}),r(Ke,e=>{e?(vl(),hl()):(T.value=!1,ne.value="",Me.value="",Y.value=0,Q.value=0)}),r(()=>M.params.id,()=>{Ke.value&&(vl(),hl()),"solana"==dl.value&&bl()});const cl=d(!1);function vl(){ce(el.value,Ke.value).then(e=>{T.value=!!(null==e?void 0:e.address),ne.value=(null==e?void 0:e.remark)||"",Me.value=(null==e?void 0:e.remark)||"",Y.value=(null==e?void 0:e.group_id)||0,Q.value=(null==e?void 0:e.group_id)||0}).catch(e=>{}).finally(()=>{})}function ml(e){Ne(e,Ke.value).then(l=>{Oe.emit(),l&&(pl(Number(l)),le.value.push({group_id:Number(l),name:e}))})}function pl(e){cl.value=!0,$e(el.value,Ke.value,e||0).then(()=>{ae.success(B("collected")),vl(),He.emit()}).catch(e=>{}).finally(()=>{cl.value=!1})}async function fl(e){Ke.value?(Qe.address&&await Qe.signMessageForFavorite(),T.value?(cl.value=!0,Ve(el.value,Ke.value).then(()=>{ae.success(B("cancelled1")),T.value=!1,He.emit(-1)}).catch(e=>{}).finally(()=>{cl.value=!1})):pl(e)):Fe()}async function hl(){try{J.value=!0;const e=await ve(Ke.value);le.value=(e||[]).filter(e=>!!e.name&&"token"===e.type)}catch(e){}finally{J.value=!1}}function xl(e,l=el.value,a=Ke.value){a&&(Y.value!==e?(ee.value=!0,Ie(l,e,a).then(()=>{ae.success(B("success")),q.value=!1,vl(),He.emit()}).catch(e=>{ae.error(B("fail"))}).finally(()=>{ee.value=!1})):(ee.value=!1,q.value=!1))}function gl(){q.value&&(q.value=!1,Q.value=Y.value),te.value&&(te.value=!1,Me.value=ne.value)}function kl(e){var l,a,t,n,o,s,i,r,u,d;let c=[],v=[],m=[];if(null==e?void 0:e.dynamic_tag){const n=JSON.parse(null==e?void 0:e.dynamic_tag)||[],o=null==n?void 0:n.filter(e=>null==e?void 0:e.startsWith("signal"));c=null==o?void 0:o.map(e=>({tag:!(null==e?void 0:e.split("-")[5])||"whale_sell"!=(null==e?void 0:e.split("-")[1])&&"whale_buy"!=(null==e?void 0:e.split("-")[1])?null==e?void 0:e.split("-")[1]:`${null==e?void 0:e.split("-")[1]}_trump`,color:null==e?void 0:e.split("-")[2],n:null==e?void 0:e.split("-")[3],timestamp:null==e?void 0:e.split("-")[4]})),null==c||c.sort((e,l)=>l.timestamp-e.timestamp);const s=c.filter((e,l)=>c.findIndex(e=>new RegExp("^kol_.*$","gi").test(e.tag))==l),i=c.filter((e,l)=>c.findIndex(e=>new RegExp("^dev_.*$","gi").test(e.tag))==l),r=c.filter((e,l)=>c.findIndex(e=>new RegExp("^smarter_.*$","gi").test(null==e?void 0:e.tag))==l),u=c.filter((e,l)=>c.findIndex(e=>new RegExp("^whale_.*$","gi").test(e.tag))==l),d=null==c?void 0:c.filter(e=>!new RegExp("^dev_|kol_|smarter_|whale_.*$","gi").test(e.tag));c=null==(t=null==(a=null==(l=null==s?void 0:s.concat(i))?void 0:l.concat(r))?void 0:a.concat(u))?void 0:t.concat(d),null==c||c.sort((e,l)=>l.timestamp-e.timestamp),m=n.filter(e=>!(null==e?void 0:e.startsWith("signal")))}v=(null==m?void 0:m.map(e=>({tag:e,color:"green",showText:!1})))||[];const p=(null==c?void 0:c.some(e=>new RegExp("rug_pull","gi").test(null==e?void 0:e.tag)))||(null==v?void 0:v.some(e=>new RegExp("rug_pull","gi").test(null==e?void 0:e.tag))),f=(null==c?void 0:c.some(e=>new RegExp("shitcoin","gi").test(null==e?void 0:e.tag)))||(null==v?void 0:v.some(e=>new RegExp("shitcoin","gi").test(e.tag)));if(((null==e?void 0:e.risk_score)??0)>=100&&"solana"==(null==e?void 0:e.chain)?(e.lp_locked_percent=0,c=[],v=[{tag:"flag_dangerous",color:"red",showText:!0}]):p?(e.lp_locked_percent=0,c=[],v=[{tag:"flag_rug_pull",color:"red",showText:!0}]):f&&(e.lp_locked_percent=0,c=[],v=[{tag:"flag_shit_coins",color:"red",showText:!0}]),null==(n=null==ll?void 0:ll.value)?void 0:n.tag){const e=(null==(s=null==(o=null==ll?void 0:ll.value)?void 0:o.tag)?void 0:s.split(","))||[],l=null==e?void 0:e.filter(e=>""!==e&&"newcommunity"!==e);v=(null==l?void 0:l.map(e=>({tag:e,color:"green",showText:!1}))).concat(v)}const h=(null==(r=null==(i=null==ll?void 0:ll.value)?void 0:i.tag)?void 0:r.split(","))||[],x=null==(u=null==h?void 0:h.includes)?void 0:u.call(h,"newcommunity");return(1==(null==(d=null==ll?void 0:ll.value)?void 0:d.cto_flag)||x)&&v.unshift({tag:"cto_flag",color:"green",showText:!1}),{normal_tag:v,signal_arr:c}}function bl(){Pe.value=!0,Rn(el.value).then(e=>{var l,a,t,n,o,s,i,r;Ee.value.dev=(null==e?void 0:e.dev)||"",Ee.value.all_tag_rate=null==(t=null==(a=null==(l=null==e?void 0:e.rates)?void 0:l.rateList)?void 0:a.find(e=>"icon_all_tag_rate"==(null==e?void 0:e.icon)))?void 0:t.rate,Ee.value.all_tag_rate=Number((null==(n=Ee.value.all_tag_rate)?void 0:n.toFixed(1))||0)||0,Ee.value.rates=null==e?void 0:e.rates,Ee.value.rateList=null==(s=null==(o=null==e?void 0:e.rates)?void 0:o.rateList)?void 0:s.filter(e=>"icon_all_tag_rate"!==e.icon),Ee.value.rateList=null==(r=null==(i=Ee.value)?void 0:i.rateList)?void 0:r.map(e=>{var l;return{...e,rate:Number((null==(l=e.rate)?void 0:l.toFixed(1))||0)}})}).catch(e=>{}).finally(()=>{Pe.value=!1})}function _l(){const e=M.params.id;a.tokenWarningObj[e]=!0}async function yl(){var e;E.value=!0,await Promise.resolve(),R.value=(null==(e=ll.value)?void 0:e.symbol)||""}return(e,n)=>{var o,s,i,r,u,d,S,E,P,U,R,H,O,j,z,W,Y,J,se,re,ue,de,ce,ve,Ce,Ae,Se,Ne,$e,Ie,Ve,Be,Ee,Pe,Ue,Oe,je,We,Ye,Qe,dl,cl,vl,pl,hl,bl,wl,Tl,Cl,Al,Sl,Nl,$l,Fl;const Il=vn,Ll=pe,Vl=Z,Bl=b,Ml=fn,Dl=V,El=gn,Pl=xn,Ul=ke,Rl=_e,Hl=c("tooltip"),Ol=be,jl=c("copy");return f(),_("div",xd,[((null==(s=null==(o=p(a))?void 0:o.token)?void 0:s.risk_level)??0)<0?(f(),v(Il,{key:0,class:"myTxs-notice",type:"warning",title:e.$t("riskWarning")+": "+e.$t("riskWarningContent1"),"show-icon":"",style:A({backgroundColor:"light"===p(D)?"#ffa94d0d":"#36131C",color:"#f00",border:"none",fontSize:"12px"}),closable:!1},null,8,["title","style"])):p(a).warningStatus?(f(),v(Il,{key:1,class:"myTxs-notice",type:"warning",title:p(B)("alertNotice"),"show-icon":"",closable:"",style:A({backgroundColor:"light"===p(D)?"#ffa94d0d":"#3b1e0c",color:"#ED6A0C",border:"none",fontSize:"12px"}),onClose:_l},null,8,["title","style"])):m("",!0),x("div",gd,[C(En,{iconClass:"text-16px cursor-pointer",isCollected:p(T),userFavoriteGroups:p(le),onConfirmSwitchGroup:xl,onCollect:fl,onNewGroupAndCollect:ml},null,8,["isCollected","userFavoriteGroups"]),x("div",kd,[p(me)(p(ll))?(f(),v(Vl,{key:0,"popper-class":"tooltip-pd-0",placement:"bottom-start","show-arrow":!1,persistent:!1},{content:h(()=>[C(Ll,{class:"token-icon h-228px w-228px items-center",src:p(me)(p(ll)),lazy:""},{error:h(()=>{var e,l;return[x("img",{class:"token-icon h-228px w-228px",src:p(fe)(null==(e=p(ll))?void 0:e.chain,null==(l=p(ll))?void 0:l.symbol)},null,8,bd)]}),placeholder:h(()=>{var e,l;return[x("img",{class:"token-icon h-228px w-228px",src:p(fe)(null==(e=p(ll))?void 0:e.chain,null==(l=p(ll))?void 0:l.symbol)},null,8,_d)]}),_:1},8,["src"])]),default:h(()=>{var e,a;return[p(me)(p(ll))?(f(),_("div",yd,[C(Ll,{class:"token-icon rounded-100%",src:p(me)(p(ll)),lazy:""},{error:h(()=>{var e,l;return[x("img",{class:"token-icon",src:p(fe)(null==(e=p(ll))?void 0:e.chain,null==(l=p(ll))?void 0:l.symbol)},null,8,wd)]}),placeholder:h(()=>{var e,l;return[x("img",{class:"token-icon",src:p(fe)(null==(e=p(ll))?void 0:e.chain,null==(l=p(ll))?void 0:l.symbol)},null,8,Td)]}),_:1},8,["src"]),(null==(e=p(ll))?void 0:e.chain)?(f(),_("img",{key:0,class:"icon-symbol rounded-100%",src:`${p(l)}chain/${null==(a=p(ll))?void 0:a.chain}.png`},null,8,Cd)):m("",!0)])):m("",!0)]}),_:1})):m("",!0),x("div",Ad,[x("div",Sd,[x("span",Nd,k(null==(i=p(ll))?void 0:i.symbol),1),x("span",$d,k(null==(r=p(ll))?void 0:r.name),1),x("div",Fd,[((null==(u=p(ll))?void 0:u.risk_level)??0)<0?(f(),_("img",Id)):m("",!0),(null==(d=p(rl))?void 0:d.length)>0?(f(),_("div",Ld,[(f(!0),_(y,null,w(p(rl),(e,l)=>(f(),_("div",{key:l,class:"tag-btn"},[e.url?(f(),_(y,{key:0},["QQ"===e.name?g((f(),_("span",Vd,[C(Bl,{name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"])])),[[Hl,e.url]]):"twitter"===e.icon?(f(),v(pn,{key:1,tokenId:p(M).params.id,type:p(a).twitterType},{default:h(()=>[x("a",{href:e.url,target:"_blank",class:"bg-btn",onClick:n[0]||(n[0]=F(()=>{},["stop"]))},[[1,2,3].includes(p(a).twitterType)?(f(),v(mn,{key:0,type:p(a).twitterType,class:"text-12px"},null,8,["type"])):(f(),v(Bl,{key:1,name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"]))],8,Bd)]),_:2},1032,["tokenId","type"])):g((f(),_("a",{key:2,href:e.url,target:"_blank",class:"bg-btn",onClick:n[1]||(n[1]=F(()=>{},["stop"]))},[C(Bl,{name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"])],8,Md)),[[Hl,e.url]])],64)):m("",!0)]))),128))])):m("",!0),(null==(S=p(ll))?void 0:S.is_streaming)?(f(),v(Ml,{key:2,tokenId:p(M).params.id},null,8,["tokenId"])):m("",!0),C(Dl,{"popper-class":"[--el-popover-bg-color:--border]",persistent:!1},{reference:h(()=>[x("span",Dd,[C(Bl,{class:"text-[--third-text] h-16px w-10px",name:"custom:search"})])]),default:h(()=>{var l,a,t,n;return[x("div",Ed,[x("a",{href:`https://x.com/search?q=${null==(l=p(ll))?void 0:l.token}`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},k(e.$t("tweetSearchContractAddress")),9,Pd),x("a",{href:`https://x.com/search?q=$${null==(a=p(ll))?void 0:a.symbol}`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},k(e.$t("tweetSearchContractAddress2")),9,Ud),x("a",{href:`https://www.tiktok.com/search?q=${null==(t=p(ll))?void 0:t.symbol}`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},k(e.$t("TikTokSearchName")),9,Rd),x("a",{href:`https://www.google.com/search?q=${null==(n=p(ll))?void 0:n.symbol}&tbm=nws`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},k(e.$t("GoogleSearchName")),9,Hd),x("span",{class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active] cursor-pointer",onClick:yl},k(e.$t("tweetSearchContractAddress4")),1)])]}),_:1}),p(al)&&(null==(P=null==(E=kl(p(al)))?void 0:E.normal_tag)?void 0:P.length)>0?(f(!0),_(y,{key:3},w(null==(U=kl(p(al)))?void 0:U.normal_tag,(l,a)=>(f(),_("div",{key:a,class:"bg-btn flex h-16px tag-btn"},[g((f(),v(Ll,{class:"token-icon-tag cursor-pointer h-100% max-w-16px",src:p(he)(l.tag),lazy:""},{error:h(()=>[...n[15]||(n[15]=[x("img",{class:"token-icon-tag h-16px",src:kn},null,-1)])]),placeholder:h(()=>[...n[16]||(n[16]=[x("img",{class:"token-icon-tag h-16px",src:kn},null,-1)])]),_:1},8,["src"])),[[Hl,e.$t(`${l.tag}`)]]),(null==l?void 0:l.showText)?(f(),_("span",{key:0,style:A({color:"green"==(null==l?void 0:l.color)?p(xe)[0]:p(ge)[0]}),class:"text-10px mr-4px"},k(e.$t(null==l?void 0:l.tag)),5)):m("",!0)]))),128)):m("",!0),(null==(R=p(ll))?void 0:R.launchpad)?g((f(),_("img",{key:4,class:"rounded-100% bg-btn cursor-pointer",src:p(he)(p(ll).launchpad),alt:"",width:12,style:{"border-radius":"100%"}},null,8,Od)),[[Hl,p(ll).launchpad]]):m("",!0),(null==(H=p(oe))?void 0:H.headline)||(null==(O=p(oe))?void 0:O.summary)?g((f(),_("a",jd,[C(Bl,{name:"custom:ai",class:"text-14px"})])),[[Hl,{content:`<div class='max-w-[400px]'>${p(oe).headline||p(oe).summary}</div>`,props:{placement:"top-start"}},void 0,{raw:!0}]]):m("",!0)]),C(hd),p(T)?(f(),v(Dl,{key:0,visible:p(q),"onUpdate:visible":n[6]||(n[6]=e=>L(q)?q.value=e:null),placement:"bottom","popper-class":"chains-table-filter",title:"",width:200,persistent:!1,trigger:"click"},{reference:h(()=>[x("a",{class:"w-zu flex-start bg-btn",href:"",onClick:n[2]||(n[2]=F(()=>{},["stop","prevent"]))},[C(Bl,{class:"text-[--third-text] text-12px",name:"custom:groups"}),x("span",zd,k(p(ul)),1)])]),default:h(()=>[x("div",Wd,[x("span",null,k(e.$t("editGroup")),1),x("div",qd,[C(Pl,{modelValue:p(Q),"onUpdate:modelValue":n[3]||(n[3]=e=>L(Q)?Q.value=e:null),class:"select3",placeholder:e.$t("pleaseSelectGroup"),teleported:!1,persistent:!1},{default:h(()=>[C(El,{label:e.$t("defaultGroup"),value:0},null,8,["label"]),(f(!0),_(y,null,w(p(le),e=>(f(),v(El,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),x("div",Gd,[(f(),v(Ul,{key:p($).theme,class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},color:"var(--border)",onClick:n[4]||(n[4]=F(e=>gl(),["stop"]))},{default:h(()=>[N(k(e.$t("cancel")),1)]),_:1})),g((f(),v(Ul,{class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},type:"primary",onClick:n[5]||(n[5]=F(e=>xl(p(Q)),["stop"]))},{default:h(()=>[N(k(e.$t("confirm")),1)]),_:1})),[[Ol,p(ee)]])])])]),_:1},8,["visible"])):m("",!0),p(T)?(f(),v(Dl,{key:1,visible:p(te),"onUpdate:visible":n[11]||(n[11]=e=>L(te)?te.value=e:null),placement:"bottom","popper-class":"chains-table-filter",title:"",persistent:!1,width:200,trigger:"click"},{reference:h(()=>[x("a",{class:"w-zu flex-start bg-btn",href:"",onClick:n[7]||(n[7]=F(()=>{},["stop","prevent"]))},[C(Bl,{class:"text-[--third-text] text-12px",name:"custom:remark"}),x("span",Yd,k(p(ne)),1)])]),default:h(()=>[x("div",Qd,[x("span",null,k(e.$t("editRemark")),1),x("div",Kd,[C(Rl,{modelValue:p(Me),"onUpdate:modelValue":n[8]||(n[8]=e=>L(Me)?Me.value=e:null),modelModifiers:{trim:!0},placeholder:p(ne),clearable:""},null,8,["modelValue","placeholder"])]),x("div",Xd,[(f(),v(Ul,{key:p($).theme,class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","margin-left":"auto","--el-button-font-weight":"400"},color:"var(--border)",onClick:n[9]||(n[9]=F(e=>gl(),["stop"]))},{default:h(()=>[N(k(e.$t("cancel")),1)]),_:1})),C(Ul,{class:"flex-1",size:"default",type:"primary",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},onClick:n[10]||(n[10]=F(e=>function(e,l){if(Ke.value)return(null==l?void 0:l.length)>50?ae.error(B("maximum10characters")):void Le(e,l,Ke.value).then(()=>{ae.success(B("success")),ne.value=l,te.value=!1,He.emit()}).catch(e=>{ae.error(B("fail"))}).finally(()=>{});Fe()}(p(el),p(Me)),["stop"]))},{default:h(()=>[N(k(e.$t("confirm")),1)]),_:1})])])]),_:1},8,["visible"])):m("",!0)]),x("div",Zd,["0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"!==(null==(j=p(ll))?void 0:j.token)?(f(),_("a",{key:0,class:"hover:color-[--main-text] leading-12px font-500",href:p(K)(null==(z=p(ll))?void 0:z.chain,null==(W=p(ll))?void 0:W.token),target:"_blank"},k(null==(J=null==(Y=p(ll))?void 0:Y.token)?void 0:J.replace(new RegExp("(.{4})(.+)(.{4}$)"),"$1...$3")),9,Jd)):m("",!0),x("span",ec,[g(C(Bl,{name:"bxs:copy",class:"ml-5px clickable"},null,512),[[jl,null==(se=p(ll))?void 0:se.token]])]),p(al)?g((f(),_("span",lc,[N(k(("formatTimeFromNow"in e?e.formatTimeFromNow:p(ye))(null==(re=p(al))?void 0:re.created_at,!1,!0)),1)])),[[Hl,p(X)(null==(ue=p(al))?void 0:ue.created_at)]]):m("",!0),((null==(de=p(il))?void 0:de.buy_tax)??0)>0||((null==(ce=p(il))?void 0:ce.sell_tax)??0)>0?(f(),_("div",ac,[x("span",null,k(e.$t("tax"))+":",1),((null==(ve=p(il))?void 0:ve.buy_tax)??0)>0?(f(),_("span",{key:0,class:"text-12px tax-text",style:A({color:p(xe)[0]})},k(p(G)((null==(Ce=p(il))?void 0:Ce.buy_tax)||0,1))+"% ",5)):m("",!0),((null==(Ae=p(il))?void 0:Ae.sell_tax)??0)>0?(f(),_("span",{key:1,class:"text-12px tax-text ml-4px",style:A({color:p(ge)[0]})},k(p(G)((null==(Se=p(il))?void 0:Se.sell_tax)||0,1))+"% ",5)):m("",!0)])):m("",!0),p(al)&&(null==($e=null==(Ne=kl(p(al)))?void 0:Ne.signal_arr)?void 0:$e.length)>0?(f(!0),_(y,{key:3},w(null==(Ve=null==(Ie=kl(p(al)))?void 0:Ie.signal_arr)?void 0:Ve.slice(0,3),(l,a)=>{var t,o,s,i,r,u;return g((f(),_("div",{key:a,class:"flex bg-btn signal pointer mr-4px text-10px"},[C(Ll,{class:"token-icon-signal-tag h-10px",src:p(he)(l.tag),lazy:""},{error:h(()=>[...n[17]||(n[17]=[x("img",{class:"token-icon-signal-tag h-16px",src:kn},null,-1)])]),placeholder:h(()=>[...n[18]||(n[18]=[x("img",{class:"token-icon-signal-tag h-16px",src:kn},null,-1)])]),_:1},8,["src"]),"smarter_buy"!=(null==l?void 0:l.tag)&&"smarter_sell"!=(null==l?void 0:l.tag)||!(((null==(t=p(al))?void 0:t.smart_money_buy_count_24h)??0)>0||(null==(o=p(al))?void 0:o.smart_money_sell_count_24h))?m("",!0):(f(),_("div",tc,[x("span",{style:A({color:((null==(s=p(al))?void 0:s.smart_money_buy_count_24h)??0)>0?p(xe)[0]:""})},k(p(G)((null==(i=p(al))?void 0:i.smart_money_buy_count_24h)||0,0)),5),n[19]||(n[19]=N("/",-1)),x("span",{style:A({color:((null==(r=p(al))?void 0:r.smart_money_sell_count_24h)??0)>0?p(ge)[0]:""})},k(p(G)((null==(u=p(al))?void 0:u.smart_money_sell_count_24h)||0,0)),5)])),x("span",{class:"ml-2px",style:A({color:"green"==l.color?p(xe)[0]:p(ge)[0]})},[l.tag?(f(),_(y,{key:0},[new RegExp("_buy.*$","gi").test(l.tag)?(f(),_(y,{key:0},[N(k(e.$t("buy")),1)],64)):new RegExp("_sell.*$","gi").test(l.tag)?(f(),_(y,{key:1},[N(k(e.$t("sell")),1)],64)):(f(),_(y,{key:2},[N(k(e.$t(l.tag)),1)],64))],64)):m("",!0)],4)])),[[Hl,p(we)(l)+("smarter_buy"==l.tag||"smarter_sell"==l.tag?`（${e.$t("amountU")}>$10)`:"")]])}),128)):m("",!0),p(al)&&-1==(null==(Ee=null==(Be=kl(p(al)))?void 0:Be.signal_arr)?void 0:Ee.findIndex(e=>"smarter_buy"===(null==e?void 0:e.tag)))&&-1==(null==(Ue=null==(Pe=kl(p(al)))?void 0:Pe.signal_arr)?void 0:Ue.findIndex(e=>"smarter_sell"==(null==e?void 0:e.tag)))&&(((null==(Oe=p(al))?void 0:Oe.smart_money_buy_count_24h)??0)>0||((null==(je=p(al))?void 0:je.smart_money_sell_count_24h)??0)>0)?g((f(),_("div",nc,[C(Bl,{class:"text-[--third-text] h-12px w-12px mr-2px",name:"custom:smart"}),x("span",oc,k(e.$t("smarter")),1),x("span",{style:A({color:((null==(We=p(al))?void 0:We.smart_money_buy_count_24h)??0)>0?p(xe)[0]:"var(--custom-text-3-color)"})},k(p(G)((null==(Ye=p(al))?void 0:Ye.smart_money_buy_count_24h)||0,0)),5),n[20]||(n[20]=N("/",-1)),x("span",{style:A({color:((null==(Qe=p(al))?void 0:Qe.smart_money_sell_count_24h)??0)>0?p(ge)[0]:"var(--custom-text-3-color)"})},k(p(G)((null==(dl=p(al))?void 0:dl.smart_money_sell_count_24h)||0,0)),5)])),[[Hl,p(we)({smart_money_buy_count_24h:(null==(cl=p(al))?void 0:cl.smart_money_buy_count_24h)||0,smart_money_sell_count_24h:(null==(vl=p(al))?void 0:vl.smart_money_sell_count_24h)||0})]]):m("",!0),C(Vo),C(Dl,{width:"120px","popper-class":"[--el-popover-bg-color:--border] !min-w-[120px]",persistent:!1},{reference:h(()=>{var e,l;return[x("span",sc,[(f(),_("svg",ic,[x("path",{fill:(null==(e=p(Re))?void 0:e.total_tokens)?"#F6465D":"#5A5E64",d:"M8.04273 10H1.94948C1.80865 10 1.69463 9.87378 1.69463 9.71787V8.05005H8.29757V9.71914C8.29648 9.87378 8.18246 10 8.04273 10ZM1.69463 7.43178V6.31448C0.714308 6.05962 0 5.07978 0 3.94159C0 2.59556 0.988135 1.50067 2.20322 1.50067C2.44801 1.50067 2.69172 1.54645 2.91975 1.63308C3.22493 0.669309 4.05656 1.3726e-10 4.99999 1.3726e-10C5.94342 -1.10678e-05 6.77507 0.66932 7.08025 1.63308C7.30942 1.54645 7.55198 1.50067 7.79678 1.50067C9.01187 1.50067 10 2.59556 10 3.94159C10 5.07978 9.2857 6.05842 8.30536 6.31448V7.43178H1.69463Z"},null,8,rc)])),x("span",uc,k(null==(l=p(Re))?void 0:l.total_tokens),1)])]}),default:h(()=>{var l;return[x("div",dc,[x("span",cc,[x("span",null,"Dev"+k(e.$t("migrated")),1),x("span",vc,k(p(Re).total_migrated),1)]),x("span",mc,[x("span",null,"Dev"+k(e.$t("totalTokens")),1),x("span",pc,k(p(Re).total_tokens),1)]),x("div",fc,[x("span",null,k(e.$t("migrationRate")),1),x("span",hc,k((null==(l=p(Re))?void 0:l.total_tokens)?((p(Re).total_migrated??0)/p(Re).total_tokens*100).toFixed(2):0)+"% ",1)]),x("span",{class:"flex items-center justify-between clickable text-12px py-4px px-8px color-[--third-text] hover:bg-[--dialog-tab-active]",onClick:ze},[x("span",null,k(e.$t("viewDevTokens")),1)])])]}),_:1})])])]),n[22]||(n[22]=x("div",{class:"flex-1"},null,-1)),x("div",xc,[x("span",gc," $"+k(p(G)(p(tl)||0,{decimals:4,limit:6})),1),x("span",{class:I(["block mt-4px",p(nl)>0?`color-${p(xe)[0]}`:`color-${p(ge)[0]}`])},k(p(nl)>0?"+":"")+k(p(G)(p(nl),{decimals:2,limit:10}))+"%",3)]),C(Dl,{"popper-style":"padding: 0;border-radius: 8px;",width:"250",placement:"top",teleported:!1,trigger:"hover"},{reference:h(()=>{var l;return[x("div",kc,[x("span",bc,k(e.$t("liquidity3")),1),x("span",_c," $"+k(p(G)((null==(l=p(a).token)?void 0:l.main_pair_tvl)||0,1)),1)])]}),default:h(()=>{var t;return[x("div",yc,[x("div",wc,[x("span",Tc,k(e.$t("availableLiquidity")),1),x("span",Cc,k(p(G)((null==(t=p(a).token)?void 0:t.main_pair_tvl)||0,1)),1)]),x("div",Ac,[(f(!0),_(y,null,w(p(Ge),t=>{var n,o;return f(),_("div",{key:t.pair,class:"flex justify-between mb-4px cursor-pointer",onClick:F(e=>p(a).switchPair(t.pair),["stop"])},[x("div",Nc,[x("div",$c,[x("div",Fc,["unknown"===t.amm?g((f(),v(Bl,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-24px"},null,512)),[[Hl,t.amm]]):g((f(),_("a",{key:1,href:t.swap_url+t.target_token,target:"_blank",class:"inline-flex"},[x("img",{class:"rounded-50% mr-5px h-30px w-30px",src:p(Te)(t.amm),onerror:"this.src='/icon-default.png'"},null,8,Lc)],8,Ic)),[[Hl,t.ammName]]),x("img",{class:"rounded-50% absolute right-6px bottom-6px h-10px w-10px",src:`${p(l)}chain/${t.chain}.png`,onerror:"this.src='/icon-default.png'"},null,8,Vc)])]),x("div",null,[x("div",Bc,k(t.amm),1),x("span",Mc,[N(k(e.$t("poolPair"))+": "+k(null==(n=qe(t))?void 0:n.tokenShow)+" ",1),g(C(Bl,{name:"bxs:copy",class:"text-2.5 color-[--third-text] clickable"},null,512),[[jl,null==(o=qe(t))?void 0:o.token]])])])]),x("div",Dc,[t.target_token===t.token0_address?(f(),_("span",Ec,"$"+k(p(G)(t.reserve1*t.token1_price_usd*2||0,2)),1)):(f(),_("span",Pc,"$"+k(p(G)(t.reserve0*t.token0_price_usd*2||0,2)),1))])],8,Sc)}),128))])])]}),_:1}),((null==(pl=p(al))?void 0:pl.progress)??0)>0&&((null==(hl=p(al))?void 0:hl.progress)??0)<100?(f(),_("div",Uc,[x("span",null,k(e.$t("progress")),1),x("span",Rc,k(p(G)((null==(bl=p(al))?void 0:bl.progress)||0,2))+"%",1)])):m("",!0),x("div",Hc,[x("span",null,k(e.$t("mcap")),1),x("span",Oc,"$"+k(p(G)(p(ol),2)),1)]),x("div",jc,[x("span",null,k(e.$t("24Volume")),1),x("span",zc,"$"+k(p(G)(p(sl),2)),1)]),x("div",Wc,[x("span",null,k(e.$t("holders")),1),x("span",qc,k(p(G)((null==(wl=p(ll))?void 0:wl.holders)||0,{limit:10})),1)]),x("div",Gc,[n[21]||(n[21]=x("span",null,"DEV",-1)),x("span",{class:"block mt-8px color-[--main-text]",style:A({color:100*Number((null==(Tl=p(ll))?void 0:Tl.dev_balance_ratio_cur)||0)<.1?"var(--third-text)":100*((null==(Cl=p(ll))?void 0:Cl.dev_balance_ratio_cur)??0)>10?"#FFA622":""})},k(((null==(Al=p(ll))?void 0:Al.dev_balance_ratio_cur)??0)>0&&100*((null==(Sl=p(ll))?void 0:Sl.dev_balance_ratio_cur)??0)<.1?"<0.1":p(G)(100*((null==(Nl=p(ll))?void 0:Nl.dev_balance_ratio_cur)??0),2))+"%",5)]),x("div",{class:"item ml-24px cursor-pointer",onClick:n[13]||(n[13]=e=>De.value=!p(De))},[x("span",Yc,[N(k(e.$t("audit1"))+" ",1),C(Bl,{name:"material-symbols:arrow-forward-ios-rounded",class:"text-12px"})]),x("div",Qc,[-1==(null==($l=p(ll))?void 0:$l.risk_level)||((null==(Fl=p(ll))?void 0:Fl.risk_score)??0)>=60||p(Xe)>0?(f(),_("img",Kc)):p(Ze)>0?(f(),_("img",Xc)):p(Xe)||p(Ze)||p(Je)?(f(),_("img",Jc)):(f(),_("img",Zc)),p(Xe)||p(Ze)||p(Je)?(f(),_("span",{key:4,class:"ml-5px",style:A([{"font-weight":"600"},{color:(zl=p(ll),-1==((null==zl?void 0:zl.risk_level)??0)||((null==zl?void 0:zl.risk_score)??0)>=60||(null==Xe?void 0:Xe.value)>0?"#e74e54":Ze?"#f8be46":Xe||Ze||Je?"#507eef":"#81c54e")}])},k(p(Xe)||p(Ze)||p(Je)||""),5)):m("",!0)]),C(od,{modelValue:p(De),"onUpdate:modelValue":n[12]||(n[12]=e=>L(De)?De.value=e:null)},null,8,["modelValue"])])]),g(x("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-1 cursor-pointer flex items-center justify-center top-0px right--11px hover:w-30px hover:right--31px hover:h-36px transition-all rounded-tl-4px rounded-bl-4px color-[--third-text] hover:color-[--main-text]",onClick:n[14]||(n[14]=e=>p(t).$patch({showRight:!1}))},[C(Bl,{name:"material-symbols:arrow-forward-ios",class:"text-12px"})],512),[[ie,p(t).showRight]])]);var zl}}}),[["__scopeId","data-v-13c6ae8f"]]),lv={class:"tabs pt-11px pb-10px px-15px"},av=["onClick"],tv={class:"name"},nv=B(t({__name:"priceTabs",props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup(e,{emit:l}){const a=Me(()=>ne(()=>import("./SAv5KoQ3.js"),__vite__mapDeps([6,4,5]),import.meta.url)),t=P(!0),n=l,o=H(),s=e=>{var l;const a=null==(l=o.pair)?void 0:l[`price_change_${e}`];return a?a>0?"#12B886":a<0?"#F6465D":"#999":"#999"},i=()=>{setTimeout(()=>{t.value=!0},16.7)};return(l,r)=>p(t)?(f(),_("div",{key:1,onMouseenter:r[0]||(r[0]=e=>{t.value=!1}),class:"bg-[--secondary-bg] py-8px px-15px"},[(f(!0),_(y,null,w(e.tabs,l=>(f(),_(y,{key:l.id},[e.modelValue===l.id?(f(),v(p(a),{key:0,tabActive:l.id,tabActiveName:l.name},null,8,["tabActive","tabActiveName"])):m("",!0)],64))),128))],32)):(f(),_("div",{key:0,class:"bg-[--secondary-bg]",onMouseleave:i},[x("div",lv,[(f(!0),_(y,null,w(e.tabs,l=>{var a;return f(),_("button",{key:l.id,class:I(["tab-button clickable-btn bg-[--secondary-bg]",{active:e.modelValue===l.id}]),onClick:F(e=>n("update:modelValue",l.id),["stop"])},[x("div",tv,k(l.name),1),x("div",{class:"value",style:A({color:s(l.id)})},k(p(o).pair?p(G)(null==(a=p(o).pair)?void 0:a[`price_change_${null==l?void 0:l.id}`],2):"--")+"% ",5)],10,av)}),128))])],32))}}),[["__scopeId","data-v-4e26f706"]]),ov={class:"min-h-400px"},sv={class:"card-list-item"},iv=["href"],rv={key:0,style:{height:"15px"},src:jo,alt:"",srcset:""},uv={class:"color-[--third-text]"},dv={key:0,class:"table-lock"},cv=B(t({__name:"lpHolders",props:{type:{type:String,default:"token"},onlyList:{type:Boolean,default:!0}},setup(e){const l=H(),a=o(),t=d(null),n=u(()=>{var e;const t=s(a.params.id);return(null==t?void 0:t.chain)||(null==(e=l.token)?void 0:e.chain)||""}),c=u(()=>{var e;return(null==(e=l.tokenInfoExtra)?void 0:e.pair_holders)||0});function g(e){return(null==e?void 0:e.lock)||/lock|null|(black hole)/gi.test((null==e?void 0:e.mark)||"")}function T(){const e=a.params.id;Mn(e).then(e=>{t.value=e})}return r(()=>a.params.id,()=>{T()}),i(()=>{T()}),(e,l)=>{const a=hn,o=b;return f(),_("ul",ov,[x("li",sv,[x("span",null,k(e.$t("holders2"))+k(p(c)?`(${p(c)})`:""),1),x("span",null,k(e.$t("details")),1)]),(f(!0),_(y,null,w(p(t)||[],(t,s)=>{var i,r,u;return f(),_(y,{key:s},[x("li",{class:I(["card-list-item",{"bg-warning":1===Number(null==t?void 0:t.analysis_show_warning)}])},[x("a",{href:("formatExplorerUrl"in e?e.formatExplorerUrl:p(K))(p(n)||"",t.address||"","address"),target:"_blank",class:"flex items-center"},[x("span",null,k(s+1)+".",1),1===Number(null==t?void 0:t.analysis_show_creator)?(f(),v(a,{key:0,type:"primary",round:"",size:"small",class:"mr-3px"},{default:h(()=>[N(k(e.$t("contractCreator")),1)]),_:1})):m("",!0),g(t)?(f(),_(y,{key:1},[(null==t?void 0:t.lock)&&(null==(i=null==t?void 0:t.lock)?void 0:i.length)>0&&(null==(u=null==(r=null==t?void 0:t.lock)?void 0:r.every)?void 0:u.call(r,e=>1e3*e.unlockDate<=Date.now()))?(f(),_("img",rv)):(f(),v(o,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"}))],64)):m("",!0),1===(null==t?void 0:t.is_contract)?(f(),v(o,{key:2,name:"custom:contract",class:"mr-2px text-12px"})):m("",!0),t.mark?(f(),_(y,{key:4},[N(k(t.mark),1)],64)):(f(),_(y,{key:3},[N(k((t.address||"").slice(0,2)+"..."+(t.address||"").slice(-4)),1)],64)),t.lock&&t.lock.length>0&&t.lock.every(e=>1e3*e.unlockDate<=Date.now())?(f(),_(y,{key:5},[l[0]||(l[0]=x("br",null,null,-1)),N(" "+k(e.$t("unlocked")),1)],64)):m("",!0)],8,iv),x("div",null,[N(k(p(G)(t.quantity||0,2))+" ",1),x("span",uv,"("+k(p(G)(t.percent||0,2))+"%)",1)])],2),t.lock&&t.lock.length>0?(f(),_("table",dv,[x("thead",null,[x("tr",null,[x("th",null,k(e.$t("amount")),1),x("th",null,k(e.$t("lockDate")),1),x("th",null,k(e.$t("unlockDateStart")),1),x("th",null,k(e.$t("unlockDateEnd")),1)])]),x("tbody",null,[(f(!0),_(y,null,w(t.lock,(l,a)=>(f(),_("tr",{key:a,style:A({color:1e3*l.unlockDate<=Date.now()?"#FF9F00":""})},[x("td",null,k(p(G)(l.amount||0,2)),1),x("td",null,k(("formatDate"in e?e.formatDate:p(X))(l.lockDate,"YYYY-MM-DD")),1),x("td",null,k(("formatDate"in e?e.formatDate:p(X))(l.unlockDate,"YYYY-MM-DD")),1),x("td",null,k(("formatDate"in e?e.formatDate:p(X))(l.vesting_end||l.unlockDate,"YYYY-MM-DD")),1)],4))),128))])])):m("",!0)],64)}),128))])}}}),[["__scopeId","data-v-ec8e3059"]]),vv={class:"pairs-table"},mv={class:"main flex justify-start items-center"},pv={class:"main"},fv={class:"minor"},hv={class:"text-right"},xv=["innerHTML"],gv=["innerHTML"],kv=["onClick"],bv={class:"main flex justify-start items-center"},_v={class:"main"},yv={class:"minor"},wv={class:"minor"},Tv={class:"text-right"},Cv={class:"flex items-center justify-end"},Av=["href"],Sv=["src"],Nv={key:1,class:"inline-flex"},$v=["src"],Fv={class:"font-400 text-12px lh-16px flex flex-col gap-4px text-center"},Iv={class:"flex items-center justify-center px-10px py-4px"},Lv={key:1,class:"inline-flex"},Vv=["src"],Bv={class:"text-[--secondary-text]"},Mv=["href"],Dv=["onClick"],Ev=["innerHTML"],Pv=["innerHTML"],Uv={class:"flex items-center justify-end"},Rv={key:0,class:"main"},Hv={key:1,class:"main"},Ov={key:0,class:"collapse-button"},jv=B(t({__name:"pairs",props:{isInModal:{type:Boolean,default:!1},search:{type:String,default:""}},emits:["openFilterModal"],setup(e,{emit:l}){const a=l,t=e,n=H(),o=d(!1),s=u(()=>{var e;return 100*((null==(e=null==n?void 0:n.tokenInfoExtra)?void 0:e.pair_lock_percent)||0)||0}),i=d(!1),r=u(()=>{var e;return null==(e=n.pairs)?void 0:e.map(e=>{var l;return{...e,ammName:"unknown"===e.amm?e.amm:(null==(l=Ae(e.chain,e.amm))?void 0:l.show_name)||e.amm,isUp:e.target_token===e.token0_address?new Ce(e.reserve1).gt(e.init_reserve1):new Ce(e.reserve0).gt(e.init_reserve0)}}).filter(e=>!t.isInModal||("unknown"===t.search?"unknown"===e.amm:e.ammName===t.search))}),A=u(()=>n.tokenAllPair);return(l,t)=>{var u,d,S,$,B;const M=b,D=jn,E=T,P=V,U=De,R=c("tooltip");return f(),_(y,null,[x("table",vv,[x("thead",null,[x("tr",null,[x("th",null,k(l.$t("liquidityPair")),1),x("th",null,k(l.$t("amount"))+"/"+k(l.$t("initial")),1),x("th",null,k(l.$t("price"))+"/"+k(l.$t("poolCirculatingSupply")),1)])]),x("tbody",null,[p(A)?(f(),_("tr",{key:0,class:I({active:p(n).selectedToken}),onClick:t[0]||(t[0]=F(e=>p(n).switchPair(!0),["stop"]))},[x("td",null,[x("div",mv,[x("span",null,k((null==(u=p(A))?void 0:u.symbol)||""),1),g(C(M,{name:"solar:dollar-bold",class:"color-#FFA622 text-14px ml-4px"},null,512),[[R,{content:l.$t("allPairsTips"),props:{placement:"top-start","popper-class":"max-w-250px","arrow-offset":"12"}}]])]),t[4]||(t[4]=x("div",{class:"minor"},"[All Pools]",-1))]),x("td",null,[x("div",pv,k(p(G)((null==(d=p(A))?void 0:d.reserve)||0,2)),1),x("div",fv,[t[5]||(t[5]=N("/",-1)),p(A).init_reserve?(f(),_(y,{key:0},[N(k(p(G)(p(A).init_reserve||0,2)),1)],64)):(f(),_(y,{key:1},[N("--")],64))])]),x("td",null,[x("div",hv,[x("div",{class:"main",innerHTML:"$"+p(G)(p(A).price||0,2)},null,8,xv),x("div",{class:"main",innerHTML:"$"+p(G)(p(A).reserveU||0,2)},null,8,gv)])])],2)):m("",!0),(f(!0),_(y,null,w((p(o)?p(r):null==($=null==(S=p(r))?void 0:S.slice)?void 0:$.call(S,0,e.isInModal?void 0:1))||[],(o,r)=>(f(),_("tr",{key:o.pair,class:I({active:!(p(n).pairAddress!==o.pair||p(n).selectedToken&&p(A))}),onClick:F(e=>p(n).switchPair(o.pair),["stop"])},[x("td",null,[x("div",bv,[x("span",null,k(o.target_token===o.token0_address?o.token0_symbol:o.token1_symbol),1),0===r&&p(s)>0?(f(),v(D,{key:0,class:"progress clickable",type:"circle",percentage:p(s),color:"#12B886",width:16,"stroke-width":1.5,indeterminate:"",onClick:t[1]||(t[1]=F(e=>i.value=!0,["stop","prevent"]))},{default:h(()=>[C(M,{class:"text-10px color-[--third-text]",name:"material-symbols:lock"})]),_:1},8,["percentage"])):m("",!0)]),C(E,{class:"main",to:"/token/"+(o.target_token===o.token0_address?o.token1_address:o.token0_address)+"-"+o.chain},{default:h(()=>[N(k(o.target_token===o.token0_address?o.token1_symbol:o.token0_symbol),1)]),_:2},1032,["to"]),o.is_fake?g((f(),v(M,{key:0,name:"ri:error-warning-line",class:"ml-3px color-#ffbb19 relative top-2px"},null,512)),[[R,l.$t("phoneyPool")]]):m("",!0)]),x("td",null,[x("span",_v,k(p(G)((o.target_token===o.token0_address?o.reserve0:o.reserve1)||0,2)),1),x("span",yv,[t[6]||(t[6]=N("/",-1)),o.init_reserve0||o.init_reserve1?(f(),_(y,{key:0},[N(k(p(G)((o.target_token===o.token0_address?o.init_reserve0:o.init_reserve1)||0,2)),1)],64)):(f(),_(y,{key:1},[N("--")],64))]),t[8]||(t[8]=x("br",null,null,-1)),o.target_token===o.token0_address?(f(),_("span",{key:0,class:I(["main",o.isUp?"green":"red"])},k(p(G)(o.reserve1||0,2)),3)):(f(),_("span",{key:1,class:I(["main",["main",o.isUp?"green":"red"]])},k(p(G)(o.reserve0||0,2)),3)),x("span",wv,[t[7]||(t[7]=N("/",-1)),o.init_reserve0||o.init_reserve1?(f(),_(y,{key:0},[N(k(p(G)((o.target_token===o.token0_address?o.init_reserve1:o.init_reserve0)||0,2)),1)],64)):(f(),_(y,{key:1},[N("--")],64))])]),x("td",null,[x("div",Tv,[x("div",Cv,[e.isInModal?(f(),_(y,{key:0},["unknown"===o.amm?g((f(),v(M,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"},null,512)),[[R,o.amm]]):g((f(),_("a",{key:1,href:o.swap_url+o.target_token,target:"_blank",class:"inline-flex"},[x("img",{class:"rounded-50% mr-5px h-16px w-16px",src:p(Te)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,Sv)],8,Av)),[[R,o.ammName]])],64)):(f(),v(P,{key:1,persistent:!1,"popper-class":"[--el-popover-bg-color:--border] [--el-popover-padding:4px_0!important]","popper-style":"width: auto;min-width: 104px;",placement:"bottom",trigger:"hover"},{reference:h(()=>["unknown"===o.amm?(f(),v(M,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"})):(f(),_("div",Nv,[x("img",{class:"rounded-50% mr-5px h-16px w-16px",src:p(Te)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,$v)]))]),default:h(()=>[x("div",Fv,[x("div",Iv,["unknown"===o.amm?(f(),v(M,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"})):(f(),_("div",Lv,[x("img",{class:"rounded-50% mr-5px h-16px w-16px",src:p(Te)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,Vv)])),x("span",Bv,k("unknown"===o.amm?"unknown":o.ammName),1)]),"unknown"!==o.amm&&o.ammName?(f(),_("a",{key:0,href:o.swap_url+o.target_token,target:"_blank",class:"hover:bg-[--dialog-tab-active-bg] px-10px py-4px"},k(l.$t("pairsLink")),9,Mv)):m("",!0),x("div",{class:"cursor-pointer hover:bg-[--dialog-tab-active-bg] px-10px py-4px",onClick:F(e=>a("openFilterModal","unknown"===o.amm?"unknown":o.ammName),["stop","prevent"])},k(l.$t("searchSameAmm")),9,Dv)])]),_:2},1024)),o.target_token===o.token0_address?(f(),_("span",{key:2,class:"main",innerHTML:"$"+p(G)(o.token0_price_usd||0,2)},null,8,Ev)):(f(),_("span",{key:3,class:"main",innerHTML:"$"+p(G)(o.token1_price_usd||0,2)},null,8,Pv))]),x("div",Uv,[o.target_token===o.token0_address?(f(),_("span",Rv,"$"+k(p(G)(o.reserve1*o.token1_price_usd*2||0,2)),1)):(f(),_("span",Hv,"$"+k(p(G)(o.reserve0*o.token0_price_usd*2||0,2)),1))])])])],10,kv))),128))])]),e.isInModal?m("",!0):(f(),_(y,{key:0},[((null==(B=p(r))?void 0:B.length)||0)>1?(f(),_("div",Ov,[x("button",{onClick:t[2]||(t[2]=F(e=>o.value=!p(o),["stop","prevent"]))},[C(M,{name:"solar:alt-arrow-down-line-duotone",class:I([p(o)?"collapse":"expand","text-20px font-bold color-[--third-text]"])},null,8,["class"])])])):m("",!0)],64)),p(i)?(f(),v(U,{key:1,modelValue:p(i),"onUpdate:modelValue":t[3]||(t[3]=e=>L(i)?i.value=e:null),width:"600px",title:"LP "+l.$t("holdersDetail"),"append-to-body":"","destroy-on-close":""},{default:h(()=>[C(cv)]),_:1},8,["modelValue","title"])):m("",!0)],64)}}}),[["__scopeId","data-v-00743f69"]]),zv={key:0,class:"flex-between mr-15px"},Wv={class:"tabHeader text-14px py-12px flex flex-row gap-2 color-[--third-text]"},qv=["onClick"],Gv={key:0},Yv={key:0,class:"tabs"},Qv=["onClick"],Kv={key:1,class:"mr-15px overflow-x-hidden"},Xv={class:"flex justify-between mb-12px"},Zv={class:"color-[--third-text]"},Jv={key:0,class:"flex justify-between mb-12px"},em={class:"color-[--third-text]"},lm={class:"flex items-center justify-end color-[--secondary-text]"},am=["href"],tm={key:1,class:"flex justify-between mb-12px"},nm={class:"color-[--third-text]"},om={class:"flex items-center justify-end color-[--secondary-text]"},sm=["href"],im={key:2,class:"flex justify-between mb-12px"},rm={class:"color-[--third-text]"},um={class:"color-[--secondary-text]"},dm={key:3,class:"flex justify-between mb-12px"},cm={class:"color-[--third-text]"},vm={class:"flex items-center justify-end color-[--secondary-text]"},mm=["href"],pm={key:4,class:"flex justify-between mb-12px"},fm={class:"color-[--third-text]"},hm={class:"flex items-center justify-end color-[--secondary-text]"},xm=["href"],gm={class:"flex justify-between mb-12px"},km={class:"color-[--third-text]"},bm={class:"color-[--secondary-text]"},_m={class:"flex justify-between mb-12px"},ym={class:"color-[--third-text]"},wm={class:"color-[--secondary-text]"},Tm={class:"flex justify-between mb-12px"},Cm={class:"color-[--third-text]"},Am={class:"color-[--secondary-text]"},Sm={key:5,class:"flex justify-between mb-12px"},Nm={class:"color-[--third-text]"},$m={class:"color-[--secondary-text]"},Fm={key:6,class:"flex justify-between mb-12px"},Im={class:"color-[--third-text]"},Lm={class:"color-[--secondary-text]"},Vm={key:0,class:"text-14px mb-12px color-[--third-text]"},Bm={class:"text-12px color-[--secondary-text] token-description"},Mm=["innerHTML"],Dm={key:1,class:"flex-between color-[--secondary-text] text-center"},Em={class:"text-14px color-[--third-text] flex items-center justify-start mb-12px"},Pm={class:"text-12px color-[--secondary-text] token-description"},Um=["src"],Rm=["src"],Hm=B(t({__name:"overview",props:{isRank:{type:Boolean}},setup(e){const l=ue("aiSummary"),a=e,{height:t}=Ee(),i=a.isRank?Dn():H(),r=In(),T=u(()=>i.pair),S=u(()=>i.token),$=u(()=>i.circulation),V=u(()=>i.tokenInfoExtra),B=Pe(),{t:M}=n(),D=P(!1),E=P(0),R=d(a.isRank?"grid":"col"),O=d("info"),j=u(()=>[{id:"info",name:M("tokenInfo")}]),W=[{id:"col",icon:"col",name:"col"},{id:"grid",icon:"grid",name:"grid"}],q=U(),{mode:Y}=z(q),Q={eth:"ETH",bsc:"BSC",base:"BASE",solana:"SOL",optimism:"OP"},Z=de(Be.DEV_TOKENS_TAB).on(()=>{O.value="devBit"});se(()=>{Z&&Z()});const J=u(()=>{var e,l,a,t;if(!(null==(e=S.value)?void 0:e.chain))return!1;let n=0;return n+=1,(null==(l=S.value)?void 0:l.token)&&(n+=1),T.value&&(n+=1),(null==(a=S.value)?void 0:a.total)&&(n+=1),(null==(t=r.checkResult)?void 0:t.creator_address)&&(n+=1),ie.value&&(n+=1),n+=1,n+=1,n+=1,T.value&&(n+=1),n<10}),ee=o(),le=d(!1),ae=d(!1),te=u(()=>{var e,l;const a=ee.params.id;return a?s(a):{address:(null==(e=S.value)?void 0:e.token)||"",chain:(null==(l=S.value)?void 0:l.chain)||""}}),ne=u(()=>{var e;return null==(e=te.value)?void 0:e.address}),oe=u(()=>{var e;return null==(e=te.value)?void 0:e.chain}),ie=u(()=>{var e,l;return(null==(e=null==r?void 0:r.checkResult)?void 0:e.owner)||(null==(l=S.value)?void 0:l.owner)||""}),re=u(()=>{var e,l,a;return(null==(e=S.value)?void 0:e.appendix)&&Ue(null==(l=S.value)?void 0:l.appendix)?JSON.parse(null==(a=S.value)?void 0:a.appendix):{}}),ce=u(()=>{var e,l,a,t;const n=B.locale;return"zh-cn"==n||"zh-tw"==n?(null==(e=S.value)?void 0:e.intro_cn)||(null==(l=null==re?void 0:re.value)?void 0:l.description)||"":(null==(a=S.value)?void 0:a.intro_en)||(null==(t=null==re?void 0:re.value)?void 0:t.description)||""}),ve=u(()=>{var e,l;return new Ce((null==(e=S.value)?void 0:e.total)||0).minus((null==(l=S.value)?void 0:l.burn_amount_dec)||0).toFixed()}),me=u(()=>{var e;return new Ce((null==(e=V.value)?void 0:e.amount_24)||0).div($.value||0).multipliedBy(100)||0});function pe(e){return e.slice(0,4)+"..."+e.slice(-4)}const fe=u(()=>{var e,a;return((null==(e=null==l?void 0:l.value)?void 0:e.summary)||(null==(a=null==l?void 0:l.value)?void 0:a.headline)||"").match(/(\d\..*)/g)});return(a,n)=>{var o,s,u,d,V,B,M,P,U,H,z,q,Z,ee,te,se,re,ue,de,he,xe,ge,ke,be,_e,ye,we,Te,Ce,Ae,Se,Ne,$e;const Fe=b,Ie=De,Le=c("copy");return f(),_("div",null,[e.isRank?m("",!0):(f(),_("div",zv,[x("div",Wv,[(f(!0),_(y,null,w(p(j),e=>(f(),_("div",{key:e.id,class:I({on:p(O)==e.id}),onClick:F(l=>O.value=e.id,["stop"])},[N(k(e.name)+" ",1),"devBit"===e.id?(f(),_("span",Gv,"("+k(p(E))+")",1)):m("",!0)],10,qv))),128))]),"info"==p(O)?(f(),_("div",Yv,[(f(),_(y,null,w(W,e=>x("span",{key:e.id,class:I(["item",{active:e.id==p(R)}]),onClick:F(l=>R.value=e.id,["stop"])},[C(Fe,{name:`custom:${e.icon}`},null,8,["name"])],10,Qv)),64))])):m("",!0)])),"info"==p(O)?(f(),_("div",Kv,[x("ul",{class:I(["text-12px",{active:"grid"==p(R)}])},[x("li",Xv,[x("span",Zv,k(a.$t("name")),1),x("span",{class:I(["color-[--secondary-text] ellipsis","grid"==p(R)?"max-w-75px":"max-w-200px"])},k((null==(o=p(S))?void 0:o.name)||(null==(s=p(S))?void 0:s.symbol)||"-"),3)]),(null==(u=p(S))?void 0:u.token)?(f(),_("li",Jv,[x("span",em,k(a.$t("token")),1),x("div",lm,[x("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text]",style:{"text-decoration":"none"},href:p(K)(null==(d=p(S))?void 0:d.chain,null==(V=p(S))?void 0:V.token,"token"),target:"_blank"},k((null==(B=p(S))?void 0:B.token)?pe(null==(M=p(S))?void 0:M.token):"-"),9,am),g(C(Fe,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Le,null==(P=p(S))?void 0:P.token]])])])):m("",!0),p(T)?(f(),_("li",tm,[x("span",nm,k(a.$t("pair")),1),x("div",om,[x("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:p(K)(null==(U=p(S))?void 0:U.chain,(null==(H=p(i))?void 0:H.pairAddress)||"","address"),target:"_blank"},k(pe((null==(z=p(i))?void 0:z.pairAddress)||"")),9,sm),g(C(Fe,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Le,null==(q=p(i))?void 0:q.pairAddress]])])])):m("",!0),(null==(Z=p(S))?void 0:Z.total)?(f(),_("li",im,[x("span",rm,k(a.$t("mcap")),1),x("span",um,"$"+k(("formatNumber"in a?a.formatNumber:p(G))((null==(ee=p(i))?void 0:ee.marketCap)||0,2)),1)])):m("",!0),(null==(te=p(r).checkResult)?void 0:te.creator_address)?(f(),_("li",dm,[x("span",cm,k(a.$t("contractCreator")),1),x("div",vm,[x("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:p(K)(null==(se=p(S))?void 0:se.chain,p(r).checkResult.creator_address,"address"),target:"_blank"},k(pe((null==(re=p(r).checkResult)?void 0:re.creator_address)||"")),9,mm),g(C(Fe,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Le,p(r).checkResult.creator_address||""]])])])):m("",!0),p(ie)?(f(),_("li",pm,[x("span",fm,k(a.$t("contractOwner")),1),x("div",hm,[x("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:p(K)(null==(ue=p(S))?void 0:ue.chain,p(ie),"address"),target:"_blank"},k(pe(p(ie))),9,xm),g(C(Fe,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Le,(null==(he=null==(de=p(r))?void 0:de.checkResult)?void 0:he.owner)||(null==(xe=p(S))?void 0:xe.owner)||""]])])])):m("",!0),x("li",gm,[x("span",km,k(a.$t("24Exchange")),1),x("span",bm,[(null==(ge=p($))?void 0:ge.gt(0))?(f(),_(y,{key:0},[N(k(("formatNumber"in a?a.formatNumber:p(G))(p(me).toString()||0,2))+"% ",1)],64)):(f(),_(y,{key:1},[N("-")],64))])]),x("li",_m,[x("span",ym,k(a.$t("totalSupply")),1),x("span",wm,k(("formatNumber"in a?a.formatNumber:p(G))(p(ve)||0,2)),1)]),x("li",Tm,[x("span",Cm,k(a.$t("FDV")),1),x("span",Am,"$"+k(("formatNumber"in a?a.formatNumber:p(G))(Number((null==(ke=p(S))?void 0:ke.total)||0)*((null==(be=p(i))?void 0:be.price)||0))),1)]),p(J)||"col"==p(R)?(f(),_("li",Sm,[x("span",Nm,k(a.$t("theChain")),1),x("span",$m,k((null==(_e=p(S))?void 0:_e.chain)||"-"),1)])):m("",!0),p(T)?(f(),_("li",Fm,[x("span",Im,k(a.$t("createdTime")),1),x("span",Lm,k((null==(ye=p(T))?void 0:ye.created_at)?p(X)(null==(we=p(T))?void 0:we.created_at):"-"),1)])):m("",!0)],2),!e.isRank&&p(ce)?(f(),_("div",{key:0,class:I({bg:"grid"==p(R)})},[p(ce)?(f(),_("div",Vm,k(a.$t("currencyOverview")),1)):m("",!0),x("div",Bm,[x("span",{innerHTML:p(D)?p(ce):null==(Te=p(ce))?void 0:Te.slice(0,250)},null,8,Mm),(null==(Ce=p(ce))?void 0:Ce.length)>250?(f(),_("button",{key:0,class:"text-12px color-#3F80F7 bg-transparent outline-none border-none clickable",onClick:n[0]||(n[0]=F(e=>D.value=!p(D),["stop"]))},k(p(D)?a.$t("expand"):a.$t("more")),1)):m("",!0)])],2)):m("",!0),Q[p(oe)]?(f(),_("div",Dm,[x("a",{href:"",class:"bg flex-1 color-[--secondary-text] text-14px",onClick:n[1]||(n[1]=F(e=>ae.value=!0,["stop","prevent"]))},k(a.$t("generateTokenAnalysis")),1),x("a",{href:"",class:"bg flex-1 color-[--secondary-text] text-14px ml-12px",onClick:n[2]||(n[2]=F(e=>le.value=!0,["stop","prevent"]))},k(a.$t("generateScore")),1)])):m("",!0),e.isRank?m("",!0):(f(),_("div",{key:2,class:I([{bg:"grid"==p(R)},"mt-12px"])},[x("div",Em,[C(Fe,{name:"custom:ai",class:"text-12px mr-5px"}),n[5]||(n[5]=N()),x("span",null,k(a.$t("aiSummary")),1)]),x("div",Pm,[p(fe)?(f(!0),_(y,{key:1},w(p(fe),e=>(f(),_("div",{key:e},k(e),1))),128)):(f(),_(y,{key:0},[N(k((null==(Ae=p(l))?void 0:Ae.summary)||(null==(Se=p(l))?void 0:Se.headline)?(null==(Ne=p(l))?void 0:Ne.summary)||(null==($e=p(l))?void 0:$e.headline):a.$t("aiIsAnalyzing")),1)],64))])],2)),p(le)?(f(),v(Ie,{key:3,modelValue:p(le),"onUpdate:modelValue":n[3]||(n[3]=e=>L(le)?le.value=e:null),width:"50vw","align-center":"",height:p(t)-350,class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:a.$t("tokenScore"),"append-to-body":"","lock-scroll":"","destroy-on-close":""},{default:h(()=>[x("iframe",{class:"mt-20px",style:A([{width:"50vw",border:"none"},{height:p(t)-350+"px"}]),src:`https://app.creditlink.info/tokenScore?chain=${Q[p(oe)]}&address=${p(ne)}&model=${p(Y)}&platform=ave.ai`,allow:"clipboard-write"},null,12,Um)]),_:1},8,["modelValue","height","title"])):m("",!0),p(ae)?(f(),v(Ie,{key:4,modelValue:p(ae),"onUpdate:modelValue":n[4]||(n[4]=e=>L(ae)?ae.value=e:null),width:"80vw","align-center":"",height:p(t)-350,class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:a.$t("tokenAnalysis"),"append-to-body":"","destroy-on-close":"","lock-scroll":""},{default:h(()=>[x("iframe",{class:"mt-20px",style:A([{width:"80vw",border:"none"},{height:p(t)-350+"px"}]),src:`https://app.creditlink.info/tokenAnalyse?chain=${Q[p(oe)]}&address=${p(ne)}&model=${p(Y)}&platform=ave.ai`,allow:"clipboard-write"},null,12,Rm)]),_:1},8,["modelValue","height","title"])):m("",!0)])):m("",!0)])}}}),[["__scopeId","data-v-8e049f2d"]]),Om={solana:"sol",ton:"TON"};function jm(e=0,a=!1){const t=o(),i=P(!1),d=H(),c=u(()=>d.token),v=O(),m=Re(),{t:p}=n(),f=()=>{var e;const l=null==(e=t.params)?void 0:e.id;return"string"==typeof l?s(l):{address:"",chain:""}},h=e=>{var l,a,t;return null==(t=null==(a=null==(l=v.userInfo)?void 0:l.addresses)?void 0:a.find(l=>(null==l?void 0:l.chain)===e))?void 0:t.address};function x(e=!1){var l,a;const{token:t,native:n}=d.swap,o=(null==t?void 0:t.address)+"-"+(null==t?void 0:t.chain),s=(null==n?void 0:n.address)+"-"+(null==n?void 0:n.chain),i=(null==(l=d.swap.payToken)?void 0:l.address)+"-"+(null==(a=d.swap.payToken)?void 0:a.chain);return Xe([o,s,i]).then(async l=>{var a,t,n,o,s,i;if(l){const r=(null==(a=null==l?void 0:l[0])?void 0:a.current_price_usd)||0,u=(null==(t=null==l?void 0:l[1])?void 0:t.current_price_usd)||0,c=(null==(n=null==l?void 0:l[2])?void 0:n.current_price_usd)||0;return d.swap.native.price=u,d.swap.token.price=r,d.swap.payToken.price=c,e&&(null==(s=null==(o=v.userInfo)?void 0:o.addresses)?void 0:s.length)>0&&(v.userInfo.addresses=((null==(i=v.userInfo)?void 0:i.addresses)||[]).map(e=>{var l,a;return(null==e?void 0:e.chain)===(null==(l=d.swap.native)?void 0:l.chain)&&(e.price=u,e.balance=null==(a=d.swap.native)?void 0:a.balance),e})),l}})}const g=He(async()=>{var e,l;const t=f(),n=(null==t?void 0:t.chain)||(null==(e=c.value)?void 0:e.chain),o=(null==t?void 0:t.address)||(null==(l=c.value)?void 0:l.token);if(!o||!n)return;const s=h(n);if(s){if(i.value=!0,a)return v.getUserAllChainBalance(d.swap.token),await Oe(1e3),void(i.value=!1);je({chain:n,tokens:[o],walletAddress:s}).then(e=>{const l=e[0];d.swap.token={...d.token,...l,address:l.token||l.address,chain:n}}).finally(()=>{i.value=!1})}},500,{leading:!0,trailing:!0}),k=He(async()=>{var e,l;const t=f(),n=(null==t?void 0:t.chain)||(null==(e=c.value)?void 0:e.chain);if(!((null==t?void 0:t.address)||(null==(l=c.value)?void 0:l.token))||!n)return;const o=h(n);if(o){if(i.value=!0,a)return v.getUserAllChainBalance(d.swap.native),await Oe(1e3),void(i.value=!1);je({chain:n,tokens:[Om[n]||ze],walletAddress:o}).then(e=>{var l;const a=e[0];d.swap.native={...a,symbol:null==(l=We(n))?void 0:l.main_name,chain:n,address:a.token||a.address,decimals:(null==a?void 0:a.decimals)||(null==a?void 0:a.decimal)}}).finally(()=>{i.value=!1})}},500,{leading:!0,trailing:!0}),b=He(async()=>{var e,l;const t=f(),n=(null==t?void 0:t.chain)||(null==(e=c.value)?void 0:e.chain);if(!((null==t?void 0:t.address)||(null==(l=c.value)?void 0:l.token))||!n)return;const o=h(n);if(!o)return;let s=d.swap.payToken;if(s&&(null==s?void 0:s.address)&&(null==s?void 0:s.chain)===n){if(i.value=!0,a)return v.getUserAllChainBalance(d.swap.payToken),await Oe(1e3),void(i.value=!1);je({chain:n,tokens:[null==s?void 0:s.address],walletAddress:o}).then(e=>{const l=e[0];d.swap.payToken={...s,...l,address:l.token||l.address}}).finally(()=>{i.value=!1})}},500,{leading:!0,trailing:!0});const _=P(!1),y=P(0);async function w(e,l,a=function(){var e;const l=s(t.params.id);return(null==l?void 0:l.chain)||(null==(e=c.value)?void 0:e.chain)||""}()){var n,o,i,r,u;if("evm"!==(null==(n=We(a))?void 0:n.vm_type)||e===ze)return y.value=Ge,Ge;if(!v.accessToken)return y.value="0","0";const d=null==(u=null==(r=null==(i=null==(o=v.userInfo)?void 0:o.addresses)?void 0:i.find)?void 0:r.call(i,e=>(null==e?void 0:e.chain)===a))?void 0:u.address;return _.value=!0,Ke({inToken:e,outToken:l,chain:a,owner:d||""}).then(async e=>(y.value=1===e?Ge:e,e)).finally(()=>{_.value=!1})}function T(e){var l;const a={...e,tgUid:null==(l=null==v?void 0:v.userInfo)?void 0:l.tgUid};return Qe(a).then(e=>({result:e,wait:()=>{let e=!1,l=23;const t=(n,o)=>{l-=3,l>0?setTimeout(()=>{e||w(a.inTokenAddress,a.outTokenAddress,a.chain).then(e=>{"0"===e?t(n,o):n(e)})},3e3):o("timeout")};return new Promise((l,n)=>{const o=r(()=>{var e;return null==(e=m.wsResult)?void 0:e.tgbot},t=>{var s,i,r,u;t.batchId===a.batchId&&(o(),e=!0,(null==(i=null==(s=null==t?void 0:t.txList)?void 0:s[0])?void 0:i.success)?l(t):n((null==(u=null==(r=null==t?void 0:t.txList)?void 0:r[0])?void 0:u.failMessage)||"approve error"))});t(l,n)})}}))}return{loading:i,refreshTokenBalance:(l=!1)=>{1===e?g():l?b():k()},getTokenBalance:function(){var e,l,a,n,o,i,r,u,c,m,p;const f=s((null==(e=t.params)?void 0:e.id)||""),h=(null==f?void 0:f.chain)||(null==(a=null==(l=d.tokenInfo)?void 0:l.token)?void 0:a.chain)||"",g=(null==f?void 0:f.address)||(null==(o=null==(n=d.tokenInfo)?void 0:n.token)?void 0:o.token)||"",k=null==(c=null==(u=null==(r=null==(i=v.userInfo)?void 0:i.addresses)?void 0:r.find)?void 0:u.call(r,e=>(null==e?void 0:e.chain)===h))?void 0:c.address;if(!k)return void(d.swap.native={chain:h,symbol:null==(m=We(h))?void 0:m.main_name,address:Om[h]||ze,decimals:null==(p=We(h))?void 0:p.decimals});let b=d.swap.payToken,_=Om[h]||ze,y=(null==b?void 0:b.chain)!==h?_:(null==b?void 0:b.address)||ze;je({chain:h,tokens:[g,_,y],walletAddress:k}).then(e=>{var l;const a=e[0],t=e[1],n=e[2];d.swap.token={...d.token,...a,address:a.token||a.address,chain:h},d.swap.native={...t,symbol:null==(l=We(h))?void 0:l.main_name,chain:h,address:t.token||t.address,decimals:(null==t?void 0:t.decimals)||(null==t?void 0:t.decimal)},d.swap.payToken={...d.swap.payToken,...n,address:n.token||n.address},x(!0),null==v||v.getUserAllChainBalance(d.swap.payToken),null==v||v.getUserAllChainBalance(d.swap.token)})},getTokensPrice:x,getAllowance:w,loadingAllowance:_,allowance:y,bot_approve:T,checkApproveAndApprove:function(e={}){const a=null==e?void 0:e.chain;return a&&qe(a)?w(e.inToken||"",e.outToken||"",a).then(a=>{var t;if(0===Number(a)){const a=e.owner||(null==(t=null==v?void 0:v.userInfo)?void 0:t.evmAddress)||"",n={batchId:Date.now().toString(),chain:e.chain||"",inTokenAddress:e.inToken||"",outTokenAddress:e.outToken||"",creatorAddress:[a]};let o=null;return T(n).then(e=>(o=l({icon:Ye("div",{class:"el-loading-spinner",style:"--el-loading-spinner-size: 24px"},[Ye("svg",{viewBox:"0 0 50 50",class:"circular"},[Ye("circle",{class:"path",style:"stroke-width: 3",cx:"25",cy:"25",r:"20",fill:"none"})])]),message:p("approving")+"...",duration:0}),e.wait())).then(async e=>{var a;return null==(a=null==o?void 0:o.close)||a.call(o),l({type:"success",message:p("approveSuccess")}),e}).catch(e=>{var a;return null==(a=null==o?void 0:o.close)||a.call(o),l({type:"error",message:e}),Promise.reject(e)})}return Promise.resolve(a)}):Promise.resolve(Ge)},getParsedRoute:f,updateBalanceFromWs:function(e){if(!qe(e.chain))return;const l=e.chain===d.swap.token.chain,a=e.chain===d.swap.payToken.chain,t=e.chain===d.swap.native.chain;if(l&&e.inTokenAddress===d.swap.token.address&&e.fromAmount){const l=Ce(d.swap.token.balance||0).minus(Ce(e.fromAmount||0).shiftedBy(-1*(d.swap.token.decimals||0))).toString();d.swap.token.balance=l}if(a&&e.inTokenAddress===d.swap.payToken.address&&e.fromAmount){const l=Ce(d.swap.payToken.balance||0).minus(Ce(e.fromAmount||0).shiftedBy(-1*(d.swap.payToken.decimals||0))).toString();d.swap.payToken.balance=l}if(t&&e.inTokenAddress===d.swap.native.address&&e.fromAmount){const l=Ce(d.swap.native.balance||0).minus(Ce(e.fromAmount||0).shiftedBy(-1*(d.swap.native.decimals||0))).toString();d.swap.native.balance=l}if(l&&e.outTokenAddress===d.swap.token.address&&e.outputAmount){const l=Ce(d.swap.token.balance||0).plus(Ce(e.outputAmount||0).shiftedBy(-1*(d.swap.token.decimals||0))).toString();d.swap.token.balance=l}if(a&&e.outTokenAddress===d.swap.payToken.address&&e.outputAmount){const l=Ce(d.swap.payToken.balance||0).plus(Ce(e.outputAmount||0).shiftedBy(-1*(d.swap.payToken.decimals||0))).toString();d.swap.payToken.balance=l}if(t&&e.outTokenAddress===d.swap.native.address&&e.outputAmount){const l=Ce(d.swap.native.balance||0).plus(Ce(e.outputAmount||0).shiftedBy(-1*(d.swap.native.decimals||0))).toString();d.swap.native.balance=l}v.walletList.forEach(l=>{l.evmAddress===v.evmAddress&&l.addresses.forEach(l=>{var a;l.chain===e.chain&&(e.inTokenAddress===ze?l.balance=Ce(l.balance||0).minus(Ce(e.fromAmount||0).shiftedBy(-18)).toString():null==(a=null==l?void 0:l.tokenBalances)||a[e.inTokenAddress],e.outTokenAddress===ze&&(l.balance=Ce(l.balance||0).plus(Ce(e.outputAmount||0).shiftedBy(-18)).toString()))})})}}}const zm=t({__name:"refreshBalance",props:{type:{type:Number,default:0},isPayToken:{type:Boolean,default:!1},isBatch:{type:Boolean,default:!1}},setup(e){const l=e,{loading:a,refreshTokenBalance:t}=jm(l.type,l.isBatch);return(e,n)=>{const o=Xn,s=b;return p(a)?(f(),v(o,{key:0,class:"ml-5px text-14px"})):(f(),v(s,{key:1,name:"custom:refresh-left",class:"ml-5px clickable text-14px",onClick:n[0]||(n[0]=F(e=>p(t)(l.isPayToken),["stop"]))}))}}}),Wm={class:"flex-between h-24px my--2px"},qm={class:"flex items-center"},Gm={class:"font-400 color-#3F80F7 text-14px"},Ym={class:"flex items-center gap-5px"},Qm={class:"el-select-dropdown__item text-[--third-text]!"},Km={class:"flex items-center"},Xm={class:"text-12px color-[--third-text]"},Zm={class:"text-12px color-[--third-text]"},Jm={class:"flex gap-8px items-center text-12px mt-8px"},ep=["disabled"],lp=["disabled"],ap=t({__name:"autoSellSet",setup(e){const l=O(),a=Ze(),t=o(),i=H(),{t:r}=n(),{loadAutoSellConfigs:d,saveAutoSellConfigs:m}=$n(),T=u({get(){var e;return null==(e=null==a?void 0:a.autoSellConfigs)?void 0:e["isAutoSellConfig"+a.autoSellConfigs.autoSellConfigName]},set(e){var l;const t=el(a.autoSellConfigs);t&&(t["isAutoSellConfig"+a.autoSellConfigs.autoSellConfigName]=e,!(null==(l=t["autoSellConfig"+a.autoSellConfigs.autoSellConfigName])?void 0:l.length)&&e&&(t.autoSellConfig=[{open:!0,priceChange:1e4,sellRatio:5e3,type:"default"}]),a.autoSellConfigs={...t},e&&(d(),m()))}}),A=u({get(){var e;const l=a.autoSellConfigs,t=null==l?void 0:l["autoSellConfig"+a.autoSellConfigs.autoSellConfigName];return Number(null==t?void 0:t.length)>0&&(null==(e=null==t?void 0:t.map)?void 0:e.call(t,e=>({open:e.open,priceChange:Math.floor(Math.abs(e.priceChange||0)/100)||void 0,sellRatio:Math.floor((e.sellRatio||0)/100)||void 0,type:e.type,isUp:e.priceChange?e.priceChange>0:e.isUp||!1})))||[]},set(e){var l;const t=el(a.autoSellConfigs);t&&(t["autoSellConfig"+a.autoSellConfigs.autoSellConfigName]=(null==(l=null==e?void 0:e.map)?void 0:l.call(e,e=>({open:e.open,priceChange:e.isUp?100*Number((null==e?void 0:e.priceChange)||0):-100*Number((null==e?void 0:e.priceChange)||0),sellRatio:100*Number(e.sellRatio||0),type:e.type,isUp:e.isUp})))||[],a.autoSellConfigs={...t})}}),S=u(()=>{var e;return null==(e={0:r("takeProfitAndStopLoss0"),1:r("takeProfitAndStopLoss1"),2:r("takeProfitAndStopLoss2"),3:r("takeProfitAndStopLoss3"),4:r("takeProfitAndStopLoss4"),5:r("takeProfitAndStopLoss5"),6:r("takeProfitAndStopLoss6")})?void 0:e[N.value]}),N=u({get:()=>a.autoSellConfigs.autoSellConfigName||"0",set(e){a.autoSellConfigs.autoSellConfigName="0"===e?"":e}}),$=e=>{["0","1","2","3","4","5","6"].forEach(l=>{var t;l!==e?void 0!==(null==(t=a.autoSellConfigs)?void 0:t["isAutoSellConfig"+("0"===l?"":l)])&&(a.autoSellConfigs["isAutoSellConfig"+("0"===l?"":l)]=!1):a.autoSellConfigs["isAutoSellConfig"+("0"===l?"":l)]=!0}),d(),m()},I=u(()=>[{value:"0",label:r("takeProfitAndStopLoss0")},{value:"1",label:r("takeProfitAndStopLoss1")},{value:"2",label:r("takeProfitAndStopLoss2")},{value:"3",label:r("takeProfitAndStopLoss3")},{value:"4",label:r("takeProfitAndStopLoss4")},{value:"5",label:r("takeProfitAndStopLoss5")},{value:"6",label:r("takeProfitAndStopLoss6")}]),V=u(()=>{var e,l,a;return(null==(l=s(null==(e=t.params)?void 0:e.id))?void 0:l.chain)||(null==(a=i.token)?void 0:a.chain)});function B(){A.value.push({open:!0,priceChange:void 0,sellRatio:void 0,type:"default",isUp:!0}),D()}function M(){A.value.push({open:!0,priceChange:void 0,sellRatio:void 0,type:"default",isUp:!1}),D()}function D(){A.value=[...A.value],d(),m()}return(e,t)=>{var n,o,s,u,d,m;const E=Je,P=b,U=gn,R=xn,H=Kn,O=c("tooltip");return g((f(),_("div",null,[x("div",Wm,[x("div",qm,[C(E,{modelValue:p(T),"onUpdate:modelValue":t[0]||(t[0]=e=>L(T)?T.value=e:null),class:"auto-sell-checkbox"},{default:h(()=>[x("span",Gm,k(e.$t("advancedTrading")),1)]),_:1},8,["modelValue"]),g(C(P,{name:"material-symbols:help-rounded",class:"text-14px color-[--icon-color] cursor-pointer ml-3px"},null,512),[[O,{content:e.$t("advancedTradingTips"),props:{"popper-class":"max-w-500px"}},void 0,{raw:!0}]])]),x("div",Ym,[g((f(),v(R,{"popper-class":"w-selectAutoSell",modelValue:p(N),"onUpdate:modelValue":t[1]||(t[1]=e=>L(N)?N.value=e:null),placeholder:p(r)("defaultPolicy"),style:{width:"110px"},onChange:$,placement:"bottom-end",persistent:!1,size:"small",disabled:!p(T)},{default:h(()=>[x("li",Qm,k(p(r)("defaultPolicy")),1),(f(!0),_(y,null,w(p(I),e=>(f(),v(U,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])),[[O,p(S)]]),C(Fn,{canSetAuto:!0,isAutoSell:!0,showAutoSell:!0,chain:null==(o=null==(n=p(i).tokenInfo)?void 0:n.token)?void 0:o.chain,setting:null==(s=p(a))?void 0:s.botSettings[p(V)]},null,8,["chain","setting"])])]),g(x("ul",null,[(f(!0),_(y,null,w(p(A),(l,a)=>(f(),_("li",{key:a,class:"mt-8px flex items-center gap-4px"},[C(H,{modelValue:l.priceChange,"onUpdate:modelValue":[e=>l.priceChange=e,D],class:"input-number-limit",min:1,controls:!1,placeholder:"--"},{prefix:h(()=>[x("div",Km,[l.isUp?(f(),v(P,{key:0,name:"ri:arrow-up-long-fill",class:"color-#12B886"})):(f(),v(P,{key:1,name:"ri:arrow-down-long-fill",class:"color-#F6465D"})),x("span",Xm,k(l.isUp?e.$t("rise"):e.$t("fall")),1)])]),suffix:h(()=>[...t[2]||(t[2]=[x("span",{class:"color-[--third-text]"},"%",-1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]),C(H,{modelValue:l.sellRatio,"onUpdate:modelValue":[e=>l.sellRatio=e,D],class:"input-number-limit",min:1,max:100,controls:!1,placeholder:"--"},{prefix:h(()=>[x("span",Zm,k(e.$t("sell")),1)]),suffix:h(()=>[...t[3]||(t[3]=[x("span",{class:"color-[--third-text]"},"%",-1)])]),_:1},8,["modelValue","onUpdate:modelValue"]),C(P,{class:"text-16px ml-5px clickable color-[--third-text]",name:"bx:bxs-trash-alt",onClick:F(e=>function(e){A.value=A.value.filter((l,a)=>a!==e)}(a),["stop"])},null,8,["onClick"])]))),128)),x("li",Jm,[x("button",{class:"flex-1 h-24px flex items-center justify-center clickable bg-#12B8861A color-#12B886 border-none rd-4px disabled:op-50 disabled:cursor-not-allowed",disabled:(null==(u=p(A))?void 0:u.length)>=5,onClick:F(B,["stop"])},k(e.$t("addTakeProfit")),9,ep),x("button",{class:"flex-1 h-24px flex items-center justify-center clickable bg-#F6465D1A color-#F6465D border-none rd-4px disabled:op-50 disabled:cursor-not-allowed",disabled:(null==(d=p(A))?void 0:d.length)>=5,onClick:F(M,["stop"])},k(e.$t("addStopLoss")),9,lp)])],512),[[ie,p(a).autoSellConfigs.isAutoSellConfig]])],512)),[[ie,null==(m=p(l).userInfo)?void 0:m.evmAddress]])}}}),tp=B(ap,[["__scopeId","data-v-4b4bcc4f"]]),np={class:"mt-10px flex items-center text-11px color-[--main-text]"},op={class:"color-[--third-text] mr-4px cursor-pointer"},sp={key:1},ip={key:2},rp={class:"mr-4px ml-auto color-[--third-text]"},up=t({__name:"bottomSetting",props:{gasPrice:{type:Number,default:0},activeTab:{type:String,default:"buy"},swapType:{type:String,default:"market"}},setup(e){const l=e,a=Ze(),{botSettings:t}=z(a),i=ll(),r=O(),{t:d}=n(),h=o(),w=H(),T=u(()=>w.token),A=u(()=>{var e;const l=s(h.params.id);return(null==l?void 0:l.chain)||(null==(e=T.value)?void 0:e.chain)});function S(){var e;const l=s(h.params.id);return(null==l?void 0:l.chain)||(null==(e=T.value)?void 0:e.chain)||""}const N=u(()=>{const e=S(),{gasTip1List:l}=al(null==i?void 0:i.gasTip,e);return(null==l?void 0:l.length)>1});function $(){var e,t,n,o,s,i,u,c;const v=(null==(n=null==(t=null==(e=a.botSettings)?void 0:e.solana)?void 0:t[l.activeTab])?void 0:n.selected)||(null==(s=null==(o=a.botSettings)?void 0:o.solana)?void 0:s.selected)||"s1",m=null==(c=null==(u=null==(i=a.botSettings)?void 0:i.solana)?void 0:u[l.activeTab])?void 0:c[v];return(null==m?void 0:m.mev)||r.bundleAvailable?Promise.resolve(!0):(ae({type:"warning",message:d("mevPending")}),Promise.resolve(!1))}function F(){var e,t,n,o,s,u,d,c,v,m,p,f,h,x,g,k,b;const _=S();if(qe(_)&&(null==(e=null==r?void 0:r.isSupportChains)?void 0:e.includes(_))){const e=(null==(o=null==(n=null==(t=a.botSettings)?void 0:t[_])?void 0:n[l.activeTab])?void 0:o.selected)||(null==(u=null==(s=a.botSettings)?void 0:s[_])?void 0:u.selected)||"s1",r=null==(v=null==(c=null==(d=a.botSettings)?void 0:d[_])?void 0:c[l.activeTab])?void 0:v[e],y=null==r?void 0:r.mev,T=(null==(p=null==(m=i.mainTokensPrice)?void 0:m.find(e=>{var l;return e.chain===_&&e.token===(null==(l=We(_))?void 0:l.wmain_wrapper)}))?void 0:p.current_price_usd)||0,C=(null==(h=tl)?void 0:h.includes((null==(f=w.swap.payToken)?void 0:f.address)||""))?T:(null==(x=w.swap.payToken)?void 0:x.price)||0,{gasTip1List:A,gasTip2List:S}=al(i.gasTip,_),N=y?A:S,$=y?null==r?void 0:r.gas[0]:null==r?void 0:r.gas[1],F=(null==$?void 0:$.customFee)||(null==N?void 0:N[null==$?void 0:$.level])||"3",I=(null==(b=null==(k=null==(g=i.gasTip)?void 0:g.find)?void 0:k.call(g,e=>e.chain===_&&e.mev===!!y))?void 0:b.gasLimit)||2e5;return G(new Ce(l.gasPrice).plus(new Ce(F).times(String(10**9))).times(I).times(C).div(String(10**18)).toFixed(),2)}return 0}const I=u(()=>{var e,t,n,o,s,u,d,c;const v=S();if(!r.isSupportChains.includes(v))return"";const m=(null==(n=null==(t=null==(e=a.botSettings)?void 0:e[v])?void 0:t[l.activeTab])?void 0:n.selected)||(null==(s=null==(o=a.botSettings)?void 0:o[v])?void 0:s.selected)||"s1",p=null==(c=null==(d=null==(u=a.botSettings)?void 0:u[v])?void 0:d[l.activeTab])?void 0:c[m],f=null==p?void 0:p.mev,{gasTip1List:h,gasTip2List:x}=al(i.gasTip,v),g=f?h:x,k=f?0:1,b=null==p?void 0:p.gas[k];return(null==b?void 0:b.customFee)||(null==g?void 0:g[null==b?void 0:b.level])}),L=u(()=>{var e,t,n,o,s;const i=S();return r.isSupportChains.includes(i)?(null==(n=null==(t=null==(e=a.botSettings)?void 0:e[i])?void 0:t[l.activeTab])?void 0:n.selected)||(null==(s=null==(o=a.botSettings)?void 0:o[i])?void 0:s.selected)||"s1":""});return(l,n)=>{var o,s,i,r,u,d,h,w,T,S,V;const B=ao,M=b,D=c("tooltip");return f(),_("div",np,[p(t)[p(A)||""]&&p(N)?(f(),_(y,{key:0},[x("span",op,k(l.$t("mev")),1),"solana"===p(A)?(f(),v(B,{key:0,modelValue:p(t).solana[e.activeTab][p(L)].mev,"onUpdate:modelValue":n[0]||(n[0]=l=>p(t).solana[e.activeTab][p(L)].mev=l),class:"mr-auto",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small","before-change":$},null,8,["modelValue"])):("isEvmChain"in l?l.isEvmChain:p(qe))(p(A)||"")?(f(),v(B,{key:1,modelValue:p(t)[p(A)][e.activeTab][p(L)].mev,"onUpdate:modelValue":n[1]||(n[1]=l=>p(t)[p(A)][e.activeTab][p(L)].mev=l),class:"mr-auto",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small"},null,8,["modelValue"])):m("",!0)],64)):m("",!0),g(C(M,{name:"custom:slippage",class:"text-12px color-[--third-text] mr-4px cursor-pointer"},null,512),[[D,l.$t("slippage")]]),"auto"!==(null==(r=null==(i=null==(s=null==(o=p(t))?void 0:o[p(A)||""])?void 0:s[e.activeTab])?void 0:i[p(L)])?void 0:r.slippage)?(f(),_("span",sp,k(null==(w=null==(h=null==(d=null==(u=p(t))?void 0:u[p(A)||""])?void 0:d[e.activeTab])?void 0:h[p(L)])?void 0:w.slippage)+"%",1)):(f(),_("span",ip,k(l.$t("auto")),1)),("isEvmChain"in l?l.isEvmChain:p(qe))(p(A)||"")&&e.gasPrice?(f(),_(y,{key:3},[g(C(M,{name:"custom:gas",class:"text-12px color-[--third-text] ml-auto mr-4px cursor-pointer"},null,512),[[D,l.$t("estimatedGas")]]),x("span",null,"$"+k(F()),1)],64)):m("",!0),"solana"===p(A)?(f(),_(y,{key:4},[g(C(M,{name:"custom:gas",class:"text-12px color-[--third-text] ml-auto mr-4px cursor-pointer"},null,512),[[D,l.$t("priorityFee")]]),x("span",null,k(p(I))+" SOL",1)],64)):m("",!0),"ton"!==p(A)&&"buy"===e.activeTab&&"market"===e.swapType&&((null==(T=p(t))?void 0:T[p(A)||""])||(null==(V=null==(S=p(t))?void 0:S[p(A)||""])?void 0:V[e.activeTab]))?(f(),_(y,{key:5},[x("span",rp,k(l.$t("autoSellHalf")),1),C(B,{modelValue:p(a).autoSellConfigs.autoSell,"onUpdate:modelValue":n[2]||(n[2]=e=>p(a).autoSellConfigs.autoSell=e),size:"small",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"}},null,8,["modelValue"])],64)):m("",!0)])}}}),dp={class:"text-12px color-[--secondary-text]"},cp={class:"inline-flex items-center clickable"},vp=["src"],mp=["src"],pp={class:"text-12px font-400"},fp={class:"flex items-center mt-10px text-12px"},hp={class:"color-[--main-text]"},xp={class:"text-12px color-[--third-text] mx-3px"},gp={class:"tabs mt-10px"},kp=["onClick"],bp={key:0},_p={class:"text-12px color-[--secondary-text]"},yp={class:"text-12px color-[--secondary-text]"},wp={class:"text-12px color-[--main-text]"},Tp={class:"flex items-center mt-10px text-12px"},Cp={class:"color-[--main-text] flex items-center"},Ap={class:"inline-flex items-center clickable text-12px ml-4px"},Sp=["src"],Np={class:"text-12px font-400"},$p={class:"text-12px color-[--third-text] mx-3px"},Fp={class:"tabs mt-10px"},Ip=["onClick"],Lp={class:"text-12px color-[--secondary-text]"},Vp={class:"slider-swap_left"},Bp={class:"slider-swap_left-mark"},Mp=["onClick"],Dp={key:2,class:"flex items-center gap-4px"},Ep=["src"],Pp={key:5,class:"connect-wallet-btn"},Up={key:6,class:"text-14px color-[--secondary-text] text-center mt-16px bg-[--icon-color] lh-40px rounded-6px"},Rp=t({__name:"swap",props:{activeTab:{},swapType:{},tabs1:{},tabs2:{}},emits:["getTokenBalance","update:botSettings"],setup(e,{emit:l}){const a=e=>{return l={...e,duration:2500},fo.push({options:l,enqueueTime:Date.now()}),void(ho||go());var l},t=e,d=P(t.tabs1),c=P(t.tabs2),g=l,{t:T}=n(),{executing:A}=rl(),S=P(!1),$=P(""),L=P(""),V=P(""),B=P(""),M=P(""),D=P(!1),U=P(!1),R=P(!1),j=ol({routerPath:[],fromAmount:"",toAmount:"",fromToken:{},toToken:{},from_price:0,to_price:0}),W=P(!0),q=P(""),Y=P(void 0),Q=u(()=>Number(Y.value)>100?100:Number(Y.value)||void 0);r(Y,e=>{"limit"===t.swapType&&(Number.isNaN(Number(e))||(q.value=nl(new Ce(ae.price||0).times(W.value?1:ae.circulation).times(1+(Number(e)||0)/100).toFixed(),4)))});let K=!1,X=!1;const Z=de("priceLimit_move").on(e=>{"limit"!==t.swapType||X||Number.isNaN(Number(e))||(K=!0,Y.value=Number(new Ce(e||0).minus(ae.price||0).div(ae.price||0).times(100).toFixed(0)),E(()=>{K=!1}))});r(q,()=>{"limit"===t.swapType&&(Ue(t.activeTab),ee())}),r(()=>t.swapType,e=>{"limit"!==e?de("priceLimit").emit(0):(Cl(),ee())}),r(W,e=>{"limit"===t.swapType&&(Number.isNaN(Number(q.value))||(q.value=nl(e?new Ce(q.value||0).div(ae.circulation||1).toFixed():new Ce(q.value||0).times(ae.circulation).toFixed(),4)))}),r(()=>t.tabs1,e=>{d.value=e}),r(()=>t.tabs2,e=>{c.value=e});const J=de("klineDataReady").on(()=>{"limit"===t.swapType&&ee()});function ee(){K||(X=!0,W.value?de("priceLimit").emit(Number(q.value)):de("priceLimit").emit(Number(nl(new Ce(q.value).div(ae.circulation||1).toFixed(),4))),E(()=>{X=!1}))}se(()=>{Z&&Z(),J&&J()});const le=o(),ae=H(),ne=O(),oe=ll(),ie=Ze(),ue=Re(),ce=re(),{gasPrice:ve}=z(ae),{getTokensPrice:me,getAllowance:pe,loadingAllowance:fe,bot_approve:he,updateBalanceFromWs:xe}=jm(),ge=u(()=>ae.token),be=u(()=>{var e;const l=s(le.params.id);return(null==l?void 0:l.chain)||(null==(e=ge.value)?void 0:e.chain)}),ye=u(()=>{var e,l,a,t,n;const o=s(le.params.id),i=(null==o?void 0:o.chain)||(null==(e=ge.value)?void 0:e.chain);return null==(n=null==(t=null==(a=null==(l=null==ne?void 0:ne.userInfo)?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===i))?void 0:n.address}),we=u(()=>"buy"===t.activeTab?ae.swap.payToken:ae.swap.token),Te=u(()=>"buy"===t.activeTab?L.value:$.value),Ae=u(()=>"buy"===t.activeTab?B.value:V.value);function Se(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,l=>(null==l?void 0:l.chain)===e)}function Ne(e,l,a){var t,n,o,s,i;return(null==(t=tl)?void 0:t.includes(a||""))||!a?(null==(n=Se(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=Se(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}const $e=u(()=>{var e,l;return null==(l=(null==(e=null==oe?void 0:oe.botSwapBaseTokens)?void 0:e[be.value||""])||[])?void 0:l.filter(e=>{var l;return(null==e?void 0:e.address)!==(null==(l=ae.swap.payToken)?void 0:l.address)})}),Fe=u(()=>{var e;const l=Ye(),a=[...oe.botSwapSelectedWallets,ne.evmAddress||""],t=Array.from(new Set(null==a?void 0:a.filter(Boolean)));let n="0";const o=ae.swap.payToken;return null==(e=ne.walletList)||e.forEach(e=>{t.includes(e.evmAddress)&&(n=new Ce(n).plus(Ne(l,null==e?void 0:e.addresses,null==o?void 0:o.address)||0).toFixed())}),n}),Ie=u(()=>{var e,l;const a=Ye(),t=[...oe.botSwapSelectedWallets,ne.evmAddress||""],n=Array.from(new Set(null==t?void 0:t.filter(Boolean)));let o="0";const s=null==(e=ae.swap)?void 0:e.token;return null==(l=ne.walletList)||l.forEach(e=>{n.includes(e.evmAddress)&&(o=new Ce(o).plus(Ne(a,null==e?void 0:e.addresses,null==s?void 0:s.address)||0).toFixed())}),o}),Le=u(()=>Xe.value?"buy"===t.activeTab?"#12B886":"sell"===t.activeTab?"#F6465D":"#3F80F7":"#999"),Ve=u(()=>!0),Be=u(()=>G(L.value,{limit:20})),Me=u(()=>{var e;if(!L.value)return"0";const l=new Ce(L.value).times((null==(e=ae.swap.payToken)?void 0:e.price)||"0");return G(l.toString())}),De=u(()=>{var e,l,a,t,n,o;return"USDC"===(null==(a=null==(l=null==(e=ae.swap.payToken)?void 0:e.symbol)?void 0:l.toUpperCase)?void 0:a.call(l))||"USDT"===(null==(o=null==(n=null==(t=ae.swap.payToken)?void 0:t.symbol)?void 0:n.toUpperCase)?void 0:o.call(n))}),Ee=(e,l)=>{var a,t,n,o,s,i,r,u;if((null==(a=oe.botSwapSelectedWallets)?void 0:a.length)>1)return;const d=sl[be.value]||.01,c=(null==(t=we.value)?void 0:t.decimals)||18,v=e||0;if("buy"===l)if(["sol","ton",ze].includes((null==(n=we.value)?void 0:n.address)||"")){if(new Ce(e).lt(d))return void te.alert(T("balanceNotEnough",{n:d,s:null==(o=we.value)?void 0:o.symbol}),T("tips"),{confirmButtonText:T("okay")});L.value=(null==(i=null==(s=new Ce(v))?void 0:s.minus(d).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${c}})?`)))?void 0:i[0])||""}else L.value=(null==(r=new Ce(v).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${c}})?`)))?void 0:r[0])||"";else $.value=(null==(u=new Ce(v).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${c}})?`)))?void 0:u[0])||"";Oe(l)};function Pe(e,l){var a,t,n,o;if(!Al.value){if("buy"===l)L.value=e.value;else if("sell"===l){const l=e.value;let s=(null==(a=ae.swap.token)?void 0:a.balance)||0;if((null==(t=oe.botSwapSelectedWallets)?void 0:t.length)>1&&(M.value=new Ce(l).times(100).toFixed(0),s=Ie.value),l){const e=(null==(n=ae.swap.payToken)?void 0:n.decimals)||0;s=(null==(o=new Ce(s).times(l).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||0,0===Number(s)&&(s="")}else s="";$.value=String(Number(s)<0?0:s)}Oe(l)}}const Ue=He(e=>{Oe(e)},10);function Oe(e,l=!0){var a,t,n;(null==(a=oe.botSwapSelectedWallets)?void 0:a.length)>1&&"sell"===e&&function(){var e,l,a,t;const n=M.value;let o=(null==(e=ae.swap.token)?void 0:e.balance)||0;if((null==(l=oe.botSwapSelectedWallets)?void 0:l.length)>1&&(o=Ie.value),n){const e=(null==(a=ae.swap.payToken)?void 0:a.decimals)||0;o=(null==(t=new Ce(o).times(n).div(100).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:t[0])||0,0===Number(o)&&(o="")}else o="";$.value=String(Number(o)<0?0:o)}();let o=$.value;"buy"===e&&(o=L.value);const s=Number(o);"buy"===e?""===o||"."===o?(D.value=!1,B.value=""):0===s&&0!==Number(B.value)?(B.value="0",D.value=!1):s&&(B.value="",je((null==(t=ge.value)?void 0:t.chain)||"","buy",l)):"sell"===e&&(""===o||"."===o?(D.value=!1,V.value=""):0===s&&0!==Number(V.value)?(V.value="0",D.value=!1):s&&(V.value="",je((null==(n=ge.value)?void 0:n.chain)||"","sell",l)))}async function je(e,l=t.activeTab,a=!0){var n,o,s,i,r;const u="buy"===l,d=u?L.value:$.value;D.value=!0,a&&await new Promise((e,l)=>{ae.swap.payToken.price&&ae.swap.token.price&&e([{current_price_usd:ae.swap.token.price},{current_price_usd:ae.swap.payToken.price}]),Ge(e,l)});const c=(null==(o=null==(n=oe.mainTokensPrice)?void 0:n.find(l=>{var a;return l.chain===e&&l.token===(null==(a=We(e))?void 0:a.wmain_wrapper)}))?void 0:o.current_price_usd)||ae.swap.payToken.price||ae.swap.native.price||0,v=ae.swap.payToken,m=((null==(s=tl)?void 0:s.includes((null==v?void 0:v.address)||""))?c:ae.swap.payToken.price)||0;let p=ae.price||(null==(i=ae.swap.token)?void 0:i.price)||0;if("limit"===t.swapType){const e=W.value?q.value:new Ce(q.value).div(ae.circulation||1).toFixed();p=Number(nl(e||ae.price||(null==(r=ae.swap.token)?void 0:r.price)||0,4))}const f=u?m:p,h=u?p:m,x=Number(d)*(f||0)/(h||1);if(x){"buy"===l?B.value=String(x)||"0":V.value=String(x)||"0";const e="buy"===l?ae.swap.payToken:ae.swap.token,a="buy"===l?ae.swap.token:ae.swap.payToken,t="buy"===l?L.value:$.value,n="buy"===l?B.value:V.value;return j.fromAmount=t,j.toAmount=n,j.fromToken={...e,amount:t||""},j.toToken={...a,amount:n||""},j.from_price=f||0,j.to_price=h||0,void(D.value=!1)}}const Ge=He(function(e,l){me().then(e,l)},500);function Ye(){var e;const l=s(le.params.id);return(null==l?void 0:l.chain)||(null==(e=ge.value)?void 0:e.chain)||""}function Qe(){var e;return ne.evmAddress||(null==(e=oe.botSwapSelectedWallets)?void 0:e[0])||""}function Ke(e,l,a){return!(!e||!l)&&(a&&qe(a)?e.toLowerCase()===l.toLowerCase():e===l)}const Xe=u(()=>{var e,l;const a=Ye();return ne.accessToken&&(null==(l=null==(e=null==ne?void 0:ne.isSupportChains)?void 0:e.includes)?void 0:l.call(e,a))}),Je=u(()=>"buy"===t.activeTab),el=async()=>{var e;R.value=!0,he({batchId:Date.now().toString(),chain:be.value||"",inTokenAddress:(null==(e=we.value)?void 0:e.address)||"",outTokenAddress:(Je.value?ae.swap.token.address:ae.swap.payToken.address)||"",creatorAddress:[ye.value||""]}).then(e=>{if(e){let l=setTimeout(()=>{a({type:"success",message:T("approveSubmitted")})},500);e.wait().then(()=>{l&&(clearTimeout(l),l=null),a({type:"success",message:T("approveSuccess")}),setTimeout(()=>{(()=>{var e;const l=Je.value?ae.swap.token:ae.swap.payToken;pe((null==(e=we.value)?void 0:e.address)||"",(null==l?void 0:l.address)||"")})()},1e3),R.value=!1})}}).catch(e=>{il(e||"approve error",a),R.value=!1})};function kl(){var e,l,a;const n=(null==(e=we.value)?void 0:e.balance)||0,o=oe.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;return!(Number(n)<Number(Te.value)&&!o||o&&Number(M.value||0)>100||"0"===String(Te.value)||(null==(l=ae.swap.token)?void 0:l.address)===(null==(a=ae.swap.payToken)?void 0:a.address)||new Ce(Te.value||0).lte(0)||new Ce(q.value||0).lte(0)&&"limit"===t.swapType)}function bl(){var e;if(!Ve.value||fe.value)return T("checkingAllowance");if(D.value)return T("quoting");if(R.value)return T("approve");const l=(null==(e=we.value)?void 0:e.balance)||0;if(oe.botSwapSelectedWallets.length>1&&"sell"===t.activeTab){if(Number(M.value||0)>100)return T("insufficientBalance")}else{if(Number(l)<Number(Te.value))return T("insufficientBalance");if("0"===String(Te.value))return T("AmountCannotBeZero")}}async function _l(){var e,l,n,o,s,i,u,d,c,v,m,p,f,h,x,g,k,b,_,y,w,C,S;if(new Ce(Te.value||0).lte(0))return void a({title:"Error",type:"error",message:T("amountMustG0")});const N=null==(l=new Ce(Te.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==(e=we.value)?void 0:e.decimals)||18}})?`)))?void 0:l[0];if((Number(N)||0)<=0)return void a({title:"Error",type:"error",message:T("amountTooSmall")});if("limit"===t.swapType)return void function(){var e,l,n,o,s,i,u,d,c,v,m,p,f,h,x,g,k,b,_,y,w,C,A,S,N,F,I,D,E,P,R,H,O,j,z;if(new Ce(Te.value||0).lte(0))return void a({title:"Error",type:"error",message:T("amountMustG0")});const G=null==(l=new Ce(Te.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==(e=we.value)?void 0:e.decimals)||18}})?`)))?void 0:l[0];if((Number(G)||0)<=0)return void a({title:"Error",type:"error",message:T("amountTooSmall")});U.value=!0;const Y="buy"===t.activeTab,Q=Ye(),K={solana:"sol",ton:"TON"},X=(null==(n=ae.swap.payToken)?void 0:n.address)||(null==K?void 0:K[Q])||ze,Z=(null==(u=null==(i=null==(s=null==(o=ne.userInfo)?void 0:o.addresses)?void 0:s.find)?void 0:i.call(s,e=>(null==e?void 0:e.chain)===Q))?void 0:u.address)||"",J=oe.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;if("solana"===Q||"ton"===Q){const e=(null==(v=null==(c=null==(d=null==ie?void 0:ie.botSettings)?void 0:d[Q])?void 0:c[t.activeTab])?void 0:v.selected)||(null==(p=null==(m=ie.botSettings)?void 0:m[Q])?void 0:p.selected)||"s1",l=null==(h=null==(f=ie.botSettings)?void 0:f[Q])?void 0:h[e],n=null==l?void 0:l.mev,{gasTip1List:o,gasTip2List:s}=al(oe.gasTip,Q),i=n?o:s,u=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1];let N=(null==u?void 0:u.customFee)||(null==i?void 0:i[null==u?void 0:u.level])||"0.002";n&&new Ce(N).lt("0.002")&&(N="0.002");const F=new Ce(N).times(10**9).toFixed(0),I=W.value?q.value:nl(new Ce(q.value||0).div(ae.circulation||1).toFixed(),4),D=Y?ae.swap.payToken:ae.swap.token,E=(null==(_=null==(b=null==(x=ie.botSettings)?void 0:x[Q])?void 0:b[null==(k=null==(g=ie.botSettings)?void 0:g[Q])?void 0:k.selected])?void 0:_.slippage)||9,P=Date.now().toString(),R={swapList:(null==(C=null==(w=null==(y=(null==oe?void 0:oe.botSwapSelectedWallets)||[])?void 0:y.map((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=ne.walletList)?void 0:a.find)?void 0:t.call(a,l=>l.evmAddress===e))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===Q))?void 0:i.address,v=(null==(d=null==(u=null==(r=ne.walletList)?void 0:r.find)?void 0:u.call(r,l=>l.evmAddress===e))?void 0:d.addresses)||[],m=Ne(Q,v,Y?X:(null==D?void 0:D.address)||"")||0,p=J?new Ce(m||0).times(M.value||0).div(100).times(10**((null==D?void 0:D.decimals)||0)).toFixed(0):new Ce(G||0).times(10**((null==D?void 0:D.decimals)||0)).toFixed(0);return{batchId:P+String(l),creatorAddress:c||"",inAmount:p}}))?void 0:w.filter)?void 0:C.call(w,e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress)))||[],tokenAddress:(null==(A=ae.swap.token)?void 0:A.address)||(null==(S=ae.token)?void 0:S.token)||"",baseTokenAddress:X,swapType:Y?5:6,isPrivate:n||!1,priceLimit:I,autoGas:(null==u?void 0:u.customFee)?0:((null==u?void 0:u.level)||0)+1,priorityFee:F,slippage:"auto"!==E?Number(new Ce(E).times(100).toFixed(0)):900,autoSlippage:"auto"===E};({solana:fl,ton:pl})[Q](R).then(e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,e=>null==e?void 0:e.errorLog);null==(t=null==e?void 0:e.forEach)||t.call(e,e=>{var l,t,o;const s=(null==(o=null==(t=null==(l=ne.walletList)?void 0:l.find)?void 0:t.call(l,l=>{var a,t,n;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===Q))?void 0:n.address)===(null==e?void 0:e.creatorAddress)}))?void 0:o.name)||"";let i=setTimeout(()=>{var l;ae.placeOrderUpdate++,(null==(l=null==e?void 0:e.creatorAddress)?void 0:l.toLowerCase())===Z&&(q.value=""),a({type:"success",message:s+" "+T("limitSubmitted")}),U.value=!1,$.value="",M.value="",L.value="",V.value="",B.value=""},500);if((null==e?void 0:e.errorLog)&&(i&&(clearTimeout(i),i=null),il(s+" "+(null==e?void 0:e.errorLog),a),n))return void(U.value=!1);const u={solana:"/botapi/swap/createSolLimitTx",ton:"/botapi/swap/createTonLimitSwap"};Zn({txInfo:e,chain:Q,destination:(null==u?void 0:u[Q])||"/botapi/swap/createEvmLimitTx",type:20});const d=r(()=>null==ue?void 0:ue.wsResult.tgbot,l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(P))&&e.creatorAddress===(null==o?void 0:o.walletAddress)){if(i&&(clearTimeout(i),i=null),ae.placeOrderSuccess++,null==o?void 0:o.success)a({type:"success",message:(null==o?void 0:o.walletName)+" "+T("tradeSuccess")}),Jn({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||""),isPromptTx&&finishPromptSuccess(o);else{const e=vl(null==o?void 0:o.failMessage)||"swap error";il((null==o?void 0:o.walletName)+" "+e,a),isPromptTx&&finishPromptFail()}d(),U.value=!1}})})}}).catch(e=>{il(e||"swap error",a),finishPromptFail(),U.value=!1})}else if(qe(Q)){const e=(null==(I=null==(F=null==(N=null==ie?void 0:ie.botSettings)?void 0:N[Q])?void 0:F[t.activeTab])?void 0:I.selected)||(null==(E=null==(D=ie.botSettings)?void 0:D[Q])?void 0:E.selected)||"s1",l=null==(H=null==(R=null==(P=ie.botSettings)?void 0:P[Q])?void 0:R[t.activeTab])?void 0:H[e],n=null==l?void 0:l.mev,o=(null==l?void 0:l.slippage)||9,{gasTip1List:s,gasTip2List:i}=al(oe.gasTip,Q),u=n?s:i,d=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1],c=(null==d?void 0:d.customFee)||(null==u?void 0:u[null==d?void 0:d.level])||"3",v=Number(new Ce(c).times(10**9).toFixed(0)),m=Y?ae.swap.payToken:ae.swap.token,p=Y?ae.swap.token:ae.swap.payToken,f=W.value?q.value:nl(new Ce(q.value||0).div(ae.circulation||1).toFixed(),4),h=Date.now().toString(),x=(null==(z=null==(j=null==(O=(null==oe?void 0:oe.botSwapSelectedWallets)||[])?void 0:O.map((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=ne.walletList)?void 0:a.find)?void 0:t.call(a,l=>l.evmAddress===e))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===Q))?void 0:i.address,v=(null==(d=null==(u=null==(r=ne.walletList)?void 0:r.find)?void 0:u.call(r,l=>l.evmAddress===e))?void 0:d.addresses)||[],p=Ne(Q,v,Y?X:(null==m?void 0:m.address)||"")||0,f=J?new Ce(p||0).times(M.value||0).div(100).times(10**((null==m?void 0:m.decimals)||0)).toFixed(0):new Ce(G||0).times(10**((null==m?void 0:m.decimals)||0)).toFixed(0);return{batchId:h+String(l),creatorAddress:c||"",inAmount:f}}))?void 0:j.filter)?void 0:z.call(j,e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress)))||[],g={chain:Q,swapList:x,inTokenAddress:Y?X:(null==m?void 0:m.address)||"",outTokenAddress:Y?(null==p?void 0:p.address)||"":X,swapType:Y?5:6,swapPrice:f,contractType:0,isPrivate:n||!1,gasTip:v,slippage:"auto"!==o?Number(new Ce(o).times(100).toFixed(0)):900,autoSlippage:"auto"===o};hl(g).then(e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,e=>null==e?void 0:e.errorLog);null==(t=null==e?void 0:e.forEach)||t.call(e,e=>{var l,t,o;const s=(null==(o=null==(t=null==(l=ne.walletList)?void 0:l.find)?void 0:t.call(l,l=>{var a,t,n,o,s;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===Q))?void 0:n.address)===(null==(s=null==(o=null==e?void 0:e.creatorAddress)?void 0:o.toLowerCase)?void 0:s.call(o))}))?void 0:o.name)||"";let i=setTimeout(()=>{var l;ae.placeOrderUpdate++,(null==(l=null==e?void 0:e.creatorAddress)?void 0:l.toLowerCase())===Z&&(q.value=""),a({type:"success",message:s+" "+T("limitSubmitted")}),U.value=!1,$.value="",M.value="",L.value="",V.value="",B.value=""},500);if((null==e?void 0:e.errorLog)&&(i&&(clearTimeout(i),i=null),il(s+" "+(null==e?void 0:e.errorLog),a),n))return void(U.value=!1);Zn({txInfo:e,chain:Q,destination:"/botapi/swap/createEvmLimitTx",type:20});const u=r(()=>null==ue?void 0:ue.wsResult.tgbot,l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(h))&&e.creatorAddress===(null==o?void 0:o.walletAddress)){if(i&&(clearTimeout(i),i=null),ae.placeOrderSuccess++,null==o?void 0:o.success)a({type:"success",message:(null==o?void 0:o.walletName)+" "+T("tradeSuccess")}),Jn({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||"");else{const e=vl(null==o?void 0:o.failMessage)||"swap error";il((null==o?void 0:o.walletName)+" "+e,a)}u(),U.value=!1}})})}}).catch(e=>{il(e||"swap error",a),U.value=!1})}}();U.value=!0;const F="buy"===t.activeTab,I=Ye(),D=function(e){var l,a,t,n,o,s,i,r,u;const d=Qe(),c=null==(a=null==(l=ne.walletList)?void 0:l.find)?void 0:a.call(l,e=>e.evmAddress===d);return(null==(o=null==(n=null==(t=null==c?void 0:c.addresses)?void 0:t.find)?void 0:n.call(t,l=>(null==l?void 0:l.chain)===e))?void 0:o.address)||(null==(u=null==(r=null==(i=null==(s=ne.userInfo)?void 0:s.addresses)?void 0:i.find)?void 0:r.call(i,l=>(null==l?void 0:l.chain)===e))?void 0:u.address)||""}(I),E=D||Qe(),P=F?ae.swap.payToken:ae.swap.token,R=F?ae.swap.token:ae.swap.payToken;let H=0,O=null,j=null,z=!1;const G=()=>{O&&(clearInterval(O),O=null)},Y=()=>{j&&(clearTimeout(j),j=null)};H=Date.now();const Q=A({avatarAddress:E,avatarChain:I}),K=()=>{z||(z=!0,G(),Y(),Q.close())},X=e=>{if(z)return;z=!0,G(),Y();const l=(Date.now()-H)/1e3,a=(null==e?void 0:e.fromAmount)?gl(e.fromAmount,(null==P?void 0:P.decimals)||0):Te.value,t=(null==e?void 0:e.outputAmount)?gl(e.outputAmount,(null==R?void 0:R.decimals)||0):Ae.value;Q.success({chain:I,txHash:(null==e?void 0:e.txHash)||(null==e?void 0:e.hash)||"",elapsedSec:l,isBuy:F,fromSymbol:(null==P?void 0:P.symbol)||"",fromAmount:a,toSymbol:(null==R?void 0:R.symbol)||"",toAmount:t,avatarAddress:E,avatarChain:I})};O=ul(()=>{Q.update(Date.now()-H)},100),j=setTimeout(()=>{z||(G(),Q.close(),j=null)},12e4);const Z={solana:"sol",ton:"TON"},J=(null==(n=ae.swap.payToken)?void 0:n.address)||(null==Z?void 0:Z[I])||ze,ee=oe.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;if("solana"===I||"ton"===I){const e=(null==(i=null==(s=null==(o=null==ie?void 0:ie.botSettings)?void 0:o[I])?void 0:s[t.activeTab])?void 0:i.selected)||(null==(d=null==(u=null==ie?void 0:ie.botSettings)?void 0:u[I])?void 0:d.selected)||"s1",l=null==(m=null==(v=null==(c=ie.botSettings)?void 0:c[I])?void 0:v[t.activeTab])?void 0:m[e],n=null==l?void 0:l.mev,{gasTip1List:x,gasTip2List:g}=al(oe.gasTip,I),k=n?x:g,b=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1];let _=(null==b?void 0:b.customFee)||(null==k?void 0:k[null==b?void 0:b.level])||"0.002";n&&new Ce(_).lt("0.002")&&(_="0.002");const y=new Ce(_).times(10**9).toFixed(0),w=F?ae.swap.payToken:ae.swap.token,T=F?ae.swap.token:ae.swap.payToken,C=(null==l?void 0:l.slippage)||9,A=Date.now().toString(),S={swapList:(null==(h=null==(f=null==(p=(null==oe?void 0:oe.botSwapSelectedWallets)||[])?void 0:p.map((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=ne.walletList)?void 0:a.find)?void 0:t.call(a,l=>l.evmAddress===e))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===I))?void 0:i.address,v=(null==(d=null==(u=null==(r=ne.walletList)?void 0:r.find)?void 0:u.call(r,l=>l.evmAddress===e))?void 0:d.addresses)||[],m=Ne(I,v,F?J:(null==w?void 0:w.address)||"")||0,p=ee?new Ce(m||0).times(M.value||0).div(100).times(10**((null==w?void 0:w.decimals)||0)).toFixed(0):new Ce(N||0).times(10**((null==w?void 0:w.decimals)||0)).toFixed(0);return{batchId:A+String(l),creatorAddress:c||"",inAmount:p}}))?void 0:f.filter)?void 0:h.call(f,e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress)))||[],inTokenAddress:F?J:(null==w?void 0:w.address)||"",outTokenAddress:F?(null==T?void 0:T.address)||"":J,swapType:F?1:2,isPrivate:n||!1,priorityFee:y,autoSell:F&&ie.autoSellConfig_autoSell||!1,slippage:"auto"!==C?Number(new Ce(C).times(100).toFixed(0)):900,autoSlippage:"auto"===C,autoSellConfig:F?null==ie?void 0:ie.selectedAutoSellConfig:[],autoGas:(null==b?void 0:b.customFee)?0:((null==b?void 0:b.level)||0)+1,autoSellGas:(null==b?void 0:b.customFee)?0:((null==b?void 0:b.level)||0)+1,autoSellPriorityFee:y};({solana:cl,ton:dl})[I](S).then(e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,e=>null==e?void 0:e.errorLog);null==(t=null==e?void 0:e.forEach)||t.call(e,e=>{var l,t,o;const s=!D||Ke(null==e?void 0:e.creatorAddress,D,I),i=(null==(o=null==(t=null==(l=ne.walletList)?void 0:l.find)?void 0:t.call(l,l=>{var a,t,n,o,s;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===I))?void 0:n.address)===(null==(s=null==(o=null==e?void 0:e.creatorAddress)?void 0:o.toLowerCase)?void 0:s.call(o))}))?void 0:o.name)||"";let u=setTimeout(()=>{U.value=!1,$.value="",M.value="",L.value="",V.value="",B.value=""},500);if((null==e?void 0:e.errorLog)&&(u&&(clearTimeout(u),u=null),il(i+" "+(null==e?void 0:e.errorLog),a),s&&K(),n))return void(U.value=!1);const d={solana:"/botapi/swap/createSolTx",ton:"/botapi/swap/createSwapTonTx"};Zn({txInfo:e,chain:I,destination:(null==d?void 0:d[I])||"/botapi/swap/createSwapEvmTx",type:10});const c=r(()=>null==ue?void 0:ue.wsResult.tgbot,l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(A))&&Ke(e.creatorAddress,null==o?void 0:o.walletAddress,I)){if(u&&(clearTimeout(u),u=null),ae.placeOrderSuccess++,null==o?void 0:o.success)Jn({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||""),s&&X(o);else{const e=vl(null==o?void 0:o.failMessage)||"swap error";il((null==o?void 0:o.walletName)+" "+e,a),s&&K()}c(),U.value=!1}})})}else K(),U.value=!1}).catch(e=>{il(e||"swap error",a),K(),U.value=!1})}else if(qe(I)){const e=(null==(k=null==(g=null==(x=ie.botSettings)?void 0:x[I])?void 0:g[t.activeTab])?void 0:k.selected)||"s1",l=null==(y=null==(_=null==(b=ie.botSettings)?void 0:b[I])?void 0:_[t.activeTab])?void 0:y[e],n=null==l?void 0:l.mev,o=(null==l?void 0:l.slippage)||9,{gasTip1List:s,gasTip2List:i}=al(oe.gasTip,I),u=n?s:i,d=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1],c=(null==d?void 0:d.customFee)?(null==d?void 0:d.customFee)||(null==u?void 0:u[null==d?void 0:d.level])||"3":"0",v=Number(new Ce(c).times(10**9).toFixed(0)),m=F?ae.swap.payToken:ae.swap.token,p=F?ae.swap.token:ae.swap.payToken,f=Date.now().toString(),h=(null==(S=null==(C=null==(w=(null==oe?void 0:oe.botSwapSelectedWallets)||[])?void 0:w.map((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=ne.walletList)?void 0:a.find)?void 0:t.call(a,l=>l.evmAddress===e))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===I))?void 0:i.address,v=(null==(d=null==(u=null==(r=ne.walletList)?void 0:r.find)?void 0:u.call(r,l=>l.evmAddress===e))?void 0:d.addresses)||[],p=Ne(I,v,F?J:(null==m?void 0:m.address)||"")||0,h=ee?new Ce(p||0).times(M.value||0).div(100).times(10**((null==m?void 0:m.decimals)||0)).toFixed(0):new Ce(N||0).times(10**((null==m?void 0:m.decimals)||0)).toFixed(0);return{batchId:f+String(l),creatorAddress:c||"",inAmount:h}}))?void 0:C.filter)?void 0:S.call(C,e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress)))||[],T={chain:I,swapList:h,inTokenAddress:F?J:(null==m?void 0:m.address)||"",outTokenAddress:F?(null==p?void 0:p.address)||"":J,swapType:F?1:2,contractType:0,isPrivate:n||!1,gasTip:v,autoSell:F&&ie.autoSellConfig_autoSell||!1,slippage:"auto"!==o?Number(new Ce(o).times(100).toFixed(0)):900,autoSlippage:"auto"===o,autoSellConfig:F?null==ie?void 0:ie.selectedAutoSellConfig:[],autoGas:(null==d?void 0:d.customFee)?0:((null==d?void 0:d.level)||0)+1,autoSellGas:(null==d?void 0:d.customFee)?0:((null==d?void 0:d.level)||0)+1,autoSellPriorityFee:v};ml(T).then(e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,e=>null==e?void 0:e.errorLog);null==(t=null==e?void 0:e.forEach)||t.call(e,e=>{var l,t,o;const s=!D||Ke(null==e?void 0:e.creatorAddress,D,I),i=(null==(o=null==(t=null==(l=ne.walletList)?void 0:l.find)?void 0:t.call(l,l=>{var a,t,n,o;return(null==(t=null==(a=null==l?void 0:l.evmAddress)?void 0:a.toLowerCase)?void 0:t.call(a))===(null==(o=null==(n=null==e?void 0:e.creatorAddress)?void 0:n.toLowerCase)?void 0:o.call(n))}))?void 0:o.name)||"";let u=setTimeout(()=>{U.value=!1,L.value="",B.value="",$.value="",M.value="",V.value=""},500);if((null==e?void 0:e.errorLog)&&(u&&(clearTimeout(u),u=null),il(i+" "+(null==e?void 0:e.errorLog),a),s&&K(),n))return void(U.value=!1);Zn({txInfo:e,chain:I,destination:"/botapi/swap/createSwapEvmTx",type:10});const d=r(()=>null==ue?void 0:ue.wsResult.tgbot,l=>{var t,n;const o=l.batchId,i=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==(n=null==o?void 0:o.includes)?void 0:n.call(o,f))&&Ke(e.creatorAddress,null==i?void 0:i.walletAddress,I)){if(u&&(clearTimeout(u),u=null),ae.placeOrderSuccess++,null==i?void 0:i.success)Jn({...i,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||""),xe({chain:T.chain,inTokenAddress:T.inTokenAddress,outTokenAddress:T.outTokenAddress,...i}),s&&X(i);else{const e=vl(null==i?void 0:i.failMessage)||"swap error";il((null==i?void 0:i.walletName)+" "+e,a),s&&K()}d(),U.value=!1}})})}}).catch(e=>{il(e||"swap error",a),K(),U.value=!1})}}function yl(){var e;const l=Ye();qe(l)&&(null==(e=xl(l))||e.getFeeData().then(e=>{e&&(ve.value=new Ce(e.gasPrice||0).toNumber())}))}r(()=>{var e;return(null==(e=ae.token)?void 0:e.token)||""},e=>{e&&(yl(),$.value="",M.value="",L.value="",V.value="",B.value="",Oe(t.activeTab))}),r(()=>t.activeTab,e=>{$.value="",M.value="",L.value="",V.value="",B.value=""}),r(()=>ae.price,e=>{e&&Oe(t.activeTab,!1)});const wl=Date.now();let Tl=null;function Cl(){var e;if("market"===t.swapType){if(Date.now()-wl>5e3)return;if(!ae.price)return Tl&&(clearTimeout(Tl),Tl=null),void(Tl=setTimeout(Cl,1e3))}else if(!ae.price)return Tl&&(clearTimeout(Tl),Tl=null),void(Tl=setTimeout(Cl,1e3));Y.value=void 0,q.value=nl(new Ce((null==(e=ae.token)?void 0:e.current_price_usd)||0).times(W.value?1:ae.circulation).toFixed(),4)}r(()=>{var e;return null==(e=ae.token)?void 0:e.token},()=>{Cl()}),r(()=>ae.placeOrderSuccess,()=>{setTimeout(()=>{g("getTokenBalance")},1e3)});const Al=P(!1);return i(()=>{Cl(),yl()}),(l,a)=>{var t,n,o,s,i,r,u,c,g,T,A,E;const P=b,H=Yn,O=Gn,j=qn,z=_e,K=Qn,X=ke;return f(),_("div",null,["buy"===e.activeTab?(f(),_(y,{key:0},[C(z,{modelValue:L.value,"onUpdate:modelValue":[a[1]||(a[1]=e=>L.value=e),a[2]||(a[2]=e=>{var l;L.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),p(Ue)("buy")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number mt-10px","input-style":"text-align:right"},{prepend:h(()=>[x("span",dp,k(l.$t("amount")),1)]),append:h(()=>[C(j,{persistent:!1,placement:"bottom",trigger:"click",onVisibleChange:a[0]||(a[0]=e=>S.value=e)},{dropdown:h(()=>[C(O,null,{default:h(()=>{var e,a,t;return[(f(!0),_(y,null,w(null==(t=(null==(a=null==(e=p(oe))?void 0:e.botSwapBaseTokens)?void 0:a[be.value||""])||[])?void 0:t.filter(e=>{var l;return(null==e?void 0:e.address)!==(null==(l=p(ae).swap.payToken)?void 0:l.address)}),e=>(f(),v(H,{key:e.address,onClick:F(a=>{p(ae).swap.payToken=e,l.$emit("getTokenBalance"),L.value="",B.value=""},["stop"])},{default:h(()=>[x("img",{src:`${p(ce).token_logo_url}${e.logo_url}`,class:"rd-50% mr-8px",height:"16",alt:"",srcset:""},null,8,mp),x("span",pp,k(null==e?void 0:e.symbol),1)]),_:2},1032,["onClick"]))),128))]}),_:1})]),default:h(()=>{var e,l;return[x("div",cp,[x("img",{src:`${p(ce).token_logo_url}${null==(e=p(ae).swap.payToken)?void 0:e.logo_url}`,class:"rd-50%",height:"20",alt:"",srcset:""},null,8,vp),(null==(l=$e.value)?void 0:l.length)>1?(f(),v(P,{key:0,class:I(["arrow-up",{active:!0===S.value}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])):m("",!0)])]}),_:1})]),_:1},8,["modelValue"]),x("div",fp,[x("span",hp,"≈"+k(p(G)(B.value||0))+" "+k(null==(t=ge.value)?void 0:t.symbol),1),C(P,{name:"ri:wallet-fill",class:"color-[--third-text] text-14px ml-auto"}),x("span",xp,k(null==(n=p(oe).botSwapSelectedWallets)?void 0:n.length),1),x("div",{class:I(["color-[--third-text]",{clickable:(null==(o=p(oe).botSwapSelectedWallets)?void 0:o.length)<=1}]),onClick:a[3]||(a[3]=F(e=>{var l;return Ee((null==(l=p(ae).swap.payToken)?void 0:l.balance)||0,"buy")},["stop"]))},[N(k(l.$t("balance1"))+": ",1),x("span",null,k(p(G)(Fe.value||0)),1),N(" "+k((null==(s=p(ae).swap.payToken)?void 0:s.symbol)||""),1)],2),C(zm,{class:"color-[--third-text]",type:0,isPayToken:"",isBatch:""})]),x("div",gp,[(f(!0),_(y,null,w(e.tabs1,(e,l)=>(f(),_("button",{key:l,class:"tab-item",type:"button",onClick:F(l=>Pe(e,"buy"),["stop"])},[Al.value?d.value[l]?(f(),v(z,{key:1,modelValue:d.value[l].value,"onUpdate:modelValue":e=>d.value[l].value=e,style:{"--el-input-inner-height":"24px","--el-input-bg-color":"transparent","--el-input-border-color":"transparent","--el-input-hover-border-color":"transparent","--el-input-focus-border-color":"transparent"},class:"text-center w-full h-full",size:"small",onBlur:e=>{var a,t;return d.value[l].value=null==(t=null==(a=d.value[l].value)?void 0:a.replace)?void 0:t.call(a,/\-|[^\d.]/g,"")}},null,8,["modelValue","onUpdate:modelValue","onBlur"])):m("",!0):(f(),_("span",bp,k(e.name),1))],8,kp))),128)),x("button",{class:"tab-item h-30px basis-[26px]! grow-0! shrink-0!",type:"button",onClick:a[4]||(a[4]=e=>function(e,l){var a,t;Al.value=!Al.value;const n=(null==(t=null==(a=null==ie?void 0:ie.botSettings)?void 0:a[be.value])?void 0:t.buy)||{};ie.botSettings[be.value][l][(null==n?void 0:n.selected)||"s1"].buyValueList=e.map(e=>e.value)}(d.value,"buy"))},[C(P,{name:Al.value?"custom:select":"custom:remark"},null,8,["name"])])])],64)):"sell"===e.activeTab?(f(),_(y,{key:1},[(null==(i=p(oe).botSwapSelectedWallets)?void 0:i.length)>1?(f(),v(z,{key:0,modelValue:M.value,"onUpdate:modelValue":[a[5]||(a[5]=e=>M.value=e),a[6]||(a[6]=e=>{var l;M.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),p(Ue)("sell")})],clearable:"",class:"input-number mt-10px",size:"large","input-style":"text-align:right",placeholder:"0"},{prepend:h(()=>{var e;return[x("span",_p,k(null==(e=ge.value)?void 0:e.symbol),1)]}),append:h(()=>[...a[19]||(a[19]=[x("span",{class:"text-12px color-[--main-text]"},"%",-1)])]),_:1},8,["modelValue"])):(f(),v(z,{key:1,modelValue:$.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>$.value=e),a[8]||(a[8]=e=>{var l;$.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),p(Ue)("sell")})],clearable:"",class:"input-number mt-10px",size:"large","input-style":"text-align:right",placeholder:"0.0"},{prepend:h(()=>[x("span",yp,k(l.$t("amount")),1)]),append:h(()=>{var e;return[x("span",wp,k(null==(e=ge.value)?void 0:e.symbol),1)]}),_:1},8,["modelValue"])),x("div",Tp,[x("div",Cp,[x("span",null,"≈"+k(p(G)(V.value||0)),1),C(j,{placement:"bottom",trigger:"click",onVisibleChange:a[9]||(a[9]=e=>S.value=e)},{dropdown:h(()=>[C(O,null,{default:h(()=>{var e,a,t;return[(f(!0),_(y,null,w(null==(t=(null==(a=null==(e=p(oe))?void 0:e.botSwapBaseTokens)?void 0:a[be.value||""])||[])?void 0:t.filter(e=>{var l;return(null==e?void 0:e.address)!==(null==(l=p(ae).swap.payToken)?void 0:l.address)}),e=>(f(),v(H,{key:null==e?void 0:e.address,onClick:F(a=>{p(ae).swap.payToken=e,l.$emit("getTokenBalance"),$.value="",V.value="",M.value=""},["stop"])},{default:h(()=>[x("img",{src:`${p(ce).token_logo_url}${e.logo_url}`,class:"rd-50% mr-8px",height:"16",alt:"",srcset:""},null,8,Sp),x("span",Np,k(null==e?void 0:e.symbol),1)]),_:2},1032,["onClick"]))),128))]}),_:1})]),default:h(()=>{var e,a,t;return[x("div",Ap,[x("span",null,k((null==(e=p(ae).swap.payToken)?void 0:e.symbol)||(null==(a=("getChainInfo"in l?l.getChainInfo:p(We))(be.value||""))?void 0:a.main_name)),1),(null==(t=$e.value)?void 0:t.length)>1?(f(),v(P,{key:0,class:I(["arrow-up",{active:!0===S.value}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])):m("",!0)])]}),_:1})]),C(P,{name:"ri:wallet-fill",class:"color-[--third-text] text-14px ml-auto"}),x("span",$p,k(null==(r=p(oe).botSwapSelectedWallets)?void 0:r.length),1),x("span",{class:I(["color-[--third-text]",{clickable:(null==(u=p(oe).botSwapSelectedWallets)?void 0:u.length)<=1}]),onClick:a[10]||(a[10]=F(e=>{var l;return Ee((null==(l=p(ae).swap.token)?void 0:l.balance)||0,"sell")},["stop"]))},[N(k(l.$t("balance1"))+": ",1),x("span",null,k(p(G)(Ie.value||0)),1),N(" "+k(null==(c=ge.value)?void 0:c.symbol),1)],2),C(zm,{class:"color-[--third-text]",type:1,isPayToken:"",isBatch:""})]),x("div",Fp,[(f(!0),_(y,null,w(e.tabs2,(e,l)=>(f(),_("button",{key:l,class:"tab-item",type:"button",onClick:F(l=>Pe(e,"sell"),["stop"])},[x("span",null,k(e.name),1)],8,Ip))),128))])],64)):m("",!0),"limit"===e.swapType?(f(),_(y,{key:2},[C(z,{modelValue:q.value,"onUpdate:modelValue":[a[12]||(a[12]=e=>q.value=e),a[13]||(a[13]=e=>{var l;return q.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number mt-10px","input-style":"text-align:right"},{prepend:h(()=>[x("span",Lp,k(W.value?l.$t("price"):"MC"),1),C(P,{name:"iconamoon:synchronize-fill",class:"clickable ml-5px text-12px color-[--main-text]",onClick:a[11]||(a[11]=F(e=>W.value=!W.value,["stop"]))})]),append:h(()=>[...a[20]||(a[20]=[x("span",{class:"text-12px color-[--main-text]"},"$",-1)])]),_:1},8,["modelValue"]),x("div",{class:I(["slider-swap",e.activeTab])},[x("div",Vp,[C(K,{"model-value":Q.value,"show-tooltip":!1,"show-input-controls":!1,min:-100,max:100,onInput:a[14]||(a[14]=e=>function(e){Y.value=e}(e))},null,8,["model-value"]),x("div",Bp,[(f(),_(y,null,w([-100,-50,0,50,100],(e,l)=>x("span",{key:l,class:"clickable",onClick:F(l=>Y.value=e,["stop"])},k(e)+"%",9,Mp)),64))])]),C(z,{modelValue:Y.value,"onUpdate:modelValue":[a[15]||(a[15]=e=>Y.value=e),a[16]||(a[16]=e=>{var l;return Y.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0",class:"input-number max-w-70px ml-15px text-14px!"},{prefix:h(()=>[...a[21]||(a[21]=[x("div",{class:"w-10px"},null,-1)])]),suffix:h(()=>[...a[22]||(a[22]=[x("div",{class:"text-14px color-[--third-text] pr-5px"},"%",-1)])]),_:1},8,["modelValue"])],2)],64)):m("",!0),"buy"===e.activeTab&&"market"===e.swapType&&"ton"!==be.value?(f(),v(tp,{key:3,class:"mt-15px"})):m("",!0),Xe.value?(f(),_(y,{key:4},[Ve.value?"buy"===e.activeTab&&(0===Number(null==(g=we.value)?void 0:g.balance)||Number(null==(T=we.value)?void 0:T.balance)<Number(Te.value))?(f(),v(X,{key:1,class:"submit-btn",color:Le.value,"native-type":"button",onClick:a[17]||(a[17]=F(e=>{return l=be.value,void de("botTopUp").emit(l);var l},["stop"]))},{default:h(()=>[N(k(l.$t("lowBalanceToUP")),1)]),_:1},8,["color"])):(f(),v(X,{key:2,class:"submit-btn",block:"",loading:U.value||D.value||p(fe),"loading-text":U.value?"buy"===e.activeTab?l.$t("buying"):l.$t("selling"):l.$t("quoting"),color:Le.value,disabled:!kl()||!Te.value||!Ae.value,"native-type":"button",onClick:F(_l,["stop"])},{default:h(()=>{var e,t,n;return[bl()?(f(),_(y,{key:0},[N(k(bl()),1)],64)):Je.value?(f(),_("div",Dp,[N(k(l.$t("buy"))+" ",1),a[23]||(a[23]=x("span",null,"|",-1)),x("img",{src:`${p(ce).token_logo_url}${null==(n=p(ae).swap.payToken)?void 0:n.logo_url}`,class:"rd-50%",height:"12",alt:"",srcset:""},null,8,Ep),x("span",null,[N(k(Be.value)+" ",1),De.value?m("",!0):(f(),_(y,{key:0},[N(" ($"+k(Me.value)+") ",1)],64))]),a[24]||(a[24]=x("span",null,"|",-1)),x("span",null,k(p(G)(B.value||0)),1)])):(f(),_(y,{key:1},[N(k(bl()||(Je.value?l.$t("buy"):l.$t("sell")+(Number(V.value||0)>0?`≈ ${p(G)(V.value||0)} ${(null==(e=p(ae).swap.payToken)?void 0:e.symbol)||(null==(t=("getChainInfo"in l?l.getChainInfo:p(We))(be.value||""))?void 0:t.main_name)}`:""))),1)],64))]}),_:1},8,["loading","loading-text","color","disabled"])):(f(),v(X,{key:0,color:Le.value,class:"submit-btn","native-type":"button",loading:R.value||U.value||p(fe),disabled:Number(we.value.balance)<Number(Te.value),onClick:F(el,["stop"])},{default:h(()=>[N(k((0===Number(we.value.balance)||Number(we.value.balance)<Number(Te.value))&&bl()||l.$t("approve")),1)]),_:1},8,["color","loading","disabled"])),C(up,{activeTab:e.activeTab,swapType:e.swapType,gasPrice:p(ve)},null,8,["activeTab","swapType","gasPrice"])],64)):(null==(E=null==(A=p(ne))?void 0:A.userInfo)?void 0:E.evmAddress)?(f(),_("div",Up,k(l.$t("useChainWallet")),1)):(f(),_("div",Pp,[C(X,{class:"btn-login",color:"buy"===e.activeTab?"#12B886":"#F6465D","native-type":"button",onClick:a[18]||(a[18]=F(e=>p(ne).changeConnectVisible(!0),["stop"]))},{default:h(()=>[N(k(l.$t("login")),1)]),_:1},8,["color"])]))])}}}),Hp=B(Rp,[["__scopeId","data-v-ab0b15e2"]]),Op=e=>{const l=Re(),a=o(),t=U();r(()=>l.wsResult[bl.PRICEV2],l=>{l.prices.find(l=>{if(l.token+"-"+l.chain===a.params.id&&e.value){const a=Number(e.value.balance_amount||0);if(!a)return;const n=l.uprice*a,o=(l.uprice-Number(e.value.average_purchase_price_usd||0))*a,s=o+Number(e.value.realized_profit||0),i=l.uprice/Number(e.value.average_purchase_price_usd||0)-1;e.value.balance_usd=String(n),e.value.unrealized_profit=String(o),e.value.unrealized_ratio=String(i),e.value.total_profit=String(s);const r=t.mySwapList.filter(e=>[kl.BUY,kl.LIMIT_BUY].includes(e.swapType)).reduce((e,l)=>e+(Number(l.inValue)||Number(l.outValue)),0);r&&(e.value.total_profit_ratio=String(s/r))}})})},jp={key:0,class:"max-h-54px flex items-start justify-between color-[--main-text] text-center bg-[--main-list-hover] mb-12px py-10px rd-4px"},zp={class:"flex-1"},Wp={class:"text-11px color-[--third-text]"},qp={class:"text-12px mt-5px color-#12B886"},Gp={class:"flex-1"},Yp={class:"text-11px color-[--third-text]"},Qp={class:"flex-1"},Kp={class:"text-11px color-[--third-text]"},Xp={class:"text-12px mt-5px"},Zp={class:"flex-1"},Jp={class:"text-11px color-[--third-text] flex items-center justify-center"},ef=t({__name:"holding",props:{isForceShow:{type:Boolean,default:!1}},setup(e){const l=o(),a=O(),t=H(),n=P(!1),i=u(()=>{var e,t,n,o,i;const[r,u]=s(null==(e=l.params)?void 0:e.id,1);return r&&u?null==(i=null==(o=null==(n=null==(t=a.userInfo)?void 0:t.addresses)?void 0:n.find)?void 0:o.call(n,e=>(null==e?void 0:e.chain)===u))?void 0:i.address:""});r(i,e=>{n.value=!1,e&&(v.value=0,c(),h())});const d=P(null);async function c(){var e,t,o,i,r;const[u,c]=s(null==(e=l.params)?void 0:e.id,1);if(!u||!c)return;if(!a.isSupportChains.includes(c))return void(d.value=null);const v=null==(r=null==(i=null==(o=null==(t=a.userInfo)?void 0:t.addresses)?void 0:o.find)?void 0:i.call(o,e=>(null==e?void 0:e.chain)===c))?void 0:r.address;if(!v||!u)return;return _l({user_address:v,chain:c,user_token:u}).then(async e=>{var l;return d.value=(null==e?void 0:e[0])||null,Number((null==(l=d.value)?void 0:l.balance_usd)||0)>0&&(n.value=!1),e}).catch(async()=>(d.value=null,null))}Op(d);const v=P(0);async function h(){var e,t,n,o;const[i,r]=s(null==(e=l.params)?void 0:e.id,1);if(!i||!r)return;if(!(null==(n=null==(t=a.isSupportChains)?void 0:t.includes)?void 0:n.call(t,r)))return;const u={evmAddress:a.evmAddress,chains:r,pinToken:null==(o=l.params)?void 0:o.id};return yl(u).then(async e=>{var l,a,t,n,o;return!(null==(l=null==e?void 0:e[0])?void 0:l.value)||(null==(a=null==e?void 0:e[0])?void 0:a.value)>0&&(null==(t=null==e?void 0:e[0])?void 0:t.token)!==i?(v.value=0,void de("updateAvgPrice").emit(0)):(v.value=Number((null==(n=null==e?void 0:e[0])?void 0:n.avgPrice)||0),(null==(o=null==e?void 0:e[0])?void 0:o.value)>0&&de("updateAvgPrice").emit(v.value),e)}).catch(async()=>null)}r(()=>l.params.id,()=>{n.value=!1,v.value=0,c(),h()}),r(()=>t.placeOrderSuccess,()=>{n.value=!0,A(),h()});let g=0,w=null,T=!1;function A(){T||(g>10?g=0:(c(),h(),g++,w=setTimeout(A,5e3)))}const S=P(!1),$=de("klineDataReady").on(()=>{v.value>0&&de("updateAvgPrice").emit(v.value)});return se(()=>{T=!0,w&&(clearTimeout(w),w=null),$&&$()}),(l,a)=>{var o,s,i,r,u,c,v,h,g,w,T,A,$,L,V;const B=b;return Number((null==(o=p(d))?void 0:o.balance_usd)||0)>0&&Number((null==(i=null==(s=p(t).swap)?void 0:s.token)?void 0:i.balance)||0)>0||p(n)||e.isForceShow?(f(),_("div",jp,[x("div",zp,[x("div",Wp,k(l.$t("bought")),1),x("div",qp,"$"+k(p(G)((null==(r=p(d))?void 0:r.total_purchase_usd)||0,2)),1)]),x("div",Gp,[x("div",Yp,k(l.$t("sold")),1),x("div",{class:I(["text-12px mt-5px",[Number((null==(u=p(d))?void 0:u.total_sold_usd)||0)>0?"color-#F6465D":"color-[--third-text]"]])},"$"+k(p(G)((null==(c=p(d))?void 0:c.total_sold_usd)||0,2)),3)]),x("div",Qp,[x("div",Kp,k(l.$t("holding")),1),x("div",Xp,"$"+k(p(G)((null==(v=p(d))?void 0:v.balance_usd)||0,2)),1)]),x("div",Zp,[x("div",Jp,[x("span",null,k(l.$t("profit2")),1),C(B,{name:"custom:price",class:I(["text-11px clickable ml-5px",[p(S)?"color-[--third-text]":"color-[--secondary-text]"]]),onClick:a[0]||(a[0]=F(e=>S.value=!p(S),["stop"]))},null,8,["class"])]),x("div",{class:I(["text-12px mt-5px",[Number((null==(h=p(d))?void 0:h.total_profit)||0)>0?"color-#12B886":"color-#F6465D"]])},[p(S)?(f(),_(y,{key:1},[N(k(p(G)(Number((null==(T=p(d))?void 0:T.total_profit)||0)/Number((null==(A=p(d))?void 0:A.main_token_price)||1),2))+" "+k((null==($=p(d))?void 0:$.main_token_symbol)||""),1)],64)):(f(),_(y,{key:0},[N(k(Number((null==(g=p(d))?void 0:g.total_profit)||0)>0?"":"-")+"$"+k(p(G)(Math.abs(Number(null==(w=p(d))?void 0:w.total_profit)||0),2)),1)],64))],2),x("div",{class:I(["text-8px",[Number((null==(L=p(d))?void 0:L.total_profit_ratio)||0)>0?"color-#12B886":"color-#F6465D"]])},"("+k(p(G)(100*Number((null==(V=p(d))?void 0:V.total_profit_ratio)||0),2))+"%)",3)])])):m("",!0)}}}),lf={class:"ml-auto flex item-center clickable"},af={class:"text-12px color-[--main-text] mx-3px"},tf={class:"color-[--third-text] text-12px max-h-500px overflow-y-auto"},nf={class:"flex items-center justify-between px-12px b-b-solid b-b-1px b-b-[--border]"},of={class:"flex-1 text-right"},sf={class:"flex-1 text-right"},rf={class:"flex items-center",style:{flex:"1.5"}},uf=["title"],df={class:"color-[--third-text] flex items-center"},cf={class:"ml-auto lh-14px flex items-center color-[--main-text] text-12px flex-1 justify-end"},vf=["src"],mf={class:"ml-auto lh-14px flex items-center color-[--main-text] text-12px flex-1 justify-end"},pf=["src"],ff=["src"],hf={class:"text-12px color-[--main-text]"},xf=t({__name:"batchWallet",props:{chain:{type:String,default:""},boundary:{type:HTMLElement,default:null}},setup(e){const l=e,a=re(),t=H(),n=O(),o=ll(),s=P(!1),i=P(!1),r=u(()=>{var e,l;return(null==(l=null==(e=n.walletList)?void 0:e.map)?void 0:l.call(e,e=>e.evmAddress))||[]}),d=u(()=>{var e,l,a;const t=null==(l=null==(e=n.walletList)?void 0:e.slice)?void 0:l.call(e,0);return(null==(a=null==t?void 0:t.sort)?void 0:a.call(t,e=>e.evmAddress===n.evmAddress?-1:1))||[]}),m=u(()=>{var e;const a=[...o.botSwapSelectedWallets,n.evmAddress||""],s=Array.from(new Set(null==a?void 0:a.filter(Boolean)));let i="0";const r=t.swap.payToken;return null==(e=n.walletList)||e.forEach(e=>{s.includes(e.evmAddress)&&(i=new Ce(i).plus(B(l.chain,e.addresses,null==r?void 0:r.address)||0).toFixed())}),i}),T=e=>{o.botSwapSelectedWallets=e?r.value:[n.evmAddress||""],i.value=!1},A=e=>{const l=e.length;i.value=l>0&&l<n.walletList.length},S=u(()=>o.botSwapSelectedWallets.length===n.walletList.length);function $(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,l=>(null==l?void 0:l.chain)===e)}function B(e,l,a){var t,n,o,s,i;return(null==(t=tl)?void 0:t.includes(a||""))||!a?(null==(n=$(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=$(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}return(l,r)=>{var u;const M=b,D=Je,E=wl,P=V,U=c("copy");return f(),_(y,null,[C(P,{visible:p(s),"onUpdate:visible":r[3]||(r[3]=e=>L(s)?s.value=e:null),persistent:!1,placement:"bottom",width:"305",trigger:"click","popper-class":"[&&]:[--el-popover-padding:0]","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:h(()=>{var e;return[x("div",lf,[C(M,{name:"ri:wallet-fill",class:"color-[--secondary-text] text-14px"}),x("span",af,k(null==(e=p(o).botSwapSelectedWallets)?void 0:e.length),1),C(M,{name:"prime:sort-down-fill",class:I(["color-[--main-text] text-14px transition-all-300",{"rotate-180":p(s)}])},null,8,["class"])])]}),default:h(()=>{var s,u;return[x("div",tf,[x("div",nf,[C(D,{modelValue:p(S),"onUpdate:modelValue":r[0]||(r[0]=e=>L(S)?S.value=e:null),indeterminate:p(i),style:{"--el-checkbox-font-size":"12px",flex:"1.5"},onChange:T},{default:h(()=>[N(k(l.$t("all1")),1)]),_:1},8,["modelValue","indeterminate"]),x("span",of,k(l.$t("balance1"))+"("+k(null==(s=p(t).swap.payToken)?void 0:s.symbol)+")",1),x("span",sf,k(l.$t("balance1"))+"("+k(null==(u=p(t).swap.token)?void 0:u.symbol)+")",1)]),(f(),_("div",{key:p(n).evmAddress,class:"px-12px"},[C(E,{modelValue:p(o).botSwapSelectedWallets,"onUpdate:modelValue":r[2]||(r[2]=e=>p(o).botSwapSelectedWallets=e),onChange:A},{default:h(()=>[(f(!0),_(y,null,w(p(d),(o,s)=>{var i,u,d,c,m,h,b,y;return f(),_("div",{key:o.evmAddress,class:I(["flex items-center h-50px",{"b-b-solid b-b-1px b-b-[--border]":s!==(null==(i=p(n))?void 0:i.walletList.length)-1}])},[x("div",rf,[(f(),v(D,{key:o.evmAddress,class:"[&&]:[--el-checkbox-disabled-checked-icon-color:#FFF] [&&]:[--el-checkbox-disabled-checked-input-fill:#3F80F7] [&&]:[--el-checkbox-disabled-checked-input-border-color:#3F80F7] batch-checkbox",value:o.evmAddress,disabled:o.evmAddress===p(n).evmAddress,checked:o.evmAddress===p(n).evmAddress},null,8,["value","disabled","checked"])),x("div",{class:"text-12px lh-14px",onClick:r[1]||(r[1]=F(()=>{},["stop"]))},[x("div",{class:"color-[--main-text] overflow-hidden text-ellipsis whitespace-nowrap max-w-100px",title:o.name},k(o.name),9,uf),x("div",df,[x("span",null,k(null==(d=null==(u=$(e.chain,o.addresses))?void 0:u.address)?void 0:d.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),g(C(M,{name:"bxs:copy",class:"clickable ml-5px text-12px"},null,512),[[U,null==(c=$(e.chain,o.addresses))?void 0:c.address]])])])]),x("div",cf,[x("img",{src:`${p(a).token_logo_url}${null==(m=p(t).swap.payToken)?void 0:m.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,vf),x("span",null,k(("formatNumber"in l?l.formatNumber:p(G))(B(e.chain,o.addresses,null==(h=p(t).swap.payToken)?void 0:h.address)||0)),1)]),x("div",mf,[x("img",{src:`${p(a).token_logo_url}${null==(b=p(t).swap.token)?void 0:b.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,pf),x("span",null,k(("formatNumber"in l?l.formatNumber:p(G))(B(e.chain,o.addresses,null==(y=p(t).swap.token)?void 0:y.address)||0)),1)])],2)}),128))]),_:1},8,["modelValue"])]))])]}),_:1},8,["visible","popper-options"]),r[4]||(r[4]=x("div",{class:"border-l-solid border-l-1px border-l-[--icon-color] h-8px mx-8px"},null,-1)),x("img",{src:`${p(a).token_logo_url}${null==(u=p(t).swap.payToken)?void 0:u.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,ff),x("span",hf,k(("formatNumber"in l?l.formatNumber:p(G))(p(m)||0)),1)],64)}}}),gf=B(xf,[["__scopeId","data-v-a0d0098d"]]),kf={key:0,class:"flex items-center py-11px px-8px text-12px justify-between bg-[--dialog-bg] rounded-4px mb-12px"},bf={class:"font-500 color-[--main-text] mr-2px max-w-60px truncate"},_f={class:"color-[--main-text] ml-2px mr-2px"},yf={__name:"bestToken",setup(e){const l=o(),a=H(),t=P(null),n=u(()=>s(l.params.id||"").chain),i=()=>{const{token:e}=t.value;Al(`/token/${e}-${n.value}`)},d=async()=>{var e;try{const n=await Cl(l.params.id||""),o=(null==n?void 0:n.symbol)?n:n.data;a.bestToken=o,(null==o?void 0:o.token)!==(null==(e=a.token)?void 0:e.token)?t.value=o:t.value=null}catch(n){t.value=null}};return d(),r(()=>{var e;return null==(e=a.token)?void 0:e.token},()=>{d()}),(e,l)=>{const a=Tl,o=c("tooltip");return p(t)?(f(),_("div",kf,[N(k(e.$t("devBestToken"))+" ",1),x("div",{class:"flex items-center color-[--secondary-text] cursor-pointer",onClick:i},[C(a,{class:"mr-4px","token-class":"w-16px",chainClass:"w-8px",row:{logo_url:p(t).logo_url||"",symbol:p(t).symbol||"",chain:p(n)||""}},null,8,["row"]),g((f(),_("span",bf,[N(k(p(t).symbol),1)])),[[o,p(t).symbol]]),l[0]||(l[0]=N(" (ATH MC ",-1)),x("span",_f,"$"+k(("formatNumber"in e?e.formatNumber:p(G))(p(t).all_time_high,0)),1),l[1]||(l[1]=N(") ",-1))])])):m("",!0)}}},wf={ref:"bot-swap-container",class:"bot-swap-container"},Tf={class:"tabs"},Cf=["onClick"],Af={key:0,class:"flex items-center h-40px"},Sf={class:"tabs-1 mr-5px"},Nf=["onClick"],$f={class:"select-box"},Ff=t({__name:"index",setup(e){const{t:l}=n(),a=o(),t=Ze(),c=d("buy"),g=d("market"),b=O(),T=H(),A=Re(),S=ll(),N=Sl("bot-swap-container"),{getTokenBalance:$}=jm(),V=u(()=>{var e,l,t;return(null==(l=s(null==(e=a.params)?void 0:e.id))?void 0:l.chain)||(null==(t=T.token)?void 0:t.chain)}),B=u(()=>[{value:"buy",name:l("buy")},{value:"sell",name:l("sell")}]),M=u(()=>{var e,l,a,n;const o=(null==(l=null==(e=null==t?void 0:t.botSettings)?void 0:e[V.value])?void 0:l.buy)||{};return((null==(n=null==(a=null==o?void 0:o[o.selected])?void 0:a.buyValueList)?void 0:n.slice(0,4))||["0.01","0.02","0.5","1"]).map(e=>({name:e,value:e}))}),D=u(()=>{var e,l,a,n;const o=(null==(l=null==(e=null==t?void 0:t.botSettings)?void 0:e[V.value])?void 0:l.sell)||{};return((null==(n=null==(a=null==o?void 0:o[o.selected])?void 0:a.sellPerList)?void 0:n.slice(0,4))||["25","50","75","100"]).map(e=>({name:e+"%",value:new Ce(e).div(100).toString()}))}),E=u(()=>[{value:"market",name:l("swapT")},{value:"limit",name:l("limitT")}]);r(E,e=>{e.every(e=>e.value!==g.value)&&(g.value=e[0].value)});const P=u(()=>{var e,l,t,n,o,i,r;const u=(null==(l=s(null==(e=a.params)?void 0:e.id))?void 0:l.chain)||(null==(t=T.token)?void 0:t.chain);return null==(r=null==(i=null==(o=null==(n=b.userInfo)?void 0:n.addresses)?void 0:o.find)?void 0:i.call(o,e=>(null==e?void 0:e.chain)===u))?void 0:r.address});r([P,()=>{var e;return null==(e=a.params)?void 0:e.id},()=>{var e;return null==(e=A.wsResult)?void 0:e.tgbot}],()=>{P.value&&$()});const U={solana:"sol",ton:"TON"};function R(){var e,l,t,n,o,i;if(!(null==(e=a.params)?void 0:e.id))return;const{address:r,chain:u}=s(null==(l=a.params)?void 0:l.id);T.swap.token={address:r,chain:u},u!==T.swap.native.chain&&(T.swap.native={symbol:null==(t=We(u))?void 0:t.main_name,chain:u,address:U[u]||ze,decimals:null==(n=We(u))?void 0:n.decimals}),u!==(null==(o=T.swap.payToken)?void 0:o.chain)&&(T.swap.payToken=((null==(i=null==S?void 0:S.botSwapBaseTokens)?void 0:i[u||""])||[])[0])}return r(()=>{var e;return null==(e=a.params)?void 0:e.id},e=>{e&&R()}),i(()=>{$(),R()}),(e,l)=>{var a,n,o,s,i,r,u;const d=zn,A=Wn;return f(),_("div",wf,[C(ef),C(yf),x("div",Tf,[(f(!0),_(y,null,w(p(B),(e,l)=>(f(),_("button",{key:l,class:I(["tab-item",{active:e.value===p(c),[`tab-${e.value}`]:!0}]),type:"button",onClick:l=>c.value=e.value},[x("span",null,k(e.name),1)],10,Cf))),128))]),(null==(n=null==(a=p(b))?void 0:a.userInfo)?void 0:n.evmAddress)&&(null==(s=null==(o=p(b))?void 0:o.isSupportChains)?void 0:s.includes(p(V)))?(f(),_("div",Af,[x("div",Sf,[(f(!0),_(y,null,w("BotSettingsArr"in e?e.BotSettingsArr:p(Nl),e=>{var l,a,n,o;return f(),_("button",{key:e.value,class:I({active:e.value===(null==(o=null==(n=null==(a=null==(l=p(t))?void 0:l.botSettings)?void 0:a[p(V)])?void 0:n[p(c)])?void 0:o.selected)}),type:"button",onClick:F(l=>function(e){var l;(null==(l=null==t?void 0:t.botSettings)?void 0:l[V.value])&&(t.botSettings[V.value][c.value].selected=e)}(e.value),["stop"])},k(e.label),11,Nf)}),128))]),C(Fn,{canSetAuto:!0,isAutoSell:"market"===p(g),chain:null==(r=null==(i=p(T).tokenInfo)?void 0:i.token)?void 0:r.chain,setting:null==(u=p(t))?void 0:u.botSettings[p(V)]},null,8,["isAutoSell","chain","setting"]),C(gf,{chain:p(V),boundary:p(N)},null,8,["chain","boundary"])])):m("",!0),x("div",$f,[C(A,{modelValue:p(g),"onUpdate:modelValue":l[0]||(l[0]=e=>L(g)?g.value=e:null),class:"select-tabs"},{default:h(()=>[(f(!0),_(y,null,w(p(E),(e,l)=>(f(),v(d,{key:l,label:e.name,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"])]),C(Hp,{activeTab:p(c),swapType:p(g),tabs1:p(M),tabs2:p(D),onGetTokenBalance:p($)},null,8,["activeTab","swapType","tabs1","tabs2","onGetTokenBalance"])],512)}}}),If=B(Ff,[["__scopeId","data-v-faae482d"]]),Lf={class:"tabs"},Vf=["disabled","onClick"],Bf=t({__name:"tabs",props:{activeTab:{type:Number,default:0}},emits:["update:activeTab"],setup(e,{emit:l}){const a=j(),{t:t}=n(),o=l,s=["sui","solana","tron","ton"],i=u(()=>[{name:t("buy"),value:0},{name:t("sell"),value:1}]);return(l,t)=>(f(),_("div",Lf,[(f(!0),_(y,null,w(p(i),(t,n)=>{var i,r,u;return f(),_("button",{key:n,class:I(["tab-item",{active:t.value===e.activeTab,[`tab-${t.value}`]:!0}]),type:"button",disabled:"evm"!==(null==(r=("getChainInfo"in l?l.getChainInfo:p(We))((null==(i=p(a))?void 0:i.chain)||""))?void 0:r.vm_type)&&!s.includes((null==(u=p(a))?void 0:u.chain)||""),onClick:e=>{return l=t.value,void o("update:activeTab",l);var l}},[x("span",null,k(t.name),1)],10,Vf)}),128))]))}}),Mf=B(Bf,[["__scopeId","data-v-5206989c"]]),Df=t({__name:"typeTabs",props:{isOnlyMarket:{type:Boolean,default:!1},tab:{type:Number,default:0}},emits:["update:tab"],setup(e,{emit:l}){const a=e,t=l,o=j(),{t:s}=n(),i=u(()=>{if(a.isOnlyMarket)return[{name:s("swapT"),value:2}];return"solana"===(o.chain||"")?[{name:s("swapT"),value:2},{name:s("limitT"),value:0}]:[{name:s("swapT"),value:2},{name:s("limitT"),value:0},{name:s("stopLimit"),value:1}]});return(l,a)=>{const n=zn,o=Wn;return f(),v(o,{"model-value":e.tab,class:"select-tabs","onUpdate:modelValue":a[0]||(a[0]=e=>t("update:tab",e))},{default:h(()=>[(f(!0),_(y,null,w(p(i),(e,l)=>(f(),v(n,{key:l,label:e.name,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["model-value"])}}}),Ef=B(Df,[["__scopeId","data-v-816d704f"]]),Pf="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='11px'%20height='3px'%20viewBox='0%200%2011%203'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3e编组%3c/title%3e%3cg%20id='交易+挂单'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='交易-市价交易-买备份'%20transform='translate(-268.000000,%20-584.000000)'%20fill='%23999999'%20fill-rule='nonzero'%3e%3cg%20id='提示文案'%20transform='translate(14.000000,%20508.000000)'%3e%3cg%20id='编组-9备份-3'%20transform='translate(0.000000,%2063.000000)'%3e%3cg%20id='编组'%20transform='translate(254.000000,%2013.000000)'%3e%3cpolygon%20id='路径'%20points='9.53333333%200%2011%200%209.77777778%201.13999999%207.88333333%203%207.15%202.28%208.31111112%201.13999999%200%201.13999999%200%200'%3e%3c/polygon%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Uf={class:"history"},Rf={key:0,class:"flex gap-5px mb-32px"},Hf=["onClick"],Of={class:"flex-column mt-6px"},jf={class:"flex-start"},zf={class:"token-symbol font-14"},Wf={key:0,class:"risk-status high"},qf={class:"flex-start color-[--secondary-text] text-16px font-500 mb-10px"},Gf={class:"ml-5px"},Yf={class:"content color-[--main-text]"},Qf=["onClick"],Kf={class:"token-info"},Xf={class:"flex-column"},Zf={class:"flex-start"},Jf={class:"token-symbol font-14"},eh={key:0,class:"risk-status high"},lh={key:0,class:"px-5px py-0 color-[--third-text]"},ah={key:0,class:"flex flex-col text-right"},th=["innerHTML"],nh=["innerHTML"],oh={key:2,class:"empty"},sh=B(t({__name:"searchTable",props:{searchTokens:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},disabledToken:{type:String,default:""}},emits:["onSelect"],setup(l,{emit:a}){const t=l,n=a;re().chainConfig;const o={bsc:{BNB:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WBNB:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",USDT:"0x55d398326f99059ff775485246999027b3197955",USDC:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",USD1:"0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d"},eth:{base:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",USDT:"0xdac17f958d2ee523a2206206994597c13d831ec7",USDC:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USD1:"0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d"},base:{ETH:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",USDT:"0xfde4c96c8593536e31f229ea8f37b2ada2699bb2",USDC:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"},xlayer:{OKB:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WOKB:"0xe538905cf8410324e03a5a23c1c177a474d59b2b",USDT:"0x5b827940327c99e255ff498206703bffaa625a43",USDC:"0x74b7f16337b8972027f6196a17a631ac6de26d22"},solana:{SOL:"So11111111111111111111111111111111111111112",USDT:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"}},s=u(()=>{var e;const l=[...new Set(Object.values(o).flatMap(e=>Object.values(e)))];return null==(e=t.searchTokens)?void 0:e.filter(e=>null==l?void 0:l.includes(e.address||""))});function i(e){((null==e?void 0:e.address)||(null==e?void 0:e.token))&&t.disabledToken!==e.address&&n("onSelect",e)}return(a,t)=>{var n,o;const r=Tl,u=b,d=e,c=be;return f(),_("div",Uf,[(null==(n=p(s))?void 0:n.length)>0?(f(),_("div",Rf,[(f(!0),_(y,null,w(p(s),(e,l)=>(f(),_("div",{class:"item bg-[--border] rounded-12px px-12px py-12px flex flex-col items-center justify-center flex-1 max-w-20%",key:l,onClick:l=>i(e)},[C(r,{row:e,tokenClass:"w-32px h-32px"},null,8,["row"]),x("div",Of,[x("div",jf,[x("span",zf,k(e.symbol),1),(((null==e?void 0:e.risk_score)||0)>55||((null==e?void 0:e.risk_level)||0)<0)&&1!==e.risk_level?(f(),_("span",Wf,k(a.$t("highRisk")),1)):m("",!0)])])],8,Hf))),128))])):m("",!0),x("div",qf,[C(u,{class:"text-24px",name:"custom:my-token"}),x("span",Gf,k(a.$t("myToken")),1)]),(null==(o=l.searchTokens)?void 0:o.length)>0?g((f(),v(d,{key:1,height:"calc(45vh)",class:"hidden-scrollbar"},{default:h(()=>[x("ul",Yf,[(f(!0),_(y,null,w(l.searchTokens,(e,t)=>{var n,o;return f(),_("li",{key:t,class:I([{disabled:l.disabledToken===e.address},"flex justify-between px-16px py-16px clickable hover:bg-[--dialog-list-hover]"]),onClick:F(l=>i(e),["stop","prevent"])},[x("div",Kf,[C(r,{class:"mr-5px",row:e,tokenClass:"w-40px h-40px"},null,8,["row"]),x("div",Xf,[x("div",Zf,[x("span",Jf,k(e.symbol),1),(((null==e?void 0:e.risk_score)||0)>55||((null==e?void 0:e.risk_level)||0)<0)&&1!==e.risk_level?(f(),_("span",eh,k(a.$t("highRisk")),1)):m("",!0)]),(null==e?void 0:e.tags)||e.address===p(ze)?m("",!0):(f(),_("span",lh,k(null==(n=e.token)?void 0:n.slice(0,4))+"**"+k(null==(o=e.token)?void 0:o.slice(-4)),1))])]),(e.amount||0)>0||(e.value||0)>0||(e.balance||0)>0?(f(),_("div",ah,[x("span",{class:"color-[--main-text]",innerHTML:`$ ${p(G)((e.current_price_usd||e.price||0)*((null==e?void 0:e.amount)||(null==e?void 0:e.value)||e.balance||0))}`},null,8,th),x("span",{class:"color-[--third-text] py-2px",innerHTML:e.amount||e.value||e.balance?p(G)((null==e?void 0:e.amount)||(null==e?void 0:e.value)||e.balance||""):""},null,8,nh)])):m("",!0)],10,Qf)}),128))])]),_:1})),[[c,l.loading]]):(f(),_("div",oh,[x("div",null,[t[0]||(t[0]=x("img",{src:ee},null,-1)),t[1]||(t[1]=x("br",null,null,-1)),x("span",null,k(a.$t("noSearchResults")),1)])]))])}}}),[["__scopeId","data-v-3cf6f40e"]]),ih={class:"text-14px color-[--main-text] font-400 ml-3px"},rh={key:1},uh={class:"text-20px font-500"},dh={class:"search-content mt-16px"},ch=B(t({__name:"selectSwapToken",props:{tokens:{type:Array,default:()=>[]},token:{type:Object,default:()=>({token:"",address:"",symbol:"",logo_url:"",chain:""})},chain:{type:String,default:""},disabledToken:{type:String,default:""}},emits:["update:token"],setup(e,{emit:l}){const{t:a}=n(),t=e,o=l,s=P(!1),i=P(""),d=P(t.tokens||[]),c=P(!1),g=u(()=>{var e;return(null==(e=d.value)?void 0:e.length)>0?d.value:t.tokens||[]});r(i,e=>{""!==e?T():d.value=t.tokens}),r(s,e=>{e&&(d.value=t.tokens||[],i.value="")});let w=null;function T(){w&&(clearTimeout(w),w=null),w=setTimeout(()=>{!function(){var e;if(""!==i.value){const l=new RegExp(i.value,"i"),a=(null==(e=t.tokens)?void 0:e.filter(e=>l.test((null==e?void 0:e.address)||"")||l.test((null==e?void 0:e.symbol)||"")||l.test((null==e?void 0:e.name)||"")))||[];c.value=!0,$l(i.value,t.chain).then(e=>{var l,n,o;const s=null==(o=null==(n=null==(l=e.filter)?void 0:l.call(e,e=>e.chain===t.chain&&!a.some(l=>l.token===e.token)))?void 0:n.map)?void 0:o.call(n,e=>({...e,address:e.token}));d.value=[...a,...s]}).catch(e=>{d.value=[]}).finally(()=>{c.value=!1})}else d.value=t.tokens}()},500)}function A(e){var l,a;e.address!==t.disabledToken&&((null==e?void 0:e.address)||(null==e?void 0:e.token))&&(o("update:token",{...e,value:(null==(l=null==e?void 0:e.value)?void 0:l.toString())||0,balance:(null==(a=null==e?void 0:e.balance)?void 0:a.toString())||0}),s.value=!1)}return(e,l)=>{var n,o,r,u;const d=Tl,w=b,S=_e,N=De;return f(),_(y,null,[x("button",{class:"flex items-center bg-transparent border-none p-0 clickable text-14px",type:"button",onClick:l[0]||(l[0]=F(e=>s.value=!0,["stop"]))},[(null==(n=t.token)?void 0:n.address)||(null==(o=t.token)?void 0:o.token)?(f(),_(y,{key:0},[(f(),v(d,{key:null==(r=t.token)?void 0:r.address,row:t.token},null,8,["row"])),x("span",ih,k((null==(u=t.token)?void 0:u.symbol)||""),1)],64)):(f(),_("div",rh,k(e.$t("pleaseSelectToken")),1)),C(w,{class:I(["arrow-up",{active:!0===p(s)}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])]),p(s)?(f(),v(N,{key:0,modelValue:p(s),"onUpdate:modelValue":l[3]||(l[3]=e=>L(s)?s.value=e:null),"append-to-body":"",class:"new-dialog",width:"420px","destroy-on-close":""},{header:h(()=>[x("span",uh,k(p(a)("selectToken")),1)]),default:h(()=>[x("div",{class:"search-dialog-container",onClick:l[2]||(l[2]=F(()=>{},["stop"]))},[C(S,{ref:"inputSearch",class:"search-input",modelValue:p(i),"onUpdate:modelValue":l[1]||(l[1]=e=>L(i)?i.value=e:null),modelModifiers:{trim:!0},placeholder:p(a)("enterAddress/token"),clearable:"",onKeydown:Fl(T,["enter"])},{prefix:h(()=>[C(w,{class:"text-16px text-[--third-text]",name:"custom:search"})]),_:1},8,["modelValue","placeholder"]),x("div",dh,[C(sh,{searchTokens:p(g),loading:p(c),disabledToken:t.disabledToken||t.token.address,onOnSelect:A},null,8,["searchTokens","loading","disabledToken"])])])]),_:1},8,["modelValue"])):m("",!0)],64)}}}),[["__scopeId","data-v-b60c20d5"]]),vh={class:"flex items-center"},mh={key:0,class:"mr-5px color-[--main-text]"},ph={key:1,class:"mr-5px"},fh={class:"text-18px color-#fff font-400"},hh={class:"slippage-label"},xh={class:"mt-10px"},gh=["id","value","disabled"],kh=["for"],bh={class:"slippage-input"},_h={key:0,class:"tip"},yh={class:"form-submit"},wh=B(t({__name:"slippageSet",props:{slippage:{type:[String,Number],default:"2"},autoSlippage:{type:String,default:"2"},canSetAuto:{type:Boolean,default:!0}},emits:["update:slippage"],setup(e,{emit:l}){const a=e,t=l,{t:o}=n(),s=[.1,.5,1],i=P("auto"===a.slippage?void 0:Number(a.slippage)),u=P(!1),d=P("auto"===a.slippage);function c(){void 0===i.value?t("update:slippage","auto"):t("update:slippage",String(i.value)),u.value=!1}function T(){te.alert(o("slippageTips"),{title:o("slippage"),confirmButtonText:o("iKnown")})}function A(){i.value&&Number(i.value)>49.99&&(i.value=49.99)}function S(e){return Number(e)<=49.99}return r(u,e=>{e&&(i.value="auto"===a.slippage?void 0:Number(a.slippage))}),r(d,e=>{e&&(i.value=void 0)}),(l,a)=>{const t=b,n=Ll,o=Je,r=Nn,$=Kn,I=Sn,V=ke,B=Il,M=De;return f(),_("div",null,[x("div",vh,[e.canSetAuto?(f(),_("span",mh,k("auto"===e.slippage?l.$t("autoSlippage"):l.$t("manualSlippage"))+"("+k("auto"===e.slippage?e.autoSlippage:e.slippage)+"%) ",1)):(f(),_("span",ph,k(e.slippage)+"%",1)),C(t,{class:"clickable",name:"tdesign:setting-1",onClick:a[0]||(a[0]=F(e=>u.value=!0,["stop"]))})]),p(u)?(f(),v(M,{key:0,modelValue:p(u),"onUpdate:modelValue":a[4]||(a[4]=e=>L(u)?u.value=e:null),width:"500px","append-to-body":"","destroy-on-close":""},{header:h(()=>[x("span",fh,k(l.$t("setSlippage")),1)]),default:h(()=>[C(B,{class:"popup-content",onSubmit:F(c,["prevent"])},{default:h(()=>[x("div",hh,[x("span",null,k(l.$t("slippage")),1),C(n,{size:15,color:"#80838B",style:{cursor:"pointer","margin-left":"5px","margin-right":"auto"},onClick:F(T,["stop"])},{default:h(()=>[C(p(Vl))]),_:1}),e.canSetAuto?(f(),v(o,{key:0,modelValue:p(d),"onUpdate:modelValue":a[1]||(a[1]=e=>L(d)?d.value=e:null),label:l.$t("autoSlippage"),size:"large"},null,8,["modelValue","label"])):m("",!0)]),x("div",xh,[C(I,{gutter:10},{default:h(()=>[(f(),_(y,null,w(s,(e,l)=>C(r,{key:l,span:6,class:"radio-group"},{default:h(()=>[g(x("input",{id:`radio-${e}`,"onUpdate:modelValue":a[2]||(a[2]=e=>L(i)?i.value=e:null),type:"radio",value:e,disabled:p(d),class:"radio-input"},null,8,gh),[[Bl,p(i)]]),x("label",{for:`radio-${e}`,class:"radio-item"},k(e)+"%",9,kh)]),_:2},1024)),64)),C(r,{span:6},{default:h(()=>[x("div",bh,[C($,{modelValue:p(i),"onUpdate:modelValue":a[3]||(a[3]=e=>L(i)?i.value=e:null),class:"select bg-#212847 w-full",name:"slippage",type:"number",min:0,max:49.99,step:.01,disabled:p(d),"controls-position":"right",clearable:"",rules:[{required:!0,message:l.$t("enterSlippage")},{validator:S,message:l.$t("slippageMaxTip")}],onBlur:A},null,8,["modelValue","disabled","rules"]),a[5]||(a[5]=x("span",{class:"color-fff"},"%",-1))])]),_:1})]),_:1}),void 0!==p(i)&&Number(p(i))<=.1?(f(),_("span",_h,k(l.$t("slippageTip1")),1)):m("",!0)]),x("div",yh,[C(V,{class:"swap-button w-full rd-8px!",size:"large",block:"","native-type":"submit",type:"primary",disabled:0==e.slippage},{default:h(()=>[N(k(l.$t("confirm1")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["modelValue"])):m("",!0)])}}}),[["__scopeId","data-v-25953a21"]]),Th={class:"token-item header"},Ch={class:"flex-3"},Ah={class:"flex-1-5"},Sh={class:"flex-1 right-label"},Nh=["onClick"],$h={class:"token-item"},Fh={class:"path-list flex-start flex-3"},Ih={key:0},Lh={key:1,class:"path-amm"},Vh={key:0,class:"tag"},Bh=["innerHTML"],Mh=B(t({__name:"selectRouter",props:{visible:{type:Boolean,default:!1},listRouter:{type:Array,default:()=>[]},isAmount:{type:Boolean,default:!1},selectedRouterIndex:{type:Number,default:0}},emits:["getSelectedRouter","update:visible"],setup(e,{emit:l}){const a=e,t=l,n=u({get:()=>a.visible,set(e){t("update:visible",e)}});function o(e){return e>40?"#ff646d":e>10?"#F7933F":e>5?"#f8be46":""}return(l,a)=>{const s=wn,i=pe,r=Ll,u=De;return p(n)?(f(),v(u,{key:0,modelValue:p(n),"onUpdate:modelValue":a[0]||(a[0]=e=>L(n)?n.value=e:null),class:"dialog-zixuan dialog",width:"600px","destroy-on-close":""},{header:h(()=>[x("span",null,k(l.$t("selectRouter")),1)]),default:h(()=>[x("ul",null,[x("li",Th,[x("span",Ch,k(l.$t("router")),1),x("span",Ah,k(e.isAmount?l.$t("expectedAmount"):l.$t("expectedPay")),1),x("span",Sh,k(l.$t("priceImpact")),1),a[1]||(a[1]=x("span",{class:"w-16px"},null,-1))]),g(C(s,{image:p(ee)},null,8,["image"]),[[ie,e.listRouter&&0===e.listRouter.length]]),(f(!0),_(y,null,w(e.listRouter,(n,s)=>(f(),_("a",{key:s,href:"",onClick:F(e=>(e=>{t("getSelectedRouter",e)})(s),["stop","prevent"])},[x("li",$h,[x("div",Fh,[(f(!0),_(y,null,w((null==n?void 0:n.path)||[],(e,t)=>(f(),_(y,{key:t},[e.symbol?(f(),_("span",Ih,k(e.symbol),1)):m("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(f(),_("div",Lh,[C(i,{src:("formatIconSwap"in l?l.formatIconSwap:p(Te))(e.nextAmm),class:"w-14px h-14px rd-10px mb-3px",style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:h(()=>[...a[2]||(a[2]=[x("img",{class:"w-14px rd-10px",src:kn},null,-1)])]),placeholder:h(()=>[...a[3]||(a[3]=[x("img",{class:"w-14px rd-10px",src:kn},null,-1)])]),_:1},8,["src"]),a[4]||(a[4]=x("img",{class:"w-15px mr-5px",src:Pf,alt:"",srcset:""},null,-1))])):m("",!0)],64))),128)),0===s?(f(),_("div",Vh,k(l.$t("best")),1)):m("",!0)]),x("span",{class:"flex-1-5",innerHTML:("formatNumber"in l?l.formatNumber:p(G))((null==n?void 0:n.amount)||0)},null,8,Bh),Number((null==n?void 0:n.priceImpact)||0)<10?(f(),_("span",{key:0,class:"right-label flex-1",style:A({color:o(Number(n.priceImpact||0))})},[Number(n.priceImpact)<.01?(f(),_(y,{key:0},[N("<0.01%")],64)):(f(),_(y,{key:1},[N(k(("formatNumber"in l?l.formatNumber:p(G))(Number((null==n?void 0:n.priceImpact)||0)))+"%",1)],64))],4)):(f(),_("span",{key:1,class:"right-label flex-1",style:A({color:o(Number((null==n?void 0:n.priceImpact)||0))})},[Number(n.priceImpact)>40?(f(),_(y,{key:0},[N(">40%")],64)):(f(),_(y,{key:1},[N(k(("formatNumber"in l?l.formatNumber:p(G))(Number((null==n?void 0:n.priceImpact)||0),2))+"%",1)],64))],4)),e.selectedRouterIndex===s?(f(),v(r,{key:2,size:16,color:"#12B886"},{default:h(()=>[C(p(Ml))]),_:1})):(f(),v(r,{key:3,style:{opacity:"0"},size:16,color:"#12B886"},{default:h(()=>[C(p(Ml))]),_:1}))])],8,Nh))),128))])]),_:1},8,["modelValue"])):m("",!0)}}}),[["__scopeId","data-v-8d861404"]]),Dh={key:0},Eh={key:1},Ph={key:2},Uh={class:"swap-info"},Rh={class:"swap-info_item header"},Hh={class:"header-li"},Oh={class:"header-li_left"},jh={class:"color-#80838B mr-15px"},zh=["src"],Wh={style:{"font-size":"14px"}},qh=["innerHTML"],Gh={class:"header-li mt-34px"},Yh={class:"header-li_left"},Qh={class:"color-80838B mr-15px"},Kh=["src"],Xh={style:{"font-size":"14px"}},Zh=["innerHTML"],Jh={class:"swap-info_item"},ex={class:"swap-info_item-label"},lx={class:"swap-info_item-value"},ax=["innerHTML"],tx=["innerHTML"],nx={key:0,class:"swap-info_item"},ox={class:"swap-info_item-label"},sx={class:"swap-info_item-value"},ix={key:1,class:"swap-info_item"},rx={class:"swap-info_item-label"},ux={class:"swap-info_item-value"},dx={key:0,class:"swap-info_item"},cx={class:"swap-info_item-label"},vx={class:"swap-info_item-value"},mx={key:1,class:"swap-info_item"},px={class:"swap-info_item-label"},fx={class:"swap-info_item-value"},hx={class:"swap-info_item"},xx={class:"swap-info_item-label"},gx={key:0,class:"swap-info_item-value path-list"},kx={key:0},bx={class:"path-amm"},_x={key:1,style:{width:"15px",margin:"0 5px 0"},src:Pf,alt:"",srcset:""},yx={key:1},wx={key:0,style:{width:"15px",margin:"0 5px 0"},src:Pf,alt:"",srcset:""},Tx={key:1},Cx={key:3,class:"swap-info_item"},Ax={class:"swap-info_item-label"},Sx={class:"swap-info_item-value"},Nx=["href"],$x={class:"footer"},Fx={key:1,class:"swap-info center"},Ix={class:"mt-20px"},Lx={class:"swap-info center"},Vx={class:"mt-20px"},Bx={class:"footer"},Mx=B(t({__name:"confirmSwap",props:{visible:{type:Boolean,default:!1},swapInfo:{type:Object,default:()=>({})},slippage:{type:String,default:"2"},loading:{type:Boolean,default:!1},chain:{type:String,default:""},nativePrice:{type:[Number,String],default:0},gasPrice:{type:String,default:"0"},activeShow:{type:Number,default:0},swapQuoteInfo:{type:Object,default:()=>({})}},emits:["update:visible","submit"],setup(e,{emit:l}){const a=e,t=l,n=P(!1),o=u({get:()=>a.visible,set(e){t("update:visible",e)}}),s=u(()=>{var e,l,t,n;const o=(null==(l=null==(e=a.swapInfo)?void 0:e.toToken)?void 0:l.decimals)||0,s=null==(t=a.swapInfo)?void 0:t.toAmount;return G(s?new Ce(s||0).times(100-Number(a.slippage)).div(100).toFixed():gl(new Ce((null==(n=a.swapInfo)?void 0:n.toTokenAmount)||0).times(100-Number(a.slippage)).div(100).toFixed(0),o))}),i=u(()=>{var e,l,t,n;const o=(null==(l=null==(e=a.swapInfo)?void 0:e.fromToken)?void 0:l.decimals)||0,s=null==(t=a.swapInfo)?void 0:t.fromAmount;return G(s?new Ce(s||0).times(100+Number(a.slippage)).div(100).toFixed():gl(new Ce((null==(n=a.swapInfo)?void 0:n.fromTokenAmount)||0).times(100+Number(a.slippage)).div(100).toFixed(0),o))}),d=u(()=>{var e;return(null==(e=a.swapInfo)?void 0:e.swapRouterPath)||[]});function T(e,l){return!e||!l||isNaN(Number(e))||isNaN(Number(l))?"0":G(new Ce(l).div(e).toFixed())||"0"}function A(){t("submit")}function S(){o.value=!1;const e=K(a.chain,a.swapInfo.transaction,"tx");window.open(e)}return r(()=>a.visible,e=>{e&&(n.value=!1)}),(l,t)=>{const r=pe,u=b,$=ke,I=Ll,V=De,B=c("copy");return p(o)?(f(),v(V,{key:0,modelValue:p(o),"onUpdate:modelValue":t[0]||(t[0]=e=>L(o)?o.value=e:null),width:"446px","destroy-on-close":""},{header:h(()=>[1===e.activeShow?(f(),_("span",Dh,k(l.$t("swap")),1)):2===e.activeShow?(f(),_("span",Eh,k(l.$t("waitForConfirming")),1)):3===e.activeShow?(f(),_("span",Ph,k(l.$t("tradeSubmitted")),1)):m("",!0)]),default:h(()=>{var o,c,b,L,V,M,D,E,P,U,R,H,O,j,z,W,q;return[1==e.activeShow?(f(),_(y,{key:0},[x("ul",Uh,[x("li",Rh,[x("div",Hh,[x("div",Oh,[x("span",jh,k(l.$t("sell")),1),x("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:p(me))({symbol:e.swapInfo.fromToken.symbol||"",logo_url:e.swapInfo.fromToken.logo_url||"",chain:e.swapInfo.fromToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,zh),x("span",Wh,k(e.swapInfo.fromToken.symbol),1)]),x("div",{class:"header-li_right",innerHTML:p(G)((null==(o=e.swapInfo)?void 0:o.fromAmount)||("formatUnits"in l?l.formatUnits:p(gl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))||"0"},null,8,qh)]),x("div",Gh,[x("div",Yh,[x("span",Qh,k(l.$t("buy")),1),x("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:p(me))({symbol:e.swapInfo.toToken.symbol||"",logo_url:e.swapInfo.toToken.logo_url||"",chain:e.swapInfo.toToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,Kh),x("span",Xh,k(e.swapInfo.toToken.symbol),1)]),x("div",{class:"header-li_right",innerHTML:p(G)((null==(c=e.swapInfo)?void 0:c.toAmount)||("formatUnits"in l?l.formatUnits:p(gl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))||"0"},null,8,Zh)])]),x("li",Jh,[x("div",ex,k(l.$t("price")),1),x("div",lx,[x("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.fromToken.symbol} = ${T((null==(b=e.swapInfo)?void 0:b.fromAmount)||("formatUnits"in l?l.formatUnits:p(gl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals),(null==(L=e.swapInfo)?void 0:L.toAmount)||("formatUnits"in l?l.formatUnits:p(gl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))} ${e.swapInfo.toToken.symbol}`},null,8,ax),x("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.toToken.symbol} = ${T((null==(V=e.swapInfo)?void 0:V.toAmount)||("formatUnits"in l?l.formatUnits:p(gl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals),(null==(M=e.swapInfo)?void 0:M.fromAmount)||("formatUnits"in l?l.formatUnits:p(gl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))} ${e.swapInfo.fromToken.symbol}`},null,8,tx)])]),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?m("",!0):(f(),_("li",nx,[x("div",ox,k(l.$t("slippage")),1),x("div",sx,k(e.slippage)+"%",1)])),e.swapInfo.gasValue&&"tron"!==e.chain&&"solana"!==e.chain?(f(),_("li",ix,[x("div",rx,k(l.$t("estimatedGas")),1),x("div",ux,"≈ $"+k((q=e.swapInfo.gasValue,q&&Number(new Ce(q.toString()).times(a.nativePrice).times(a.gasPrice).div(String(10**18)).toFixed(2))||"0")),1)])):m("",!0),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?m("",!0):(f(),_(y,{key:2},[e.swapInfo.isAmountOut?(f(),_("li",mx,[x("div",px,k(l.$t("maximumReceived")),1),x("div",fx,k(p(i))+" "+k(null==(U=null==(P=e.swapInfo)?void 0:P.fromToken)?void 0:U.symbol),1)])):(f(),_("li",dx,[x("div",cx,k(l.$t("minimumReceived")),1),x("div",vx,k(p(s))+" "+k(null==(E=null==(D=e.swapInfo)?void 0:D.toToken)?void 0:E.symbol),1)]))],64)),x("li",hx,[x("div",xx,k(l.$t("tokenRoute")),1),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?(f(),_("div",yx,[(f(!0),_(y,null,w(p(d),(e,l)=>(f(),_(y,{key:l},[0!==l?(f(),_("img",wx)):m("",!0),e.symbol?(f(),_("span",Tx,k(e.symbol),1)):m("",!0)],64))),128))])):(f(),_("div",gx,[(f(!0),_(y,null,w(p(d),(e,a)=>(f(),_(y,{key:a},[e.symbol?(f(),_("span",kx,k(e.symbol),1)):m("",!0),x("div",bx,[e.nextAmm&&"unknown"!==e.nextAmm?(f(),v(r,{key:0,src:("formatIconSwap"in l?l.formatIconSwap:p(Te))(e.nextAmm),style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:h(()=>[...t[1]||(t[1]=[x("img",{style:{width:"14px","border-radius":"10px"},src:kn},null,-1)])]),placeholder:h(()=>[...t[2]||(t[2]=[x("img",{style:{width:"14px","border-radius":"10px"},src:kn},null,-1)])]),_:1},8,["src"])):m("",!0),a!==p(d).length-1?(f(),_("img",_x)):m("",!0)])],64))),128))]))]),(null==(R=e.swapInfo)?void 0:R.transaction)?(f(),_("li",Cx,[x("div",Ax,k(l.$t("txHash")),1),x("div",Sx,[x("a",{href:("formatExplorerUrl"in l?l.formatExplorerUrl:p(K))(e.chain,e.swapInfo.transaction,"tx"),target:"_blank"},k((null==(O=null==(H=e.swapInfo)?void 0:H.transaction)?void 0:O.slice(0,6))+"..."+(null==(z=null==(j=e.swapInfo)?void 0:j.transaction)?void 0:z.slice(-6))),9,Nx),g(C(u,{name:"bxs:copy",class:"clickable ml-5px"},null,512),[[B,null==(W=e.swapInfo)?void 0:W.transaction]])])])):m("",!0)]),x("div",$x,[C($,{class:"swap-button w-full",type:"primary",size:"large",loading:e.loading,"loading-text":l.$t("confirming"),block:"",disabled:p(n),onClick:F(A,["stop"])},{default:h(()=>[N(k(l.$t("confirm")),1)]),_:1},8,["loading","loading-text","disabled"])])],64)):2===e.activeShow?(f(),_("div",Fx,[C(I,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:h(()=>[C(p(Dl))]),_:1}),x("span",Ix,k(l.$t("plsConfirmWallet")),1)])):3===e.activeShow?(f(),_(y,{key:2},[x("div",Lx,[C(u,{name:"lineicons:arrow-up-circle",class:"text-110px"}),x("span",Vx,k(l.$t("plsViewBlockChainExplorer")),1)]),x("div",Bx,[C($,{class:"swap-button w-full",type:"primary",size:"large",block:"",onClick:F(S,["stop"])},{default:h(()=>[N(k(l.$t("viewTransition")),1)]),_:1})])],64)):m("",!0)]}),_:1},8,["modelValue"])):m("",!0)}}}),[["__scopeId","data-v-69f3fc84"]]),Dx=El("swap",()=>{const e=Pl("swap_token1",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),l=Pl("swap_token2",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),a=j(),t=H(),n=d(0),i=P(2),r=u(()=>0===n.value?l.value:e.value),c=u(()=>0===n.value?e.value:l.value),v=P(t.tokenInfo),m=P(t.tokenInfoExtra),p=o(),f=u(()=>a.chain||s(p.params.id).chain||""),h=P([]),x=u(()=>{var e,l,a,t,n,o;const s=[...(null==(l=null==(e=h.value)?void 0:e.slice)?void 0:l.call(e))||[]];return(null==(a=null==s?void 0:s[0])?void 0:a.chain)&&(null==(t=null==s?void 0:s[0])?void 0:t.chain)!==(null==(o=null==(n=k.value)?void 0:n[0])?void 0:o.chain)?s:(k.value.slice().forEach(e=>{const l=s.find(l=>l.token+"-"+l.chain==e.token+"-"+e.chain);l?l.logo_url=e.logo_url:s.push({...e,value:0})}),s.length>0?s:k.value.slice())}),g=P("0"),k=d([]),b=P(!1),_=P(!1),y=P(!1),w=P(!1),T=P(!1),C=P(0),A=P(!1),S=P(!1),N=P(!1),$=P(!1),F=P(""),I=P(0),L=P(""),V=P("");function B(){const l=j();if(e.value.chain===l.chain)return Ul({tokenAddress:e.value.address,chain:l.chain,spender:Rl(l.chain)}).then(async l=>{var a,t;if(null==l?void 0:l.address)return e.value={...e.value,...l},1===n.value&&(g.value=e.value.allowance||"0"),h.value=null==(t=null==(a=h.value)?void 0:a.map)?void 0:t.call(a,a=>(a.token===e.value.address&&(a={...a,...l,value:l.balance}),a)),l})}function M(){const e=j();if(l.value.chain===e.chain)return Ul({tokenAddress:l.value.address,chain:e.chain,spender:Rl(e.chain)}).then(async e=>{var a,t;if(null==e?void 0:e.address)return l.value={...l.value,...e},0===n.value&&(g.value=l.value.allowance||"0"),h.value=null==(t=null==(a=h.value)?void 0:a.map)?void 0:t.call(a,a=>(a.token===l.value.address&&(a={...a,...e,value:e.balance}),a)),e})}function D(){const e=j(),l=e.chain,a=e.address;a&&l&&Hl().then(e=>{var t,n,o,s;h.value="solana"===l||"ton"===l||"sui"===l?null==(t=null==e?void 0:e.map)?void 0:t.call(e,e=>({...e})):null==(s=(null==(o=null==(n=null==e?void 0:e.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token})))?void 0:n.filter)?void 0:o.call(n,e=>(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag))||[])?void 0:s.filter(e=>!!Number(e.value)),h.value.length>0&&"solana"!==l&&"sui"!==l&&"ton"!==l&&(/^0x[0-9a-zA-Z]{40}$/.test(a)||Ol(a,"tron"))&&jl(h.value.map(e=>e.token||""),l).then(e=>{var l,a,t;h.value=null==(t=null==(a=null==(l=h.value)?void 0:l.map)?void 0:a.call(l,(l,a)=>({...l,value:gl(e[a],(null==l?void 0:l.decimals)||0)})))?void 0:t.filter(e=>!!Number(e.value))})})}function E(a,n){var o,i,r,u;let d=e.value.address,c=e.value.chain;if(!d||!c)return;const f=d+"-"+c;if(e.value.address&&(d=e.value.address),e.value.chain&&(c=e.value.chain),e.value.address===(null==(o=t.token)?void 0:o.token)&&(v.value={...t.tokenInfo},e.value={...e.value,address:(null==(r=null==(i=v.value)?void 0:i.token)?void 0:r.token)||"",...null==(u=v.value)?void 0:u.token}),d&&c){let t=d+"-"+c;const o=We(c),i=null==o?void 0:o.wmain_wrapper,r=null==o?void 0:o.main_name;d===ze&&c&&i&&(t=i+"-"+c);const u=zl(t).then(async t=>{var n,o,i,u,m,f,h,x,g,y,B,M,D,E,P,U,R,H,O,j,z;const W=t||{};v.value={...W,...d===ze?{token:{...(null==t?void 0:t.token)||{},token:d,symbol:r}}:{}},e.value={...e.value,address:(null==(o=null==(n=v.value)?void 0:n.token)?void 0:o.token)||"",...null==(i=v.value)?void 0:i.token},"solana"===c?I.value=(null==(u=v.value)?void 0:u.token.current_price_usd)?G(v.value.token.current_price_usd):"":(L.value=(null==(m=v.value)?void 0:m.token.current_price_usd)?G(null==(h=null==(f=v.value)?void 0:f.token)?void 0:h.current_price_usd):"",V.value=(null==(x=v.value)?void 0:x.token.current_price_usd)?G(null==(y=null==(g=v.value)?void 0:g.token)?void 0:y.current_price_usd):"");const q=null==(B=null==t?void 0:t.pairs)?void 0:B[0],Y=null==q?void 0:q.pair;if(!Y||"moonshot"===(null==q?void 0:q.amm)||(null==(M=null==q?void 0:q.amm)?void 0:M.includes("fourmeme"))||"flapswap"===(null==q?void 0:q.amm)||"sunpump"===(null==q?void 0:q.amm)||"dyorswapfun"===(null==q?void 0:q.amm)||(null==q?void 0:q.target_token)!==Y&&!new RegExp(null==q?void 0:q.target_token,"i").test(Y))b.value=!1;else if(b.value=!0,l.value.address!==ze&&(null==(D=k.value)?void 0:D.length)>0){const e={...null==(P=null==(E=k.value)?void 0:E.slice())?void 0:P.find(e=>e.address===ze)};l.value={...e},setTimeout(()=>{a&&a(l.value)},1e3)}(null==(U=null==q?void 0:q.amm)?void 0:U.includes("fourmeme"))?w.value=!0:w.value=!1,"dyorswapfun"===(null==q?void 0:q.amm)&&(null==(H=null==(R=["xlayer","gatelayer"])?void 0:R.includes)?void 0:H.call(R,null==q?void 0:q.chain))?A.value=!0:A.value=!1,"xflapswap"===(null==q?void 0:q.amm)&&"xlayer"===(null==q?void 0:q.chain)?S.value=!0:S.value=!1,"flapswap"===(null==q?void 0:q.amm)?T.value=!0:T.value=!1;const Q=["TPeoxx1VhUMnAUyjwWfximDYFDQaxNQQ45","TXL6rJbvmjD46zeN1JssfgxvSo99qC8MRT","TAwAg9wtQzTMFsijnSFotJrpxhMm3AqW1d"];return"sunpump"===(null==q?void 0:q.amm)?C.value=1:(null==(O=null==t?void 0:t.pairs)?void 0:O.some(e=>"sunpump"===e.amm))||(null==(j=null==Q?void 0:Q.includes)?void 0:j.call(Q,d))?C.value=2:C.value=0,(null==(z=null==q?void 0:q.amm)?void 0:z.includes("cookpump"))?N.value=!0:N.value=!1,"popmefun"===(null==q?void 0:q.amm)?$.value=!0:$.value=!1,F.value=(null==q?void 0:q.amm)||"",function(a){return new Promise(t=>{var n;const o=(null==(n=p.params)?void 0:n.id)||"";let[i,r]=s(o,1);e.value.address&&(i=e.value.address),e.value.chain&&(r=e.value.chain),i&&"solana"===r?ql(i).then(e=>{var n,o,s;if(!1===(null==e?void 0:e.completed)){if("So11111111111111111111111111111111111111112"!==l.value.address&&(null==(n=k.value)?void 0:n.length)>0){const e={...null==(s=null==(o=k.value)?void 0:o.slice())?void 0:s.find(e=>"So11111111111111111111111111111111111111112"===e.address)};l.value={...e},setTimeout(()=>{a&&a(e)},1e3)}t(!0)}else _.value=!1,t(!1)}):(_.value=!1,t(!1))})}(a).catch(async()=>!1),t}),h=Wl(f).then(async e=>(m.value={...e,buy_tax:Number(Number((null==e?void 0:e.buy_tax)||0).toFixed(2)),sell_tax:Number(Number((null==e?void 0:e.sell_tax)||0).toFixed(2))},n&&n(),e));Promise.all([u,h]).finally(()=>{})}}return{token1:e,token2:l,chain:f,fromToken:r,toToken:c,baseToken:v,baseTokenExtra:m,allowance:g,activeTab:n,swapType:i,isFourMeme:w,isFlap:T,isPump:_,isMoonshot:y,isERC314:b,isSunPump:C,isDyorswapfun:A,isXflapswap:S,isCookPump:N,isPopMeFun:$,userBalanceTokens:h,getTokenDetails:function(){B(),M()},getToken2Info:M,getToken1Info:B,getBaseToken:E,swapTokens:x,init:function(t){var n;const[o,i]=s(t||(null==(n=p.params)?void 0:n.id),1),r=a.chain;o&&o!==e.value.address&&(e.value={address:o||"",chain:i||"",balance:0,symbol:"",decimals:0,logo_url:""}),r===l.value.chain&&l.value.address||(l.value={address:"",chain:r||"",balance:0,symbol:"",decimals:0,logo_url:""}),function(t){const n=a.chain||s(p.params.id).chain||"";Gl().then(a=>{var o,s,i,r,u,d,c,v;k.value=(null==a?void 0:a.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,decimals:e.token===ze&&"solana"===n?9:e.decimals})))||[],"solana"===n&&(k.value=null==(s=null==(o=k.value)?void 0:o.filter)?void 0:s.call(o,e=>e.token!==ze).sort(e=>"So11111111111111111111111111111111111111112"===e.token?-1:1)),"sui"===n&&(k.value=null==(d=null==(u=null==(r=null==(i=k.value)?void 0:i.filter)?void 0:r.call(i,e=>e.token!==ze))?void 0:u.map)?void 0:d.call(u,e=>({...e,token:"0x2::sui::SUI"===e.token?ze:e.token,address:"0x2::sui::SUI"===e.token?ze:e.token})).sort(e=>e.token===ze?-1:1));const m=e.value.address===l.value.address,p=(b.value||w.value||T.value||C.value>0||A.value||S.value||N.value||$.value)&&l.value.address!==ze,f=(_.value||y.value)&&"solana"===n&&"So11111111111111111111111111111111111111112"===l.value.address,h="sui"===n&&"0x2::sui::SUI"!==l.value.address&&l.value.address!==ze;if((!l.value.address||m||l.value.chain!==n||p||f||h)&&k.value.length>0){let a=k.value.findIndex(e=>/USDT/.test(e.symbol));a=a<0?k.value.findIndex(e=>/USD/.test(e.symbol)):a,a=a<0?0:a;let t=k.value[a];if(e.value.address===t.address&&(t=0===a?k.value[1]??k.value[0]:k.value[0]),b.value||_.value||y.value||w.value||T.value||C.value>0||h||A.value||S.value||N.value||$.value){const e=null==(v=null==(c=k.value)?void 0:c.slice)?void 0:v.call(c).find(e=>e.address===ze||"So11111111111111111111111111111111111111112"===e.address||"0x2::sui::SUI"===e.address);e&&(l.value={...e})}else l.value={...t}}t&&t()})}(()=>{M()}),D(),Gl(),E(),B()},getUserTokenList:D}}),Ex={key:0,class:"gap"},Px=["onClick"],Ux={class:"text"},Rx=B(t({__name:"percentStep",props:{activeColor:{type:String,default:""}},emits:["change"],setup(e,{expose:l,emit:a}){const t=a,n=P(0),o=[25,50,75,100],s=(e,l=!1)=>{e===n.value?(n.value=0,t("change",0,l)):(n.value=e,t("change",e,l))};return l({handleClick:s}),(l,a)=>(f(),_("div",{class:"percent-container",style:A({"--percent-active-color":e.activeColor})},[x("div",{for:"percent-radio-0",class:I({active:0===p(n)})},null,2),(f(),_(y,null,w(o,(e,l)=>(f(),_(y,{key:l},[0!==l?(f(),_("div",Ex)):m("",!0),x("div",{class:I(["label",{active:e===p(n)}]),onClick:F(l=>s(e),["stop"])},[a[0]||(a[0]=x("div",{class:"bar"},null,-1)),x("div",Ux,k(e)+"%",1)],10,Px)],64))),64))],4))}}),[["__scopeId","data-v-9ac60cd3"]]),Hx={class:"card-container mt-10px"},Ox={class:"flex items-center"},jx=["innerHTML"],zx={class:"flex justify-between items-center mt-10px"},Wx={class:"card-container bottom mt-10px"},qx={class:"flex items-center"},Gx=["innerHTML"],Yx={class:"flex justify-between items-center mt-10px"},Qx={key:0},Kx={key:1},Xx=["innerHTML"],Zx={class:"swap-label"},Jx={class:"slippage-container"},eg={class:"swap-label_item-left"},lg={style:{display:"flex","align-items":"center"}},ag={class:"swap-label_item-left"},tg={class:"swap-label_item-left"},ng={key:0},og={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:Pf,alt:"",srcset:""},sg={key:1},ig={key:1,class:"path-list"},rg={key:0},ug={key:1,class:"path-amm"},dg=["src"],cg={key:2},vg={key:0,style:{width:"15px",margin:"1px 5px 0"},src:Pf,alt:"",srcset:""},mg={key:1},pg={key:0},fg={key:1,class:"path-amm"},hg=["src"],xg={key:0,class:"select-token iconfont icon-collapse-down"},gg={key:0},kg={class:"swap-label_item-left"},bg="2",_g=B(t({__name:"market",setup(e){const{t:a}=n(),t=re(),s=Dx(),i=H(),c=j(),T=P(!1),S=P(!1),$=P(!1),I=u(()=>s.chain),V=P(!1),B=P(!1),M=P(bg),D=oe("swapSlippage","auto"),E=oe("solanaSlippage","9"),U=oe("suiTonSlippage","2"),R=P(!1),z=P(!1),W=P(!1),q=Sl("percentStepInf"),Y=P([]),Q=P(!1),K=P(0),X=P(0),Z=P(0),J=P([0,0]),ee=P(!1),le=P({fromToken:{symbol:"",decimals:18,address:"",logo_url:""},toToken:{symbol:"",decimals:18,address:"",logo_url:""},gasValue:"0",swapRouterPath:[],isAmountOut:!1});let ae={},ne={},se={};const ue=P("0"),de=P("0"),ce=u(()=>{const e=le.value.gasValue;if(!e)return"0";const l=ue.value,a=de.value;return G(new Ce(e.toString()).times(a).times(l).div(String(10**18)).toFixed()||"0",2)}),ve=P({}),me=u(()=>"auto"===D.value?M.value:D.value),pe=u(()=>{if(["solana","ton","sui"].includes(s.chain)||s.fromToken.address===ze)return!0;if(!s.allowance)return!1;const e=s.fromToken.decimals||0;return Ql(new Ce(Fe.value||0).toFixed(Number(e)||0),e).lte(s.allowance)}),fe=u(()=>{if(!Number(Fe.value)&&!Number(Ie.value))return"";const e=s.chain;if("solana"===e)return new Ce(K.value||0);if("sui"===e)return new Ce(X.value||0);if("ton"===e)return new Ce(Z.value||0);const l=Ae.value.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:Ae.value.fromToken||null,t=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:Ae.value.toToken||null;if(a&&t){const e=Ae.value.from_price||0,l=Ae.value.to_price||0,n=gl(a.amount,a.decimals),o=gl(t.amount,t.decimals);return new Ce(n).times(e).div(new Ce(o).times(l)).minus(1).abs()}return""}),he=u(()=>fe.value?G(fe.value.times(100).toFixed(),2)+"%":""),be=u(()=>{var e,l,a,t,n,o;return""===fe.value?"":(null==(l=null==(e=fe.value)?void 0:e.gt)?void 0:l.call(e,.4))?"#F81111":(null==(t=null==(a=fe.value)?void 0:a.gt)?void 0:t.call(a,.1))?"#F7933F":(null==(o=null==(n=fe.value)?void 0:n.gt)?void 0:o.call(n,.05))?"#f8be46":""}),ye=u(()=>{var e,l,a,t;if(!c.address||!c.provider)return"#999";if(""!==fe.value){if(null==(l=null==(e=fe.value)?void 0:e.gt)?void 0:l.call(e,.4))return"#999";if(null==(t=null==(a=fe.value)?void 0:a.gt)?void 0:t.call(a,.1))return"#F7933F"}return 0===s.activeTab?xe[0]:1===s.activeTab?ge[0]:"#558BED"}),we=u(()=>{var e,l,t,n,o,i,r;const u=(null==(e=Ae.value)?void 0:e.totalTax)||((null==(l=Ae.value)?void 0:l.total_sell_tax)||0)+((null==(t=Ae.value)?void 0:t.total_buy_tax)||0);return u>0?`(${a("tax")}: ${G(u,1)}%)`:0===s.activeTab&&((null==(n=s.baseTokenExtra)?void 0:n.buy_tax)||0)>0?`(${a("tax")}: ${G((null==(o=s.baseTokenExtra)?void 0:o.buy_tax)||0,1)}%)`:1===s.activeTab&&((null==(i=s.baseTokenExtra)?void 0:i.sell_tax)||0)>0?`(${a("tax")}: ${G((null==(r=s.baseTokenExtra)?void 0:r.sell_tax)||0,1)}%)`:""}),Te=d([]),Ae=P({fromToken:{symbol:"",decimals:18,amount:"",address:""},toToken:{symbol:"",decimals:18,amount:"",address:""},fromAmount:"",isAmountOut:!1,isSunPump:0}),Se=P([]),Ne=o();r(()=>Ne.params.id,()=>{Fe.value="",Ie.value=""});const $e=P(0),Fe=P(""),Ie=P(""),Le=P(0),Ve=P(!1),Be=u(()=>{var e,l,a,t,n,o,r,u,d;const c=(null==(l=null==(e=null==i?void 0:i.pairs)?void 0:e[0])?void 0:l.amm)&&(null==(n=["fourmeme","fourmemev2"])?void 0:n.includes(null==(t=null==(a=null==i?void 0:i.pairs)?void 0:a[0])?void 0:t.amm)),v=(null==(r=null==(o=null==i?void 0:i.pairs)?void 0:o[0])?void 0:r.amm)&&["viridian","aerodrome","flapswap"].includes(null==(d=null==(u=null==i?void 0:i.pairs)?void 0:u[0])?void 0:d.amm);return"ton"===s.chain||"sui"===s.chain||v||c||s.isDyorswapfun||s.isXflapswap||s.isCookPump||s.isPopMeFun}),Me=u(()=>{var e,l,a;if("ton"===I.value){const t=(null==se?void 0:se.totalTransferAmount)||0,n=(null==(a=null==(l=null==(e=s.userBalanceTokens)?void 0:e.find)?void 0:l.call(e,e=>e.address===ze))?void 0:a.initBalance)||0;if(t&&new Ce(t).gt(n))return!0}return!1}),{reset:De,start:Ee}=Yl(15,{immediate:!0,onComplete:()=>{!function(){if(2!==s.swapType||s.token1.address===s.token2.address)return;if(ee.value||B.value||"hidden"===document.visibilityState)return void Pe();$.value?qe():Ye();Pe()}()}});function Pe(){De(15),Ee()}function Ue(){Pe(),Ve.value&&pe.value&&!ee.value&&dl(!1)}function Re(){Te.value=[],Ae.value.totalTax=0,Ae.value.total_sell_tax=0,Ae.value.total_buy_tax=0,M.value=bg,$e.value=0,Fe.value="",Ie.value="",s.getToken1Info(),s.getBaseToken(He,sl)}function He(){Te.value=[],Ae.value.totalTax=0,Ae.value.total_sell_tax=0,Ae.value.total_buy_tax=0,M.value=bg,$e.value=0,Fe.value="",Ie.value="",s.getToken2Info()}function Oe(){var e,l;const a=s.chain;if("solana"!==a){if(a&&a===s.fromToken.chain&&s.fromToken.address){let t=s.isFourMeme?null==(l=null==(e=Ae.value)?void 0:e.quoteResult)?void 0:l.tokenManager:Rl(a);const n=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][s.isSunPump];t=n||t,"xlayer"===a&&s.isDyorswapfun&&(t="0xfd947a61e2c54413031ddb1f754dbe0e696efa09"),"xlayer"===a&&s.isXflapswap&&(t="0xb30d8c4216e1f21f27444d2ffaee3ad577808678"),"gatelayer"===a&&s.isDyorswapfun&&(t="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617"),"juchain"===a&&s.isCookPump&&(t="0xaF2F76f06E27BE138Bd5310ec6553E2c93ec19F4"),"popchain"===a&&s.isPopMeFun&&(t="0x198C8099E0c2CE323a5513769e294f349B015cEE"),T.value=!0,Kl(s.fromToken.address,t).then(e=>{s.allowance=e.toString()}).finally(()=>{T.value=!1})}}else s.allowance=Ge}function je(e,l=!1){var t,n,o,i;if(l)return;const r=Number(e)/100;let u=s.fromToken.balance||0;if(r){const e=s.fromToken.decimals||0;if((null==(t=s.fromToken)?void 0:t.address)===ze||"So11111111111111111111111111111111111111112"===(null==(n=s.fromToken)?void 0:n.address)){const l=s.fromToken.chain,t=Xl[l]||.01;if(new Ce(u).lt(t))return void te.alert(a("balanceNotEnough",{n:t,s:s.fromToken.symbol}),a("tips"));u=(null==(o=new Ce(u).minus(t).times(r).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||""}else u=(null==(i=new Ce(u).times(r).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:i[0])||"";0===Number(u)&&(u="")}else u="";Fe.value!==u&&(Fe.value=Number(u)<0?"0":u,qe())}function qe(){if(S.value&&!$.value)return;const e=Fe.value,l=Number(e);""===e||"."===e?(Fe.value="",Ie.value="",S.value=!1):0===l&&0!==Number(Ie.value)?(Ie.value="0",S.value=!1):l&&($.value=!0,Ie.value="",Ke())}function Ye(){if(S.value&&!$.value)return;const e=Ie.value,l=Number(e);""===e||"."===e?(Fe.value="",Ie.value="",S.value=!1):0===l&&0!==Number(Fe.value)?(Fe.value="0",S.value=!1):l&&($.value=!1,Fe.value="",Ke(!1))}let Qe=null;function Ke(e=!0){ol()&&(Number(Fe.value)||Number(Ie.value)?s.token1.address!==s.token2.address&&(Qe&&(clearTimeout(Qe),Qe=null),Qe=setTimeout(()=>{!async function(e,l){var a,t,n,o,i,r,u,d,v,m,p,f,h,x,g,k,b,_,y,w,T,C,A,N,$,F,I,L,B,M,D,P,R,H,O,j,z,W,q,G,Y,Q,K,X,Z,J,ee,te,oe,ie,re,ue,de,ce,fe,he,xe,ge,ke,be,_e,ye,we,Ne,$e,Le,Ve,Be,Me,De,Ee,Pe,Re,He,je,We,qe,Ge,Ye,Qe,Ke,ol;if((Fe.value||Ie.value)&&s.fromToken.address&&s.toToken.address&&l===s.fromToken.chain){const il=s.fromToken.decimals,rl=s.toToken.decimals;if("sui"===l)return void async function(e,l){var a,t,n;if("sui"===l){const l=s.fromToken.decimals||(null==(a=s.fromToken)?void 0:a.decimal),o=s.toToken.decimals||(null==(t=s.toToken)?void 0:t.decimal),i=s.fromToken.address===ze?new Ce(Fe.value||0).times("0.997"):new Ce(Fe.value||0),r={tokenIn:s.fromToken.address===ze?"0x2::sui::SUI":s.fromToken.address,tokenOut:s.toToken.address,amountIn:Ql((null==(n=i.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:n[0])||0,l).toFixed(0),slippage:new Ce(U.value).div(100).toNumber()};S.value=!0,ia(r).then(l=>{var a,t;return l.returnAmount&&l.returnAmountWithDecimal||l.amount_out?(ae=l,e&&(Ie.value=(null==l?void 0:l.returnAmount)||gl((null==l?void 0:l.amount_out)||"0",(null==(a=null==l?void 0:l.to_token)?void 0:a.decimals)||o||(null==(t=s.toToken)?void 0:t.decimals))),Je()):Jl("can not get quote"),dl(!1),S.value=!1,l}).catch(e=>(Jl((null==e?void 0:e.error)||e),Promise.resolve(""))).finally(()=>{setTimeout(()=>{S.value=!1,Ue()},800)})}}(e,l);if("solana"===l)return void function(e,l){var a,t;if("solana"===l){if(!!((s.isPump||s.isMoonshot)&&"So11111111111111111111111111111111111111112"!==s.token2.address&&"solana"===s.token2.chain))return;const l=s.fromToken.decimals,n=s.toToken.decimals,o={inputMint:s.fromToken.address,inputDecimals:l,inputMintSymbol:s.fromToken.symbol,inputMintName:s.fromToken.symbol,inputAmount:Fe.value||0,outputMint:s.toToken.address,outputDecimals:n,outputMintSymbol:s.toToken.symbol,outputMintName:s.toToken.symbol,amount:e?Ql((null==(a=new Ce(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:a[0])||0,l).toFixed(0):Ql((null==(t=new Ce(Ie.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${n}})?`)))?void 0:t[0])||0,n).toFixed(0),slippageBps:new Ce(E.value).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:E.value||9,isPump:s.isPump,isMoonshot:s.isMoonshot};if(Ze.amount&&Object.keys(Ze).every(e=>o[e]===Ze[e]))return;Ze={...o},setTimeout(()=>{Ze={}},15e3),S.value=!0,ua(o).then(a=>{var t,o,i,r,u;return a.routeInfo&&a.transaction?(ne=a,Ie.value=(null==(i=null==(o=null==(t=a.routeInfo)?void 0:t.amountOut)?void 0:o.amount)?void 0:i.toFixed())||"0",Je()):e?a.outAmount?(ne=a,Ie.value=gl(a.outAmount||"0",n||(null==(r=s.toToken)?void 0:r.decimals)),Je()):Jl("can not get quote"):a.inAmount?(ne=a,Fe.value=gl(a.inAmount||"0",l||(null==(u=s.fromToken)?void 0:u.decimals)),Je()):Jl("can not get quote"),dl(!1),a}).catch(e=>(Jl((null==e?void 0:e.error)||e),Promise.resolve(""))).finally(()=>{setTimeout(()=>{S.value=!1,Ze={},Ue()},800)})}}(e,l);if("bsc"===l){if(!!((s.isFourMeme||s.isFlap)&&s.token2.address!==ze&&"bsc"===s.token2.chain))return}if("tron"===l){if(!!(s.isSunPump>0&&s.token2.address!==ze&&"tron"===s.token2.chain))return}if("xlayer"===l){if(!!((s.isDyorswapfun||s.isXflapswap||s.isCookPump||s.isPopMeFun)&&s.token2.address!==ze&&"xlayer"===s.token2.chain))return}if("ton"===l)return void async function(e,l){var a,t,n;if("ton"===l){const l=s.fromToken.decimals||(null==(a=s.fromToken)?void 0:a.decimal),o=s.toToken.decimals||(null==(t=s.toToken)?void 0:t.decimal),i=s.fromToken.address===ze?new Ce(Fe.value||0).times("0.997"):new Ce(Fe.value||0),r={inputToken:s.fromToken.address,outputToken:s.toToken.address,inputTokenAmount:Ql((null==(n=i.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:n[0])||0,l).toFixed(0),slippageBps:new Ce(U.value).times(100).toFixed(0)};S.value=!0,ra(r).then(l=>{var a;return l.amountOut&&l.payload?(se=l,e&&(Ie.value=gl(l.amountOut||"0",o||(null==(a=s.toToken)?void 0:a.decimals))),Je()):Jl("can not get quote"),dl(!1),S.value=!1,l}).catch(e=>(Jl((null==e?void 0:e.error)||e),Promise.resolve(""))).finally(()=>{setTimeout(()=>{S.value=!1,Ue()},800)})}}(e,l);S.value=!0;const ul={from_token:s.fromToken.address,to_token:s.toToken.address,amountIn:e?Ql((null==(a=new Ce(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${il}})?`)))?void 0:a[0])||0,il).toFixed(0):"0",amountOut:e?"0":Ql((null==(t=new Ce(Ie.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${rl}})?`)))?void 0:t[0])||0,rl).toFixed(0)};if(s.isFourMeme){try{const a=await Zl(ul,l);e?Ie.value=gl((null==a?void 0:a.amountOut)||"0",null==(n=s.toToken)?void 0:n.decimals):Fe.value=gl((null==a?void 0:a.amountIn)||"0",null==(o=s.fromToken)?void 0:o.decimals),Te.value=[{symbol:null==(i=s.fromToken)?void 0:i.symbol,nextAmm:"fourmeme"},{symbol:null==(r=s.toToken)?void 0:r.symbol,nextAmm:""}],Ae.value.fromAmount=Ql(Fe.value,null==(u=s.fromToken)?void 0:u.decimals).toFixed(0),Ae.value.toAmount=Ql(Ie.value,null==(d=s.toToken)?void 0:d.decimals).toFixed(0),Ae.value.fromToken={...s.fromToken,amount:Ae.value.fromAmount},Ae.value.toToken={...s.toToken,amount:Ae.value.toAmount},Ae.value.quoteResult={...a},Ae.value.isAmountOut=!e,Ae.value.isFourMeme=!0,Oe();const[t,c]=[(null==(v=s.fromToken)?void 0:v.address)+"-"+(null==(m=s.fromToken)?void 0:m.chain),(null==(p=s.toToken)?void 0:p.address)+"-"+(null==(f=s.toToken)?void 0:f.chain)];Xe([t,c]).then(async e=>{var l,a;Ae.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ae.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ae.value.isFourMeme=!0}),S.value=!1}catch(sl){S.value=!1,Jl(sl)}return}if(s.isDyorswapfun){try{const[a,t]=[(null==(h=s.fromToken)?void 0:h.address)+"-"+(null==(x=s.fromToken)?void 0:x.chain),(null==(g=s.toToken)?void 0:g.address)+"-"+(null==(k=s.toToken)?void 0:k.chain)],n=await Xe([a,t]),o=(null==(b=null==n?void 0:n[0])?void 0:b.current_price_usd)||0,i=(null==(_=null==n?void 0:n[1])?void 0:_.current_price_usd)||0,r=ea({...ul,from_price:o,to_price:i,pairs:(null==(y=s.baseToken)?void 0:y.pairs)||[]},l);Ie.value=gl(r||"0",null==(w=s.toToken)?void 0:w.decimals),Te.value=[{symbol:null==(T=s.fromToken)?void 0:T.symbol,nextAmm:"dyorswapfun"},{symbol:null==(C=s.toToken)?void 0:C.symbol,nextAmm:""}],Ae.value.fromAmount=Ql(Fe.value,null==(A=s.fromToken)?void 0:A.decimals).toFixed(0),Ae.value.toAmount=Ql(Ie.value,null==(N=s.toToken)?void 0:N.decimals).toFixed(0),Ae.value.fromToken={...s.fromToken,amount:Ae.value.fromAmount},Ae.value.toToken={...s.toToken,amount:Ae.value.toAmount},Ae.value.isAmountOut=!e,Ae.value.isDyorswapfun=!0,Oe(),Ae.value.from_price=o,Ae.value.to_price=i,S.value=!1}catch(sl){S.value=!1,Jl(sl)}return}if(s.isXflapswap){try{const a=await la(ul,l);e?Ie.value=gl((null==a?void 0:a.toString())||"0",null==($=s.toToken)?void 0:$.decimals):Fe.value=gl((null==a?void 0:a.toString())||"0",null==(F=s.fromToken)?void 0:F.decimals),Te.value=[{symbol:null==(I=s.fromToken)?void 0:I.symbol,nextAmm:"xflapswap"},{symbol:null==(L=s.toToken)?void 0:L.symbol,nextAmm:""}],Ae.value.fromAmount=Ql(Fe.value,null==(B=s.fromToken)?void 0:B.decimals).toFixed(0),Ae.value.toAmount=Ql(Ie.value,null==(M=s.toToken)?void 0:M.decimals).toFixed(0),Ae.value.fromToken={...s.fromToken,amount:Ae.value.fromAmount},Ae.value.toToken={...s.toToken,amount:Ae.value.toAmount},Ae.value.quoteResult={...a},Ae.value.isAmountOut=!e,Ae.value.isXflapswap=!0,Oe();const[t,n]=[(null==(D=s.fromToken)?void 0:D.address)+"-"+(null==(P=s.fromToken)?void 0:P.chain),(null==(R=s.toToken)?void 0:R.address)+"-"+(null==(H=s.toToken)?void 0:H.chain)];Xe([t,n]).then(async e=>{var l,a;Ae.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ae.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ae.value.isXflapswap=!0}),S.value=!1}catch(sl){S.value=!1,Jl(sl)}return}if(s.isCookPump){try{const a=await aa(ul,l);e?Ie.value=gl((null==a?void 0:a.toString())||"0",null==(O=s.toToken)?void 0:O.decimals):Fe.value=gl((null==a?void 0:a.toString())||"0",null==(j=s.fromToken)?void 0:j.decimals),Te.value=[{symbol:null==(z=s.fromToken)?void 0:z.symbol,nextAmm:"cookpump"},{symbol:null==(W=s.toToken)?void 0:W.symbol,nextAmm:""}],Ae.value.fromAmount=Ql(Fe.value,null==(q=s.fromToken)?void 0:q.decimals).toFixed(0),Ae.value.toAmount=Ql(Ie.value,null==(G=s.toToken)?void 0:G.decimals).toFixed(0),Ae.value.fromToken={...s.fromToken,amount:Ae.value.fromAmount},Ae.value.toToken={...s.toToken,amount:Ae.value.toAmount},Ae.value.isAmountOut=!e,Ae.value.isCookPump=!0,Oe();const[t,n]=[(null==(Y=s.fromToken)?void 0:Y.address)+"-"+(null==(Q=s.fromToken)?void 0:Q.chain),(null==(K=s.toToken)?void 0:K.address)+"-"+(null==(X=s.toToken)?void 0:X.chain)];Xe([t,n]).then(async e=>{var l,a;Ae.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ae.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ae.value.isCookPump=!0}),S.value=!1}catch(sl){S.value=!1,Jl(sl)}return}if(s.isPopMeFun){try{const a=await ta(ul,l);e?Ie.value=gl((null==(Z=null==a?void 0:a.amountOut)?void 0:Z.toString())||"0",null==(J=s.toToken)?void 0:J.decimals):Fe.value=gl((null==(ee=null==a?void 0:a.amountIn)?void 0:ee.toString())||"0",null==(te=s.fromToken)?void 0:te.decimals),Te.value=[{symbol:null==(oe=s.fromToken)?void 0:oe.symbol,nextAmm:"popmefun"},{symbol:null==(ie=s.toToken)?void 0:ie.symbol,nextAmm:""}],Ae.value.fromAmount=Ql(Fe.value,null==(re=s.fromToken)?void 0:re.decimals).toFixed(0),Ae.value.toAmount=Ql(Ie.value,null==(ue=s.toToken)?void 0:ue.decimals).toFixed(0),Ae.value.fromToken={...s.fromToken,amount:Ae.value.fromAmount},Ae.value.toToken={...s.toToken,amount:Ae.value.toAmount},Ae.value.isAmountOut=!e,Ae.value.isPopMeFun=!0,Oe();const[t,n]=[(null==(de=s.fromToken)?void 0:de.address)+"-"+(null==(ce=s.fromToken)?void 0:ce.chain),(null==(fe=s.toToken)?void 0:fe.address)+"-"+(null==(he=s.toToken)?void 0:he.chain)];Xe([t,n]).then(async e=>{var l,a;Ae.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ae.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ae.value.isPopMeFun=!0}),S.value=!1}catch(sl){S.value=!1,Jl(sl)}return}if("tron"===l&&s.isSunPump>0){try{const a=await na({...ul,isSunPump:s.isSunPump},l);e?Ie.value=gl((null==a?void 0:a.amountOut)||"0",null==(xe=s.toToken)?void 0:xe.decimals):Fe.value=gl((null==a?void 0:a.amountIn)||"0",null==(ge=s.fromToken)?void 0:ge.decimals),Te.value=[{symbol:null==(ke=s.fromToken)?void 0:ke.symbol,nextAmm:"sunpump"},{symbol:null==(be=s.toToken)?void 0:be.symbol,nextAmm:""}],Ae.value.fromAmount=Ql(Fe.value,null==(_e=s.fromToken)?void 0:_e.decimals).toFixed(0),Ae.value.toAmount=Ql(Ie.value,null==(ye=s.toToken)?void 0:ye.decimals).toFixed(0),Ae.value.fromToken={...s.fromToken,amount:Ae.value.fromAmount},Ae.value.toToken={...s.toToken,amount:Ae.value.toAmount},Ae.value.quoteResult={...a},Ae.value.isAmountOut=!e,Ae.value.isSunPump=s.isSunPump,Oe();const[t,n]=[(null==(we=s.fromToken)?void 0:we.address)+"-"+(null==(Ne=s.fromToken)?void 0:Ne.chain),(null==($e=s.toToken)?void 0:$e.address)+"-"+(null==(Le=s.toToken)?void 0:Le.chain)];Xe([t,n]).then(async e=>{var l,a;Ae.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ae.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ae.value.isSunPump=s.isSunPump}),S.value=!1}catch(sl){S.value=!1,Jl(sl)}return}const cl=null==(Ve=s.baseToken)?void 0:Ve.pairs;if((null==(Be=null==cl?void 0:cl[0])?void 0:Be.target_token)===(null==(Me=null==cl?void 0:cl[0])?void 0:Me.pair)&&(null==(De=null==cl?void 0:cl[0])?void 0:De.pair)&&"xlayer"!==l){const a=await oa(ul,l);if(a){e?Ie.value=gl(a||"0",null==(Ee=s.toToken)?void 0:Ee.decimals):Fe.value=gl(a||"0",null==(Pe=s.fromToken)?void 0:Pe.decimals),s.isERC314=!0,Te.value=[{symbol:null==(Re=s.fromToken)?void 0:Re.symbol,nextAmm:null==(He=null==cl?void 0:cl[0])?void 0:He.amm},{symbol:null==(je=s.toToken)?void 0:je.symbol,nextAmm:""}],Ae.value.fromAmount=Ql(Fe.value,null==(We=s.fromToken)?void 0:We.decimals).toFixed(0),Ae.value.toAmount=Ql(Ie.value,null==(qe=s.toToken)?void 0:qe.decimals).toFixed(0),Ae.value.fromToken={...s.fromToken,amount:Ae.value.fromAmount},Ae.value.toToken={...s.toToken,amount:Ae.value.toAmount};const[l,t]=[(null==(Ge=s.fromToken)?void 0:Ge.address)+"-"+(null==(Ye=s.fromToken)?void 0:Ye.chain),(null==(Qe=s.toToken)?void 0:Qe.address)+"-"+(null==(Ke=s.toToken)?void 0:Ke.chain)];return Xe([l,t]).then(async e=>{var l,a;Ae.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ae.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ae.value.isERC314=!0}),void(S.value=!1)}}let vl="";if("core"===l&&((null==cl?void 0:cl.length)||0)>0){const e=(null==(ol=null==cl?void 0:cl.find)?void 0:ol.call(cl,e=>{const l=[e.token0_address,e.token1_address];return l.includes(ul.from_token)||l.includes(ul.to_token)}))||(null==cl?void 0:cl[0]),l=(null==e?void 0:e.amm)||"",a={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"};vl=(null==a?void 0:a[l])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f"}s.isERC314=!1,sa(ul,vl,l).then(e=>{Se.value=e,nl(e),function(){ll&&(clearTimeout(ll),ll=null);ll=setTimeout(()=>{var e,l,a,t,n,o,s,i,r;el()&&pe.value&&c.address&&!V.value&&(((null==(e=Ae.value)?void 0:e.isSunPump)||0)>0?da(Ae.value,me.value).then(async e=>{var l;ve.value={...e,isSunPump:null==(l=Ae.value)?void 0:l.isSunPump},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=Te.value}).catch(e=>{Jl(e)}):(null==(l=Ae.value)?void 0:l.isFourMeme)?ca(Ae.value,me.value).then(async e=>{ve.value={...e,isFourMeme:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=Te.value}).catch(e=>{Jl(e)}):(null==(a=Ae.value)?void 0:a.isERC314)?va(Ae.value).then(async e=>{ve.value={...e,isERC314:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=Te.value}).catch(e=>{Jl(e)}):(null==(t=Ae.value)?void 0:t.isDyorswapfun)?ma(Ae.value,me.value).then(async e=>{ve.value={...e,isDyorswapfun:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=Te.value}).catch(e=>{Jl(e)}):(null==(n=Ae.value)?void 0:n.isXflapswap)?pa(Ae.value,me.value).then(async e=>{ve.value={...e,isXflapswap:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=Te.value}).catch(e=>{Jl(e)}):(null==(o=Ae.value)?void 0:o.isCookPump)?fa(Ae.value,me.value).then(async e=>{ve.value={...e,isCookPump:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=Te.value}).catch(e=>{Jl(e)}):(null==(s=Ae.value)?void 0:s.isPopMeFun)?ha(Ae.value,me.value).then(async e=>{ve.value={...e,isPopMeFun:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=Te.value}).catch(e=>{Jl(e)}):(null==(r=null==(i=Ae.value)?void 0:i.routerPath)?void 0:r.length)>0&&(xa(Ae.value,me.value).then(async e=>{ve.value=e,le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=Te.value}).catch(e=>{Jl(e)}),al(),tl()))},3e3)}()}).catch(l=>{Jl(l),e?Ie.value="":Fe.value=""}).finally(()=>{setTimeout(()=>{S.value=!1,Ue()},800)})}}(e,c.chain||"")},500)):S.value=!1)}let Ze={};function Je(){const e=s.fromToken.chain,l=s.fromToken.address+"-"+e,a=s.toToken.address+"-"+e;return sessionStorage.swap_tokenPrice===l+"-"+a?(J.value=[0,0],"solana"===e?K.value=0:"ton"===e?Z.value=0:"sui"===e&&(X.value=0)):sessionStorage.swap_tokenPrice=l+"-"+a,Xe([l,a]).then(async l=>{var a,t;const n=(null==(a=null==l?void 0:l[0])?void 0:a.current_price_usd)||0,o=(null==(t=null==l?void 0:l[1])?void 0:t.current_price_usd)||0;J.value=[n,o];const s=Fe.value||0,i=Ie.value||0,r=Math.abs(Number(s)*n/(Number(i)*o)-1);"solana"===e?K.value=r:"ton"===e?Z.value=r:"sui"===e&&(X.value=r)})}function el(){var e,l,a;if(!c.provider)return!0;const t=s.fromToken.balance||0,n=(s.isPump||s.isMoonshot)&&"So11111111111111111111111111111111111111112"!==s.token2.address,o=(s.isFourMeme||s.isFlap||s.isDyorswapfun||s.isXflapswap||s.isCookPump||s.isPopMeFun)&&s.token2.address!==ze,i=s.isSunPump>0&&s.token2.address!==ze;if("ton"===s.chain){const t=(null==se?void 0:se.totalTransferAmount)||0,n=(null==(a=null==(l=null==(e=s.userBalanceTokens)?void 0:e.find)?void 0:l.call(e,e=>e.address===ze))?void 0:a.initBalance)||0;if(t&&new Ce(t).gt(n))return!1}return!(0===Number(t)||Number(t)<Number(Fe.value)||!c.provider||"0"===String(Fe.value)||s.token1.address===s.token2.address||n||o||i)}let ll=null;function al(){const e=s.token1.chain,l=s.token2.chain,a=c.chain;a&&a===e&&a===l&&ga(a).then(e=>{de.value=e})}function tl(){const e=c.chain;if(["solana","ton","sui","tron"].includes(e))return;const l=s.token1.chain,a=s.token2.chain;e&&l===a&&e===l&&ka(e).then(e=>{ue.value=(null==e?void 0:e.toString())||"0"}).catch(e=>{ue.value="0"})}function nl(e=Se.value){var l,a,t,n,o,i,r;const u=e[$e.value],d=e[$e.value].routerPath,c=$.value,v=s.fromToken.decimals,m=s.toToken.decimals;let p=!1;if(c){p=Ql((null==(l=new Ce(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${v}})?`)))?void 0:l[0])||"0",v).toFixed(0)===((null==(a=d[0])?void 0:a.amount)||0)}else{p=Ql((null==(t=new Ce(Ie.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${m}})?`)))?void 0:t[0])||"0",m).toFixed(0)===((null==(n=d[d.length-1])?void 0:n.amount)||0)}if(!p)return;if(1===u.from_cannot_sell_all){const e=new Ce(Ql(String(s.fromToken.balance),null==(o=s.fromToken)?void 0:o.decimals).toFixed(0)),l=new Ce(null==u?void 0:u.routerPath[0].amount);R.value=e.gt(0)&&l.div(e).gt(.99999)}else R.value=!1;z.value=((null==u?void 0:u.totalTax)||0)>0||((null==u?void 0:u.total_sell_tax)||0)>0||((null==u?void 0:u.total_buy_tax)||0)>0;const f=function(e){if(!Number(Fe.value)&&!Number(Ie.value))return new Ce(0);const l=e.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:null,t=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:null;if(a&&t){const l=e.from_price,n=e.to_price,o=gl(a.amount,a.decimals),s=gl(t.amount,t.decimals);return new Ce(o).times(l).div(new Ce(s).times(n)).minus(1).abs().times(100)}return new Ce(0)}(u);if(z.value||f.gt(.5)){W.value=((null==u?void 0:u.total_sell_tax)||0)+((null==u?void 0:u.total_buy_tax)||0)+1>49.99;const e=u.totalTax||(u.total_sell_tax||0)+(u.total_buy_tax||0),l=Number(f);if("auto"===D.value){let a=e+l+(e>5||l>5?2.5:2);a=Math.max(Math.min(a,49.99),.5),M.value=String(Number(a.toFixed(2)))}}else W.value=!1,"auto"===D.value&&(M.value=bg);if(Ae.value=u,Te.value=d.map((e,l)=>{var a,t;return{symbol:e.symbol,nextAmm:(null==(t=null==(a=null==u?void 0:u.pair_path)?void 0:a[l])?void 0:t.amm)||""}}),Y.value=Se.value.map(e=>{var l;let a=0,t=0;if($.value){const t=e.routerPath[e.routerPath.length-1];a=gl(t.amount||"0",(null==t?void 0:t.decimals)||(null==(l=s.toToken)?void 0:l.decimals))}else{const l=e.routerPath[0];t=gl(l.amount||"0",(null==l?void 0:l.decimals)||s.fromToken.decimals)}return{path:e.routerPath.map((l,a)=>{var t,n;return{symbol:l.symbol,nextAmm:(null==(n=null==(t=null==e?void 0:e.pair_path)?void 0:t[a])?void 0:n.amm)||""}}),amount:$.value?a:t,priceImpact:e.priceImpact}}),$.value){const e=d[d.length-1];Ie.value=gl(e.amount||"0",(null==e?void 0:e.decimals)||(null==(i=s.toToken)?void 0:i.decimals))}else{const e=d[0];Fe.value=gl(e.amount||"0",(null==e?void 0:e.decimals)||(null==(r=s.fromToken)?void 0:r.decimals))}p&&setTimeout(()=>{S.value=!1,Ue()},800)}function ol(){var e,l,a;const t=c.chain,n=Object.keys(ba).concat(["solana","sui","ton"]),o=s.token1.chain,i=s.token2.chain;return!(o&&!(null==(e=null==n?void 0:n.includes)?void 0:e.call(n,o)))&&(!(i&&!(null==(l=null==n?void 0:n.includes)?void 0:l.call(n,i)))&&(!!t&&(!(t&&!(null==(a=null==n?void 0:n.includes)?void 0:a.call(n,t)))&&(t===o&&t===i))))}function sl(){var e,l,a,t;if(1===s.activeTab){if(Number(M.value)>Number(null==(e=s.baseTokenExtra)?void 0:e.sell_tax)+1)return;const a=Math.max(Math.min(Number(null==(l=s.baseTokenExtra)?void 0:l.sell_tax)+1,49.99),.5);M.value=String(Number(a.toFixed(2)))}else{if(Number(M.value)>Number(null==(a=s.baseTokenExtra)?void 0:a.buy_tax)+1)return;const e=Math.max(Math.min(Number(null==(t=s.baseTokenExtra)?void 0:t.buy_tax)+1,49.99),.5);M.value=String(Number(e.toFixed(2)))}}function il(){var e,l,t,n,o;const i=c.chain,r=Object.keys(ba).concat(["solana","sui","ton"]),u=We(i),d=(null==u?void 0:u.name)||"",v=s.token1.chain,m=s.token2.chain,p=null==(e=We(v))?void 0:e.name,f=null==(l=We(m))?void 0:l.name;return v&&!(null==(t=null==r?void 0:r.includes)?void 0:t.call(r,v))?a("noSupportChain",{chain:p}):m&&!(null==(n=null==r?void 0:r.includes)?void 0:n.call(r,m))?a("noSupportChain",{chain:f}):i&&!(null==(o=null==r?void 0:r.includes)?void 0:o.call(r,i))?a("noSupportChain",{chain:d}):i!==v&&v||i!==m&&m?a("chainNotSame1"):v!==m?a("tokenNoSameChain"):void 0}function rl(){try{if(!c.provider)return void(c.provider||te.alert(a("browserWalletNotDetected"),a("tips"),{confirmButtonText:a("confirm")}));if(!ol())return;const e=c.chain;if(e!==(s.token1.chain||s.token2.chain||e))return void te.alert(a("plsSwitchChain",{chain:e}),a("tips"),{confirmButtonText:a("confirm")});2===s.swapType&&(Le.value=1,pe.value?dl():async function(){var e,l;B.value=!0;let a=s.isFourMeme?null==(l=null==(e=Ae.value)?void 0:e.quoteResult)?void 0:l.tokenManager:Rl(I.value);const t=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][s.isSunPump];a=t||a,"xlayer"===c.chain&&s.isDyorswapfun&&(a="0xfd947a61e2c54413031ddb1f754dbe0e696efa09");"xlayer"===c.chain&&s.isXflapswap&&(a="0xb30d8c4216e1f21f27444d2ffaee3ad577808678");"gatelayer"===c.chain&&s.isDyorswapfun&&(a="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617");"juchain"===c.chain&&s.isCookPump&&(a="0xaF2F76f06E27BE138Bd5310ec6553E2c93ec19F4");"popchain"===c.chain&&s.isPopMeFun&&(a="0x198C8099E0c2CE323a5513769e294f349B015cEE");_a(s.fromToken.address,a).then(e=>e.wait()).then(e=>{Oe()}).catch(e=>{Jl(e)}).finally(()=>{B.value=!1})}())}catch(e){}}function ul(){var e,l,t;const n=s.fromToken.balance||0,o=(s.isPump||s.isMoonshot)&&"So11111111111111111111111111111111111111112"!==s.token2.address,i=(s.isFourMeme||s.isFlap||s.isDyorswapfun||s.isXflapswap||s.isCookPump||s.isPopMeFun)&&s.token2.address!==ze,r=s.isSunPump>0&&s.token2.address!==ze,u=c.address;if(!u)return a("pConnectWallet");if(u&&!c.provider)return a("observeAddressNotSwap");if(s.isERC314&&s.token2.address!==ze||o||i||r)return a("ERC314Tips");if(0===Number(n)||Number(n)<Number(Fe.value)||!u)return a("insufficientBalance");if("0"===String(Fe.value))return a("AmountCannotBeZero");if("ton"===s.chain){const n=(null==se?void 0:se.totalTransferAmount)||0,o=(null==(t=null==(l=null==(e=s.userBalanceTokens)?void 0:e.find)?void 0:l.call(e,e=>e.address===ze))?void 0:t.initBalance)||0;if(n&&new Ce(n).gt(o))return a("tonInsufficientBalance")}}function dl(e=!0){var l,t,n,o,i,r,u,d,c,v,m,p,f,h;if(ll&&(clearTimeout(ll),ll=null),el())if("sui"===s.chain){const a=null==(i=null==(o=null==(n=null==(t=null==(l=null==ae?void 0:ae.routes)?void 0:l[0])?void 0:t.hops)?void 0:n[0])?void 0:o.pool)?void 0:i.type,r=[s.fromToken,s.toToken].map((e,l)=>({symbol:e.symbol,nextAmm:0===l&&a||""}));le.value={swapRouterPath:r,fromAmount:Fe.value,toAmount:Ie.value,fromToken:s.fromToken,toToken:s.toToken,isAmountOut:!1},e&&(Ve.value=!0),Te.value=r}else if("solana"===s.chain){const l=[s.fromToken,s.toToken].map(e=>({symbol:e.symbol,nextAmm:""}));le.value={swapRouterPath:l,fromAmount:Fe.value,toAmount:Ie.value,fromToken:s.fromToken,toToken:s.toToken,isAmountOut:!1},e&&(Ve.value=!0)}else if("ton"===s.chain){const l=[s.fromToken,s.toToken].map((e,l)=>({symbol:e.symbol,nextAmm:0===l&&(null==se?void 0:se.dex)||""}));le.value={swapRouterPath:l,fromAmount:Fe.value,toAmount:Ie.value,fromToken:s.fromToken,toToken:s.toToken,isAmountOut:!1},e&&(Ve.value=!0),Te.value=l}else((null==(r=Ae.value)?void 0:r.isSunPump)||0)>0?(V.value=!0,da(Ae.value,me.value).then(async l=>{var a;ve.value={...l,isSunPump:null==(a=Ae.value)?void 0:a.isSunPump},le.value=l.swapInfo,le.value.gasValue=l.gasValue,le.value.swapRouterPath=Te.value,V.value=!1,e&&(Ve.value=!0)}).catch(e=>{V.value=!1,Jl(e)}),al(),tl()):(null==(u=Ae.value)?void 0:u.isFourMeme)?(V.value=!0,ca(Ae.value,me.value).then(async l=>{ve.value={...l,isFourMeme:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=Te.value,V.value=!1,e&&(Ve.value=!0)}).catch(e=>{V.value=!1,Jl(e)}),al(),tl()):(null==(d=Ae.value)?void 0:d.isERC314)?(V.value=!0,va(Ae.value).then(async l=>{ve.value={...l,isERC314:!0},le.value=l.swapInfo,le.value.gasValue=l.gasValue,le.value.swapRouterPath=Te.value,V.value=!1,e&&(Ve.value=!0)}).catch(e=>{V.value=!1,Jl(e)}),al(),tl()):(null==(c=Ae.value)?void 0:c.isDyorswapfun)?(V.value=!0,ma(Ae.value,me.value).then(async l=>{ve.value={...l,isDyorswapfun:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=Te.value,V.value=!1,e&&(Ve.value=!0)}).catch(e=>{V.value=!1,Jl(e)}),al(),tl()):(null==(v=Ae.value)?void 0:v.isXflapswap)?(V.value=!0,pa(Ae.value,me.value).then(async l=>{ve.value={...l,isXflapswap:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=Te.value,V.value=!1,e&&(Ve.value=!0)}).catch(e=>{V.value=!1,Jl(e)}),al(),tl()):(null==(m=Ae.value)?void 0:m.isCookPump)?(V.value=!0,fa(Ae.value,me.value).then(async l=>{ve.value={...l,isCookPump:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=Te.value,V.value=!1,e&&(Ve.value=!0)}).catch(e=>{V.value=!1,Jl(e)}),al(),tl()):(null==(p=Ae.value)?void 0:p.isPopMeFun)?(V.value=!0,ha(Ae.value,me.value).then(async l=>{ve.value={...l,isPopMeFun:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=Te.value,V.value=!1,e&&(Ve.value=!0)}).catch(e=>{V.value=!1,Jl(e)}),al(),tl()):(null==(h=null==(f=Ae.value)?void 0:f.routerPath)?void 0:h.length)>0&&(V.value=!0,xa(Ae.value,me.value).then(async l=>{ve.value=l,le.value={...l.swapInfo,fromToken:{...l.swapInfo.fromToken,...s.fromToken},toToken:{...l.swapInfo.fromToken,...s.toToken},fromAmount:Fe.value,toAmount:Ie.value,isAmountOut:l.swapInfo.isAmountOut||!1},le.value.gasValue=l.gasValue,le.value.swapRouterPath=Te.value,V.value=!1,e&&(Ve.value=!0)}).catch(e=>{V.value=!1,Jl(e)}),al(),tl());else te.alert(ul(),a("tips"),{confirmButtonText:a("okay")})}function cl(e,l){te.alert(l,e,{confirmButtonText:a("getIt")}).then(()=>{})}function vl(){var e,l,a,t;if(!Fe.value||!Ie.value)return"--";let n=Fe.value,o=Ie.value;if(z.value){let s=(null==(e=Ae.value)?void 0:e.totalTax)||((null==(l=Ae.value)?void 0:l.total_sell_tax)||0)+((null==(a=Ae.value)?void 0:a.total_buy_tax)||0);s=Math.min(49,s),(null==(t=Ae.value)?void 0:t.isAmountOut)?n=new Ce(n).times(100+s).div(100):o=new Ce(o).times(100-s).div(100)}const i=["solana","sui","ton"].includes(I.value),r=i?J.value[0]:Ae.value.from_price,u=i?J.value[1]:Ae.value.to_price;return r&&u?0===s.activeTab?G(Number(Fe.value||0)/Number(Ie.value)/(u/r)*u):1===s.activeTab?G(Number(Ie.value||0)/Number(Fe.value)/(r/u)*r):void 0:"--"}function ml(e){Q.value=!1,$e.value=e,nl()}function pl(e,l=""){var a,t;return(null==e?void 0:e.hash)||(null==e?void 0:e.transactionHash)||(null==e?void 0:e.digest)||(null==e?void 0:e.txHash)||(null==(t=null==(a=null==e?void 0:e.transaction)?void 0:a.signatures)?void 0:t[0])||l||""}async function fl(e=ve.value){try{if("solana"===I.value)return void async function(){try{Le.value=1,ee.value=!0,V.value=!0;const e=le.value,t={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:Number(gl(e.fromTokenAmount||0,e.fromToken.decimals)),to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:Number(gl(e.toTokenAmount||0,e.toToken.decimals)),chain:c.chain,transaction:"",wallet_address:c.address};setTimeout(()=>{Ve.value||(V.value=!1,ee.value=!1)},6e3);let n="";ya(ne).then(l=>{var a,o;return n=pl(l),le.value.transaction=n,eo({chain:"solana",destination:"true"===localStorage.solanaProtection?"v1/blxrsol/sendSolTx":"/ave_nodes/rpc/solana/sendFastSwapTx",type:10,tx_hash:n,status:1,wallet:c.address,out_token:t.to_address,out_amount:e.toAmount,in_token:t.from_address,in_amount:e.fromAmount}),V.value=!1,ee.value=!1,Fe.value="",Ie.value="",null==(o=null==(a=q.value)?void 0:a.handleClick)||o.call(a,0),Le.value=3,"function"==typeof(null==l?void 0:l.wait)?l.wait():l}).then(e=>{if(e){const l=pl(e,n);lo({chain:"solana",tx_hash:l,status:100}),s.getTokenDetails(),s.getUserTokenList()}return e}).catch(e=>{"Timeout"===(e||(null==e?void 0:e.message))?l({type:"error",message:a("timeout_error")}):"Swap fail"===(e||(null==e?void 0:e.message))?l({type:"error",message:a("swapFail")}):Jl(e,"solana"),Pe(),V.value=!1,ee.value=!1})}catch(e){V.value=!1,ee.value=!1,Jl(e,"solana")}}();if("sui"===I.value)return void async function(){try{ee.value=!0,V.value=!0,Le.value=2;const e=le.value,l={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null==e?void 0:e.fromAmount,from_decimals:null==e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null==e?void 0:e.toAmount,to_decimals:null==e?void 0:e.toToken.decimals,chain:"sui",transaction:"",wallet_address:c.address};setTimeout(()=>{Ve.value||(V.value=!1,ee.value=!1)},6e3);let a="";const t=!0;wa({quoteResponse:ae,slippage:new Ce(U.value).div(100).toNumber()}).then(e=>Ta((null==e?void 0:e.tx)||e)).then(e=>{var n,o;return(null==e?void 0:e.digest)?(a=pl(e),le.value.transaction=a,t&&(l.transaction=a,eo({chain:"sui",destination:"wallet rpc",type:10,tx_hash:a,status:1,wallet:c.address,out_token:l.to_address,out_amount:le.value.toAmount,in_token:l.from_address,in_amount:le.value.fromAmount})),V.value=!1,ee.value=!1,Fe.value="",Ie.value="",null==(o=null==(n=q.value)?void 0:n.handleClick)||o.call(n,0),Le.value=3,"function"==typeof(null==e?void 0:e.wait)?e.wait():e):Promise.reject("Swap fail")}).then(e=>{const l=pl(e,a);if(l)return lo({chain:"sui",tx_hash:l,status:100}),s.getTokenDetails(),s.getUserTokenList(),e}).catch(e=>{Le.value=1,V.value=!1,ee.value=!1,Jl(e,"solana"),Pe()})}catch(e){Le.value=1,V.value=!1,ee.value=!1,Jl(e,"solana")}}();if("ton"===I.value)return void async function(){try{ee.value=!0,V.value=!0,Le.value=2;const e=le.value,t={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null==e?void 0:e.fromAmount,from_decimals:null==e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null==e?void 0:e.toAmount,to_decimals:null==e?void 0:e.toToken.decimals,chain:"ton",transaction:"",wallet_address:c.address};setTimeout(()=>{Ve.value||(V.value=!1,ee.value=!1)},6e3);const n=!0,o=[{address:null==se?void 0:se.to,amount:null==se?void 0:se.totalTransferAmount,payload:null==se?void 0:se.payload}],i=await Ca(t);i&&o.push(i);let r="";Aa(o).then(e=>{var l,a;return r=pl(e),le.value.transaction=r,eo({chain:"ton",destination:"wallet rpc",type:10,tx_hash:r,status:1,wallet:c.address,out_token:t.to_address,out_amount:le.value.toAmount,in_token:t.from_address,in_amount:le.value.fromAmount}),n&&(t.transaction=r),V.value=!1,ee.value=!1,Fe.value="",Ie.value="",null==(a=null==(l=q.value)?void 0:l.handleClick)||a.call(l,0),Le.value=3,"function"==typeof(null==e?void 0:e.wait)?e.wait():e}).then(async e=>{if(e){const l=pl(e,r);lo({chain:"ton",tx_hash:l,status:100}),s.getTokenDetails(),s.getUserTokenList()}else lo({chain:"ton",tx_hash:t.transaction,status:-100}),l({type:"error",message:a("tradeFail")});return e}).catch(e=>{"Timeout"===(e||(null==e?void 0:e.message))?l({type:"error",message:a("timeout_error")}):"Swap fail"===(e||(null==e?void 0:e.message))?l({type:"error",message:a("tradeFail")}):Jl(e),Le.value=1,V.value=!1,ee.value=!1,Pe()})}catch(e){Le.value=1,V.value=!1,ee.value=!1,Jl(e)}}();ee.value=!0,V.value=!0;await e.swapCallStatic();const t=e.swapInfo,n=(t.fromToken.isWrapper&&t.toToken.isETH||t.toToken.isWrapper&&t.fromToken.isETH,{from_address:t.fromToken.address,from_symbol:t.fromToken.symbol,from_amount:Number(gl(t.fromTokenAmount||0,t.fromToken.decimals)),to_address:t.toToken.address,to_symbol:t.toToken.symbol,to_amount:Number(gl(t.toTokenAmount||0,t.toToken.decimals)),chain:I.value,transaction:"",wallet_address:c.address});Le.value=2;let o="";ve.value.swap().then(e=>{var l,a;return o=pl(e),le.value.transaction=o,eo({chain:I.value,destination:"wallet rpc",type:10,tx_hash:o,status:1,wallet:c.address,out_token:n.to_address,out_amount:Number(gl(t.toTokenAmount||0,t.toToken.decimals)),in_token:n.from_address,in_amount:Number(gl(t.fromTokenAmount||0,t.fromToken.decimals))}),V.value=!1,ee.value=!1,Fe.value="",Ie.value="",null==(a=null==(l=q.value)?void 0:l.handleClick)||a.call(l,0),Le.value=3,"function"==typeof(null==e?void 0:e.wait)?e.wait():e}).then(e=>{var l,a;const t=pl(e,o);return lo({chain:I.value,tx_hash:t,status:100,to:(null==(a=null==(l=null==e?void 0:e.to)?void 0:l.toLowerCase)?void 0:a.call(l))||""}),$e.value=0,Se.value=[],setTimeout(()=>{s.getTokenDetails(),s.getUserTokenList(),Oe(),"tron"!==s.token1.chain&&"tron"!==s.token2.chain||setTimeout(()=>{s.getTokenDetails()},3e3)},1e3),e}).catch(e=>{Le.value=1,Pe(),V.value=!1,ee.value=!1,Jl(e,"swap")})}catch(t){V.value=!1,ee.value=!1,Jl(t,"swap")}}return r([()=>s.fromToken.address,()=>c.address],()=>{s.fromToken.address&&Oe()}),r([()=>s.fromToken.address,()=>s.toToken.address],()=>{Fe.value="",Ie.value="",$e.value=0,Pe()}),(e,l)=>{var a,n,o,i,r,u,d,P,R,H;const j=_e,z=ke,W=b;return f(),_(y,null,[x("form",{class:"swap-container",action:"",onSubmit:F(rl,["prevent","stop"])},[x("div",Hx,[x("div",Ox,[C(ch,{token:p(s).token1,"onUpdate:token":[l[0]||(l[0]=e=>p(s).token1=e),Re],tokens:p(s).swapTokens,chain:p(s).chain},null,8,["token","tokens","chain"]),l[26]||(l[26]=x("span",{style:{flex:"1"}},null,-1)),x("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${p(G)((null==(a=p(s).token1)?void 0:a.balance)||0)}`},null,8,jx),1===p(s).activeTab?(f(),_("button",{key:0,class:"max-btn",type:"button",onClick:l[1]||(l[1]=F(e=>je(100),["stop"]))},k(e.$t("max")),1)):m("",!0)]),x("div",zx,[0===p(s).activeTab?(f(),v(j,{key:0,modelValue:p(Ie),"onUpdate:modelValue":[l[2]||(l[2]=e=>L(Ie)?Ie.value=e:null),l[3]||(l[3]=e=>{var l;Ie.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Ye()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:p(Be),onFocus:l[4]||(l[4]=e=>{var l;return null==(l=p(q))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):m("",!0),1===p(s).activeTab?(f(),v(j,{key:1,modelValue:p(Fe),"onUpdate:modelValue":[l[5]||(l[5]=e=>L(Fe)?Fe.value=e:null),l[6]||(l[6]=e=>{var l;Fe.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),qe()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[7]||(l[7]=e=>{var l;return null==(l=p(q))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):m("",!0)])]),x("div",Wx,[x("div",qx,[C(ch,{token:p(s).token2,"onUpdate:token":[l[8]||(l[8]=e=>p(s).token2=e),He],tokens:p(s).swapTokens,chain:p(s).chain},null,8,["token","tokens","chain"]),l[27]||(l[27]=x("span",{style:{flex:"1"}},null,-1)),x("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${p(G)(p(s).token2.balance||0)}`},null,8,Gx),0===p(s).activeTab?(f(),_("button",{key:0,class:"max-btn",type:"button",onClick:l[9]||(l[9]=F(e=>je(100),["stop"]))},k(e.$t("max")),1)):m("",!0)]),x("div",Yx,[1===p(s).activeTab?(f(),v(j,{key:0,modelValue:p(Ie),"onUpdate:modelValue":[l[10]||(l[10]=e=>L(Ie)?Ie.value=e:null),l[11]||(l[11]=e=>{var l;Ie.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Ye()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:p(Be),onFocus:l[12]||(l[12]=e=>{var l;return null==(l=p(q))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):m("",!0),0===p(s).activeTab?(f(),v(j,{key:1,modelValue:p(Fe),"onUpdate:modelValue":[l[13]||(l[13]=e=>L(Fe)?Fe.value=e:null),l[14]||(l[14]=e=>{var l;Fe.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),qe()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[15]||(l[15]=e=>{var l;return null==(l=p(q))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):m("",!0)])]),C(Rx,{ref:"percentStepInf",activeColor:0===p(s).activeTab?("upColor"in e?e.upColor:p(xe))[0]:("downColor"in e?e.downColor:p(ge))[0],onChange:je},null,8,["activeColor"]),p(c).address?p(c).address&&!p(c).provider?(f(),v(z,{key:1,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:h(()=>[N(k(e.$t("watchWalletNotSwap")),1)]),_:1})):ol()?p(pe)?(f(),v(z,{key:4,class:"submit-btn",loading:p(V)||p(S)||p(T),color:p(ye),disabled:p(fe)&&(null==(o=null==(n=p(fe))?void 0:n.gt)?void 0:o.call(n,.4))||!el()||!p(Fe)||!p(Ie),"native-type":"submit"},{default:h(()=>{var l,a,t,n,o,i;return[0===Number(p(s).fromToken.balance)||Number(p(s).fromToken.balance)<Number(p(Fe))||""===p(c).address||(p(s).isERC314||p(s).isFourMeme||p(s).isFlap||p(s).isSunPump>0||p(s).isDyorswapfun||p(s).isXflapswap||p(s).isCookPump||p(s).isPopMeFun)&&p(s).token2.address!==("NATIVE_TOKEN"in e?e.NATIVE_TOKEN:p(ze))||(p(s).isPump||p(s).isMoonshot)&&"So11111111111111111111111111111111111111112"!==p(s).token2.address||p(Me)?(f(),_("span",Qx,k(ul()||(0===p(s).activeTab?e.$t("buy"):e.$t("sell"))+" "+(null==(l=p(s).token1)?void 0:l.symbol)||""),1)):p(fe)&&(null==(t=null==(a=p(fe))?void 0:a.gt)?void 0:t.call(a,.4))?(f(),_("span",Kx,k(e.$t("priceImpactTooHigh")),1)):(f(),_(y,{key:2},[x("span",null,k(p(fe)&&(null==(o=null==(n=p(fe))?void 0:n.gt)?void 0:o.call(n,.1))?0===p(s).activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===p(s).activeTab?e.$t("buy"):e.$t("sell"))+" "+k((null==(i=p(s).token1)?void 0:i.symbol)||""),1),p(we)?(f(),_("span",{key:0,style:{"font-size":"12px"},innerHTML:p(we)},null,8,Xx)):m("",!0)],64))]}),_:1},8,["loading","color","disabled"])):(f(),v(z,{key:3,class:"submit-btn",color:p(ye),"native-type":"submit",loading:p(B)||p(V)||p(T),disabled:Number(p(s).fromToken.balance)<Number(p(Fe))},{default:h(()=>{var l,a;return[N(k(0===Number(p(s).fromToken.balance)||Number(p(s).fromToken.balance)<Number(p(Fe))||""===p(c).address?p(fe)&&(null==(a=null==(l=p(fe))?void 0:l.gt)?void 0:a.call(l,.4))?e.$t("priceImpactTooHigh"):ul()||e.$t("approve"):e.$t("approve")),1)]}),_:1},8,["color","loading","disabled"])):(f(),v(z,{key:2,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:h(()=>[N(k(il()),1)]),_:1})):(f(),v(z,{key:0,"native-type":"button",class:"submit-btn",color:"#286DFF",onClick:l[16]||(l[16]=F(l=>("useBotStore"in e?e.useBotStore:p(O))().changeConnectVisible(!0,1),["stop"]))},{default:h(()=>[N(k(e.$t("pConnectWallet")),1)]),_:1})),x("ul",Zx,[x("li",Jx,[x("span",null,k(e.$t("slippage")),1),C(W,{class:"ml-2px color-[--secondary-text]! clickable",name:"material-symbols:help-outline",onClick:l[17]||(l[17]=F(l=>cl(e.$t("slippage"),e.$t("minimumReceivedTips")),["stop"]))}),l[28]||(l[28]=x("span",{style:{flex:"1"}},null,-1)),"solana"===p(I)?(f(),v(wh,{key:0,slippage:p(E),"onUpdate:slippage":l[18]||(l[18]=e=>L(E)?E.value=e:null),canSetAuto:!1},null,8,["slippage"])):(null==(i=["sui","ton"])?void 0:i.includes(p(I)))?(f(),v(wh,{key:1,slippage:p(U),"onUpdate:slippage":l[19]||(l[19]=e=>L(U)?U.value=e:null),canSetAuto:!1},null,8,["slippage"])):(f(),v(wh,{key:2,slippage:p(D),"onUpdate:slippage":l[20]||(l[20]=e=>L(D)?D.value=e:null),autoSlippage:p(M)},null,8,["slippage","autoSlippage"]))]),g(x("li",null,[x("div",eg,[x("span",null,k(e.$t("estimatedAveragePrice")),1)]),x("div",lg,[x("span",null,"$"+k(vl()),1)])],512),[[ie,p(Fe)&&p(Ie)]]),g(x("li",null,[x("div",ag,[x("span",null,k(e.$t("priceImpact")),1),x("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[21]||(l[21]=F(l=>cl(e.$t("priceImpact"),e.$t("priceImpactTips")),["stop"]))})]),x("div",{style:A({color:p(be)})},k(p(he))+k(p(fe)&&(null==(u=null==(r=p(fe))?void 0:r.gt)?void 0:u.call(r,.05))?`(${e.$t("excessivePriceImpact")})`:""),5)],512),[[ie,p(Fe)&&p(Ie)&&!p(s).isDyorswapfun]]),g(x("li",null,[x("div",tg,[x("span",null,k(e.$t("tokenRoute")),1),x("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[22]||(l[22]=F(l=>cl(e.$t("tokenRoute"),e.$t("tokenRouteTips")),["stop"]))})]),(null==(d=["solana","sui"])?void 0:d.includes(p(I)))?(f(),_("div",ng,[(f(!0),_(y,null,w([p(s).fromToken,p(s).toToken],(e,l)=>(f(),_(y,{key:l},[0!==l?(f(),_("img",og)):m("",!0),e.symbol?(f(),_("span",sg,k(e.symbol),1)):m("",!0)],64))),128))])):"ton"===p(I)?(f(),_("div",ig,[(f(!0),_(y,null,w(p(Te),(e,a)=>(f(),_(y,{key:a},[e.symbol?(f(),_("span",rg,k(e.symbol),1)):m("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(f(),_("div",ug,[x("img",{class:"icon-amm-logo rounded",src:`${p(t).token_logo_url}swap/${e.nextAmm}.jpeg`,alt:"",srcset:"",onerror:"this.src='/icon-default.png'"},null,8,dg),l[29]||(l[29]=x("img",{style:{width:"15px",margin:"1px 5px 0"},src:Pf,alt:"",srcset:""},null,-1))])):m("",!0)],64))),128))])):1===(null==(P=p(Ae))?void 0:P.toWrapper)||2===(null==(R=p(Ae))?void 0:R.toWrapper)?(f(),_("div",cg,[(f(!0),_(y,null,w(p(Te),(e,l)=>(f(),_(y,{key:l},[0!==l?(f(),_("img",vg)):m("",!0),e.symbol?(f(),_("span",mg,k(e.symbol),1)):m("",!0)],64))),128))])):(f(),_("div",{key:3,class:"path-list clickable",onClick:l[23]||(l[23]=F(e=>!p(s).isFourMeme&&!p(s).isSunPump&&(Q.value=!0),["stop","prevent"]))},[(f(!0),_(y,null,w(p(Te),(e,a)=>(f(),_(y,{key:a},[e.symbol?(f(),_("span",pg,k(e.symbol),1)):m("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(f(),_("div",fg,[x("img",{class:"icon-amm-logo rounded",src:`${p(t).token_logo_url}swap/${e.nextAmm}.jpeg`,alt:"",srcset:"",onerror:"this.src='/icon-default.png'"},null,8,hg),l[30]||(l[30]=x("img",{style:{width:"15px",margin:"1px 5px 0"},src:Pf,alt:"",srcset:""},null,-1))])):m("",!0)],64))),128)),p(Y).length>0?(f(),_("i",xg)):m("",!0)]))],512),[[ie,p(Fe)&&p(Ie)]]),!(null==(H=["solana","sui","ton","tron"])?void 0:H.includes(p(I)))&&Number(p(ce))>0?(f(),_("li",gg,[x("div",kg,k(e.$t("estimatedGas")),1),x("div",null,"≈ $"+k(p(ce)),1)])):m("",!0)])],32),C(Mh,{visible:p(Q),"onUpdate:visible":l[24]||(l[24]=e=>L(Q)?Q.value=e:null),listRouter:p(Y),isAmount:p($),selectedRouterIndex:p($e),onGetSelectedRouter:ml},null,8,["visible","listRouter","isAmount","selectedRouterIndex"]),C(Mx,{visible:p(Ve),"onUpdate:visible":l[25]||(l[25]=e=>L(Ve)?Ve.value=e:null),swapInfo:p(le),swapQuoteInfo:p(Ae),slippage:"solana"===p(I)?p(E):"ton"===p(I)||"sui"===p(I)?p(U):p(me),loading:p(ee),chain:p(I),nativePrice:p(de),gasPrice:p(ue),activeShow:p(Le),onSubmit:fl},null,8,["visible","swapInfo","swapQuoteInfo","slippage","loading","chain","nativePrice","gasPrice","activeShow"])],64)}}}),[["__scopeId","data-v-8c05d884"]]),yg={class:"relative"},wg=B(t({__name:"solanaLimitExpired",props:{expiredTime:{type:[Number,null],default:null}},emits:["update:visible","update:expiredTime"],setup(e,{emit:l}){const{t:a}=n(),t=e,o=l,s=Sl("selectRef"),i=u(()=>[{name:a("never"),value:""},{name:a("10min"),value:600},{name:a("1h"),value:3600},{name:a("1d"),value:86400},{name:a("3d"),value:259200},{name:a("7d"),value:604800}].map(e=>e.value===t.expiredTime?{...e,color:"#286DFF "}:e)),r=u(()=>{var e;return null==(e=i.value.find(e=>e.value===(null===t.expiredTime?"":t.expiredTime)))?void 0:e.name}),d=u({get:()=>null===t.expiredTime?"":t.expiredTime,set(e){o("update:expiredTime",""===e?null:e)}});return(e,l)=>{const a=b,t=gn,n=xn;return f(),_("div",yg,[x("div",{class:"select-container clickable",onClick:l[0]||(l[0]=F(e=>{var l,a;return null==(a=null==(l=p(s))?void 0:l.focus)?void 0:a.call(l)},["stop"]))},[x("span",null,k(p(r)),1),C(a,{class:"clickable text-12px color-#999 ml-5px",name:"solar:alt-arrow-down-bold"})]),C(n,{ref_key:"selectRef",ref:s,modelValue:p(d),"onUpdate:modelValue":l[1]||(l[1]=e=>L(d)?d.value=e:null),placeholder:"Select",size:"small",persistent:!1,style:{width:"80px",opacity:"0",position:"absolute",right:"0",top:"50%",transform:"translateY(-50%)"}},{default:h(()=>[(f(!0),_(y,null,w(p(i),e=>(f(),v(t,{key:e.value,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-93437689"]]),Tg={key:0},Cg={key:1},Ag={key:1},Sg={key:2},Ng={class:"swap-info"},$g={key:0,class:"swap-info_item"},Fg={class:"swap-info_item-label"},Ig=["innerHTML"],Lg={class:"swap-info_item"},Vg={class:"swap-info_item-label"},Bg={class:"swap-info_item-value"},Mg=["src"],Dg=["innerHTML"],Eg={class:"ml-5px"},Pg={class:"swap-info_item"},Ug={class:"swap-info_item-label"},Rg={class:"swap-info_item-value"},Hg=["innerHTML"],Og={style:{color:"var(--custom-primary-color)"}},jg={class:"swap-info_item"},zg={class:"swap-info_item-label"},Wg={class:"swap-info_item-value"},qg=["src"],Gg=["innerHTML"],Yg={class:"ml-5px"},Qg={class:"swap-info_item"},Kg={class:"swap-info_item-label"},Xg={class:"swap-info_item-value"},Zg=["src"],Jg=["innerHTML"],ek={class:"ml-5"},lk={class:"swap-info_item"},ak={class:"swap-info_item-label"},tk={class:"swap-info_item-value"},nk=["innerHTML"],ok={style:{color:"var(--custom-primary-color)"}},sk={class:"swap-info_item"},ik={class:"swap-info_item-label"},rk={class:"swap-info_item-value"},uk=["src"],dk=["innerHTML"],ck={class:"ml-5"},vk={key:3,class:"swap-info_item"},mk={class:"swap-info_item-label"},pk=["innerHTML"],fk={class:"swap-info_item tips warning"},hk={class:"swap-info_item tips warning"},xk={key:0,class:"swap-info_item tips warning"},gk={key:1,class:"swap-info_item tips warning"},kk={key:1,class:"swap-info center"},bk={class:"mt-20"},_k={class:"swap-info center"},yk={class:"mt-20px"},wk={class:"footer"},Tk=B(t({__name:"confirmLimit",props:{visible:{type:Boolean,default:!1},limitInfo:{type:Object,default:()=>{}},loading:{type:Boolean,default:!1},chain:{type:String,default:""},limitGasU:{type:String,default:""},activeShow:{type:Number,default:0}},emits:["update:visible","submit"],setup(e,{emit:l}){const a=e,t=l,n=u({get:()=>a.visible,set(e){t("update:visible",e)}});function o(e){var l;return e.logoURI&&!(null==(l=null==e?void 0:e.logoURI)?void 0:l.includes("empty-token"))?e.logoURI:me({symbol:null==e?void 0:e.symbol,chain:null==e?void 0:e.chain,logo_url:null==e?void 0:e.logo_url})}function s(){window.open(K(a.chain,a.limitInfo.transaction,"tx"))}return(l,a)=>{const i=ke,r=Ll,u=b,d=De;return p(n)?(f(),v(d,{key:0,modelValue:p(n),"onUpdate:modelValue":a[1]||(a[1]=e=>L(n)?n.value=e:null),width:"446px","destroy-on-close":""},{header:h(()=>[1===e.activeShow?(f(),_(y,{key:0},[0===e.limitInfo.orderType?(f(),_("span",Tg,k(0===e.limitInfo.activeTab?l.$t("limitBuy"):l.$t("limitSell")),1)):m("",!0),1===e.limitInfo.orderType?(f(),_("span",Cg,k(0===e.limitInfo.activeTab?l.$t("stopLimitBuy"):l.$t("stopLimitSell")),1)):m("",!0)],64)):2===e.activeShow?(f(),_("span",Ag,k(l.$t("waitForConfirming")),1)):3===e.activeShow?(f(),_("span",Sg,k(l.$t("tradeConfirmed")),1)):m("",!0)]),default:h(()=>{var n,d,c,v,g,b,w,T,S,$,I,L,V,B,M,D,E,P,U,R,H,O,j;return[1==e.activeShow?(f(),_(y,{key:0},[x("ul",Ng,[1===e.limitInfo.orderType?(f(),_("li",$g,[x("div",Fg,k(l.$t("limitEffective")),1),x("div",{class:"swap-info_item-value",innerHTML:l.$t("triggerPriceEffective",{symbol:1===e.limitInfo.activeTab?(null==(d=null==(n=e.limitInfo)?void 0:n.fromToken)?void 0:d.symbol)||"":(null==(v=null==(c=e.limitInfo)?void 0:c.toToken)?void 0:v.symbol)||"",price:("formatNumber"in l?l.formatNumber:p(G))((null==(g=e.limitInfo)?void 0:g.triggerPrice)||0)})},null,8,Ig)])):m("",!0),0===e.limitInfo.activeTab?(f(),_(y,{key:1},[x("li",Lg,[x("div",Vg,k(l.$t("limitBuy")),1),x("div",Bg,[x("img",{class:"icon-token",src:o(e.limitInfo.toToken),alt:"",height:"20"},null,8,Mg),x("span",{innerHTML:("formatNumber"in l?l.formatNumber:p(G))(e.limitInfo.toAmount||0)},null,8,Dg),x("span",Eg,k((null==(w=null==(b=e.limitInfo)?void 0:b.toToken)?void 0:w.symbol)||""),1)])]),x("li",Pg,[x("div",Ug,k(l.$t("limitPrice"))+"("+k(1===e.limitInfo.activeTab?(null==(S=null==(T=e.limitInfo)?void 0:T.fromToken)?void 0:S.symbol)||"":(null==(I=null==($=e.limitInfo)?void 0:$.toToken)?void 0:I.symbol)||"")+")",1),x("div",Rg,[x("span",{innerHTML:`$${("formatNumber"in l?l.formatNumber:p(G))(e.limitInfo.targetLimitPrice||0)}`},null,8,Hg),x("span",Og,"("+k(l.$t("auto-submitWhenPriceBuy"))+")",1)])]),x("li",jg,[x("div",zg,k(l.$t("expectedPayment")),1),x("div",Wg,[x("img",{class:"icon-token",src:o(e.limitInfo.fromToken),alt:"",height:"20"},null,8,qg),x("span",{innerHTML:("formatNumber"in l?l.formatNumber:p(G))(e.limitInfo.fromAmount||0)},null,8,Gg),x("span",Yg,k((null==(V=null==(L=e.limitInfo)?void 0:L.fromToken)?void 0:V.symbol)||""),1)])])],64)):m("",!0),1===e.limitInfo.activeTab?(f(),_(y,{key:2},[x("li",Qg,[x("div",Kg,k(l.$t("limitSell")),1),x("div",Xg,[x("img",{class:"icon-token",src:o(e.limitInfo.fromToken),alt:"",height:"20"},null,8,Zg),x("span",{innerHTML:("formatNumber"in l?l.formatNumber:p(G))(e.limitInfo.fromAmount||0)},null,8,Jg),x("span",ek,k((null==(M=null==(B=e.limitInfo)?void 0:B.fromToken)?void 0:M.symbol)||""),1)])]),x("li",lk,[x("div",ak,k(l.$t("limitPrice"))+"("+k(1===e.limitInfo.activeTab?(null==(E=null==(D=e.limitInfo)?void 0:D.fromToken)?void 0:E.symbol)||"":(null==(U=null==(P=e.limitInfo)?void 0:P.toToken)?void 0:U.symbol)||"")+")",1),x("div",tk,[x("span",{innerHTML:`$${("formatNumber"in l?l.formatNumber:p(G))(e.limitInfo.targetLimitPrice||0)}`},null,8,nk),x("span",ok,"("+k(l.$t("auto-submitWhenPriceSell"))+")",1)])]),x("li",sk,[x("div",ik,k(l.$t("expectedReceivable")),1),x("div",rk,[x("img",{class:"icon-token",src:o(e.limitInfo.toToken),alt:"",height:"20"},null,8,uk),x("span",{innerHTML:("formatNumber"in l?l.formatNumber:p(G))(e.limitInfo.toAmount||0)},null,8,dk),x("span",ck,k((null==(H=null==(R=e.limitInfo)?void 0:R.toToken)?void 0:H.symbol)||""),1)])])],64)):m("",!0),"solana"!==e.chain?(f(),_("li",vk,[x("div",mk,k(l.$t("estimateGas")),1),x("div",{class:"swap-info_item-value",style:{"text-align":"right"},innerHTML:l.$t("estimateGasTips",{n:("formatNumber"in l?l.formatNumber:p(G))(e.limitGasU??1,1)})},null,8,pk)])):m("",!0),"solana"!==e.chain?(f(),_(y,{key:4},[x("li",fk,"* "+k(l.$t("limitFeeTip")),1),x("li",hk,"* "+k(l.$t("limitTokenTips")),1),(null==(j=null==(O=e.limitInfo)?void 0:O.fromToken)?void 0:j.address)===p(ze)?(f(),_("li",xk,k(l.$t("limitTips1")),1)):(f(),_("li",gk,k(l.$t("limitTips2")),1))],64)):m("",!0)]),x("div",{class:"footer",style:A({"padding-bottom":"solana"!==e.chain?"10px":"0"})},[C(i,{class:"swap-button w-full",type:"primary",size:"large",loading:e.loading,"loading-text":l.$t("confirming"),block:"",onClick:a[0]||(a[0]=F(e=>t("submit"),["stop"]))},{default:h(()=>[N(k(l.$t("confirm")),1)]),_:1},8,["loading","loading-text"])],4)],64)):2==e.activeShow?(f(),_("div",kk,[C(r,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:h(()=>[C(p(Dl))]),_:1}),x("span",bk,k(l.$t("plsConfirmWallet")),1)])):3==e.activeShow?(f(),_(y,{key:2},[x("div",_k,[C(u,{name:"lineicons:arrow-up-circle",class:"text-110px"}),x("span",yk,k(l.$t("plsViewBlockChainExplorer")),1)]),x("div",wk,[C(i,{class:"swap-button w-full",type:"primary",size:"large",block:"",onClick:F(s,["stop"])},{default:h(()=>[N(k(l.$t("viewTransition")),1)]),_:1})])],64)):m("",!0)]}),_:1},8,["modelValue"])):m("",!0)}}}),[["__scopeId","data-v-ca556448"]]);async function Ck(e){const{from_token:l,to_token:a,amountIn:t,amountOut:n}=e,o=await function(e){let l="Lifinity V1,Lifinity V2,Phoenix,Openbook,OpenBook V2";sessionStorage.isMoonshot||sessionStorage.isMeteora||(l+=",Meteora,Meteora DLMM");const a={...e,restrictIntermediateTokens:!0,excludeDexes:l};a.inputMint===ze&&(a.inputMint="So11111111111111111111111111111111111111112");a.outputMint===ze&&(a.outputMint="So11111111111111111111111111111111111111112");return Oa({method:"get",url:"https://api.jup.ag/swap/v1/quote",params:a},"v3")}({inputMint:l,outputMint:a,amount:t||n||"",slippageBps:200,swapMode:t?"ExactIn":"ExactOut"});return{...o,chain:"solana"}}function Ak(e,{chain:l,QuoteContract:a,swapContract:t,gasPrice:n,nativePrice:o,amountIn:s,amountOut:i,balance:r,allowanceAmount:u,fromIsETH:d,toIsETH:c,mainName:v,from_token:m,to_token:p}){var f;let h="0";if(!e.pair_path||0===(null==(f=e.pair_path)?void 0:f.length)||!e.token_path||0===e.token_path.length)return Promise.resolve({routerPath:[],routerPairPath:[]});const x=e.pair_path.map(e=>{var a;return(null==(a=ja)?void 0:a.includes(l))?{pair:"v4"===e.protocol?"0x".padEnd(42,"0"):e.pair,tokenIn:e.token_in,tokenOut:e.token_out,router:e.amm_router,poolId:"v4"===e.protocol?e.pair:"0x".padEnd(66,"0")}:{pair:e.pair,tokenIn:e.token_in,tokenOut:e.token_out,router:e.amm_router}});let g=1;"arbitrum"===l?g=3.5:("optimism"===l||"base"===l)&&(g=4);const k=j();return Number(s)?a.getAmountsOut.staticCall(x,s).then(async a=>{var i,f,b,_;let y=e.token_path.map((e,l)=>({...e,amount:a[l].toString()}));d&&(y[0].isETH=d,y[0].symbol=v),c&&(y[y.length-1].isETH=c,y[y.length-1].symbol=v);let w=0;if(u.gte(s)&&r.gte(s)){const r=k.address,u=String(e.feeIn??"2"),d=30,c=za(k.address);let v={srcToken:m,dstToken:p,srcReceiver:0!==Number(x[0].router)?e.pair_path[0].pair:t.address,dstReceiver:r,amount:s,minReturnAmount:"1",feeIn:u,feeRate:d,feeTo:za(k.address),receiveRate:0,referrer:c,path:x,routerPath:[]};(null==(i=ja)?void 0:i.includes(l))&&(v={srcToken:m,dstToken:p,amount:s,minReturnAmount:"1",feeIn:u,feeRate:d,feeTo:za(k.address),minLiquidity:"0",maxLiquidity:"0",referRates:[0],referrers:[c],paths:x});const _=m===ze?s:"0",C=null==a?void 0:a[y.length-1];try{const a=new Ce(await(null==(f=null==t?void 0:t[Wa(l)])?void 0:f.staticCall(v,{value:_})));w=Number(((1e4-a.times(1e4).div(C).toNumber()-d)/100).toFixed(2))||0,w>0&&(y[y.length-1].amount=a.toString()),(e.total_sell_tax||0)>0&&(g=2,"arbitrum"===l?g=4:"eth"===l?g=2.3:("optimism"===l||"base"===l)&&(g=4.5));const s=new Ce("360000"),i=null==(b=y[y.length-1])?void 0:b.decimals,r=new Ce(o.toString()),u=new Ce(e.to_price.toString()),c=new Ce(n.toString()).times(r).times(s.toString()).times(g).div(u).times(10**(i-18)).toFixed(0);h=new Ce(n.toString()).times(r).times(s.toString()).times(g).div(10**18).toFixed(),c&&(y[y.length-1].amount=a.minus(c).toString())}catch(T){}}else{w=new Ce(e.total_buy_tax||0).plus(e.total_sell_tax||0)||new Ce(0);let l=new Ce("360000");(e.total_sell_tax||0)>0?l=l.times(2):w.gt(0)&&(l=l.times(1.5));const t=null==a?void 0:a[y.length-1],s=new Ce(e.to_price.toString()),i=null==(_=y[y.length-1])?void 0:_.decimals,r=new Ce(o.toString()),u=new Ce(n.toString()).times(r).times(l.toString()).div(s).times(10**(i-18)).toFixed(0);let d=new Ce(t.toString()).times(new Ce(100).minus(w)).div(100);d.gt(u)&&(d=d.minus(u)),h=new Ce(n.toString()).times(r).times(l.toString()).times(g).div(10**18).toFixed(),y[y.length-1].amount=d.toFixed(0)}return y=y.map(e=>({...e,address:e.isETH?ze:e.address})),y[0].price=e.from_price,y[y.length-1].price=e.to_price,{routerPath:y,routerPairPath:x,...e,totalTax:Math.max(Number(w.toFixed()),0),isAmountOut:!1,gas:"0".toString(),gasU:h}}):i?a.getAmountsIn.staticCall(x,i).then(async a=>{var s,f;let b=e.token_path.map((e,l)=>({...e,amount:a[l].toString()}));d&&(b[0].isETH=d,b[0].symbol=v),c&&(b[b.length-1].isETH=c,b[b.length-1].symbol=v);const _=null==a?void 0:a[0];let y=0;if(u.gte(_)&&r.gte(_)){const a=k.address,u=String(e.feeIn??"2"),d=30,c=za(k.address),v=0,f={srcToken:m,dstToken:p,srcReceiver:0!==Number(x[0].router)?e.pair_path[0].pair:t.address,dstReceiver:a,amount:r.toString(),minReturnAmount:i,feeIn:u,feeRate:d,feeTo:c,receiveRate:et.test(l)?v:0,referrer:c,path:x,routerPath:[]},T=m===ze?f.amount:"0";try{const a=new Ce(await t.exactOutput.staticCall(f,{value:T}));y=Number(((1e4-_.times(1e4).div(a).toNumber()-d)/100).toFixed(2))||0,y>0&&(b[0].amount=a.toString()),(e.total_sell_tax||0)>0&&(g=2,"arbitrum"===l?g=4:"eth"===l?g=2.3:"optimism"===l?g=4.5:"base"===l&&(g=5));const i=new Ce("360000"),r=null==(s=b[0])?void 0:s.decimals,u=new Ce(o.toString()),c=new Ce(e.from_price.toString()),v=new Ce(n.toString()).times(u).times(i.toString()).times(g).div(c).times(10**(r-18)).toFixed(0);h=new Ce(n.toString()).times(u).times(i.toString()).times(g).div(10**18).toFixed(),v&&(b[0].amount=a.plus(v).toString())}catch(w){}}else{y=new Ce(e.total_buy_tax||0).plus(e.total_sell_tax||0)||new Ce(0);let t=new Ce("360000");(e.total_sell_tax||0)>0?t=t.times(2):y.gt(0)&&(t=t.times(1.5)),"arbitrum"===l&&(t=t.times(3.5)),"optimism"===l&&(t=t.times(4)),"base"===l&&(t=t.times(4.5));const s=null==a?void 0:a[0],i=null==(f=b[0])?void 0:f.decimals,r=new Ce(o.toString()),u=new Ce(e.from_price.toString()),d=new Ce(n.toString()).times(r).times(t.toString()).div(u).times(10**(i-18)).toFixed(0),c=new Ce(s.toString()).div(new Ce(100).minus(y)).times(100).plus(d);h=new Ce(n.toString()).times(r).times(t.toString()).div(10**18).toFixed(),b[0].amount=c.toFixed(0)}return b=b.map(e=>({...e,address:e.isETH?ze:e.address})),b[0].price=e.from_price,b[b.length-1].price=e.to_price,{routerPath:b,routerPairPath:x,...e,totalTax:Math.max(Number(y.toFixed()),0),isAmountOut:!0,gas:"0".toString(),gasU:h}}):Promise.resolve({routerPath:[],routerPairPath:[]})}async function Sk(e,l=null){const a=qa.deserialize(Ga.from(e,"base64")),t=await Ya(a,l);return{hash:t,wait:()=>Qa(t)}}async function Nk(e,l=j().address){const{fromToken:a,fromAmount:t,toToken:n,toAmount:o,expiredAt:s}=e,i={maker:l,payer:l,params:{makingAmount:t,takingAmount:o,expiredAt:s?String(s):void 0},inputMint:a,outputMint:n,computeUnitPrice:"auto"};return(r=i,Oa({method:"POST",url:"https://api.jup.ag/trigger/v1/createOrder",data:r})).then(e=>{const l=e.transaction;return{result:e,send:()=>Sk(l)}});var r}function $k({id:e,fromToken:l,fromAmount:t,toToken:n,toAmount:o,maker:s,salt:i,signature:r,minReturn:u,targetToken:d,targetLimitPrice:c,orderType:v,triggerPrice:m,currentPrice:p},f=j().chain){v=v||0,m=m||c,p=p||0;const{$api:h}=a();return h("/v1api/v2/aveswap/limitorder/add",{method:"post",body:{order_id:e,chain:f,from_token:l,from_amount:t,to_token:n,to_amount:o,maker:s,salt:i,signature:r,to_min_amount:u,target_token:d,target_limit_price:c,order_type:v,trigger_price:m,current_price:p}})}async function Fk({fromToken:e,fromAmount:l,toToken:t,minReturn:n,salt:o,id:s,order_id:i},r=j().chain){const u=await Fa(),d=new Va(Ua[r],Ra,u);return d.cancelOrder.estimateGas(e,l,t,n,o).then(u=>d.cancelOrder(e,l,t,n,o,{gasLimit:u.toString()}).then(e=>e.wait()).then(e=>function(e,l,t=j().chain){const{$api:n}=a();return n("/v1api/v2/aveswap/limitorder/cancel",{method:"post",body:{id:e,chain:t,order_id:l}})}(s,i,r)))}async function Ik(e,l=j().address){return function(e){const{$api:l}=a();return l("https://jup.ag/api/limit/v1/cancelOrders",{method:"post",body:e})}({owner:l,feePayer:l,orders:[e]}).then(e=>async function(e,l=null){const a=qa.deserialize(Ga.from(e,"base64")),t=Ka(),n=await Promise.all(a.message.addressTableLookups.map(async e=>new Xa({key:e.accountKey,state:Xa.deserialize(await t.getAccountInfo(e.accountKey).then(e=>e.data))}))),o=Za.decompile(a.message,{addressLookupTableAccounts:n});o.instructions=await Ja(o.instructions),a.message=o.compileToV0Message(n);const s=await Ya(a,l);return{hash:s,wait:()=>Qa(s)}}(e.tx))}async function Lk(e,l=j().address){return(a={maker:l,orders:[e],computeUnitPrice:"auto"},Oa({method:"post",url:"https://api.jup.ag/trigger/v1/cancelOrders",data:a})).then(e=>Sk(e.transactions[0]));var a}const Vk=["onClick"],Bk={class:"flex items-center"},Mk={key:0,class:"token-container"},Dk={class:"icon-token-container mr-5px"},Ek=["src"],Pk=["innerHTML"],Uk={class:"mr-5px text-12px label"},Rk={key:1,class:"token-container"},Hk=["innerHTML"],Ok={class:"flex items-center mt-5px"},jk={key:0,class:"token-container"},zk={class:"icon-token-container mr-5px"},Wk=["src"],qk=["innerHTML"],Gk={class:"flex items-center justify-between mt-5px"},Yk={class:"label mr-20px flex items-center"},Qk={key:0},Kk={class:"flex items-center"},Xk={key:0,class:"token-container"},Zk={class:"icon-token-container mr-5px"},Jk=["src"],eb=["innerHTML"],lb={class:"flex items-center mt-5px"},ab={key:0,class:"token-container"},tb={class:"icon-token-container mr-5px"},nb=["src"],ob=["innerHTML"],sb={class:"flex justify-between mt-10px"},ib={class:"label mr-20px"},rb={class:"token-container flex items-end flex-col",style:{"align-items":"end"}},ub={class:"text-12px",style:{"text-align":"right"}},db={class:"color-666 text-12px",style:{"text-align":"right"}},cb={class:"flex items-center justify-between mt-10px"},vb={class:"mr-20px label"},mb={key:0,class:"color-#999 text-12px",style:{"text-align":"right"}},pb={class:"label"},fb={key:1,class:"color-#999 text-12px"},hb={class:"label"},xb={key:0,class:"flex items-center justify-between mt-10px"},gb={class:"mr-20px label"},kb={class:"color-#999 text-12px"},bb=B(t({__name:"limitTxItem",props:{tableList:{type:Array,default:()=>[]}},emits:["refresh"],setup(e,{emit:l}){const a=l,t=j(),o=Pe(),s=re(),i=W(),r=Dx(),{t:u}=n(),d=P({}),c=P(!1);function g(e){const l="solana"===(null==e?void 0:e.chain)?u("cancelOrderConfirmingSolana"):u("confirmCancelMessage");te.confirm(l,u("cancelOrderConfirming"),{confirmButtonText:u("confirm"),cancelButtonText:u("cancel"),beforeClose:(l,t,n)=>{"confirm"===l?(n(),t.confirmButtonLoading=!0,"solana"===e.chain?b(e,()=>{t.confirmButtonLoading=!1}):function(e){if("solana"===e.chain)return void b(e);const l={fromToken:e.from_token||"",fromAmount:e.from_amount||"0",toToken:e.to_token||"",minReturn:e.to_min_amount||"0",salt:e.salt||"0",id:e.id||"",order_id:e.order_id||""};c.value=!0,Fk(l).then(l=>{ae.success(u("cancelledOrderSuccessfully")),a("refresh",e)}).catch(e=>{Jl(e)}).finally(()=>{c.value=!1})}(e)):n()}}).then(()=>{})}function b(e,l){d.value[e.orderKey]=!0;return("v1"===(null==e?void 0:e.version)?Ik:Lk)(e.orderKey).then(e=>(l&&l(),e.wait())).then(l=>{!function(e){if("solana"!==e.chain&&e.from_token!==ze)return;r.getTokenDetails()}(e),setTimeout(()=>{a("refresh",e,d.value)},3e3)}).catch(l=>{Jl(l,"solana"),d.value[e.orderKey]=!1}).finally(()=>{})}function T(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+lt<Date.now())return u("expired1");const l=e.status;return{0:"",1:u("cancelled"),2:u("completed"),3:u("unknownError1"),7:u("unknownError1"),4:u("notEnoughBalance"),5:u("insufficientSlippage1"),8:u("insufficientSlippage1"),6:u("transferFailed"),10:u("fail1"),11:u("fail1"),12:u("fail1"),13:u("fail1"),"-1":""}[l]??l}function S(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+lt<Date.now())return"#999999";const l=e.status;return 1===l||10===l||11===l||12===l?"#999999":2===l?"#12B886":0===l?"#286DFF":"#FF0000"}function $(e){const l=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"];return l.indexOf(e.from_token)<=l.indexOf(e.to_token)}function I(e){return $(e)?(null==e?void 0:e.from_token_symbol)||"":(null==e?void 0:e.to_token_symbol)||""}function L(e){return $(e)?G(new Ce(e.to_amount).times(10**((null==e?void 0:e.from_token_decimals)-(null==e?void 0:e.to_token_decimals))).times((null==e?void 0:e.to_token_price)||0).div(e.from_amount).toFixed()):G(new Ce(e.from_amount).times(10**((null==e?void 0:e.to_token_decimals)-(null==e?void 0:e.from_token_decimals))).times((null==e?void 0:e.from_token_price)||0).div(e.to_amount).toFixed())}function V(e){return $(e)?G(e.to_amount*10**((null==e?void 0:e.from_token_decimals)-(null==e?void 0:e.to_token_decimals))/e.from_amount)+" "+((null==e?void 0:e.to_token_symbol)||"")+" per "+((null==e?void 0:e.from_token_symbol)||""):G(e.from_amount*10**((null==e?void 0:e.to_token_decimals)-(null==e?void 0:e.from_token_decimals))/e.to_amount)+" "+((null==e?void 0:e.from_token_symbol)||"")+" per "+((null==e?void 0:e.to_token_symbol)||"")}function B(e){if("Pending"===(null==e?void 0:e.state)&&null!==(null==e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null==e?void 0:e.expiredAt)||0))return u("expired1");const l=e.state;return{Pending:"",Completed:u("completed"),Cancelled:u("cancelled")}[l]??l}function M(e){if("Pending"===(null==e?void 0:e.state)&&null!==(null==e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null==e?void 0:e.expiredAt)||0))return"#999999";return{Pending:"",Completed:"#12B886",Cancelled:"#999999"}[e.state]??"#286DFF"}return(l,a)=>{var n;const r=pe,u=ke,b=Xn,D=wn;return f(),_("ul",null,[(f(!0),_(y,null,w(e.tableList,(e,n)=>(f(),_("li",{key:n,class:"tx-li-item clickable",onClick:F(l=>function(e){if("solana"===e.chain){if("Sending"===(null==e?void 0:e.state))return;const l=(null==e?void 0:e.closeTx)||(null==e?void 0:e.openTx);if(!l)return;window.open(K("solana",l,"tx"))}else 2===e.status&&window.open(K(e.chain,e.executed_tx_hash,"tx"))}(e),["stop"])},["solana"!==e.chain?(f(),_(y,{key:0},[x("div",Bk,[x("span",{class:"label",style:A({"min-width":"en"===p(o).locale?"30px":"20px"})},k(l.$t("from")),5),e.from_token?(f(),_("div",Mk,[x("div",Dk,[C(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:p(me))({logo_url:e.from_token_logo_url,symbol:e.from_token_symbol,chain:e.chain||p(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(f(),_("img",{key:0,class:"icon-chain",src:`${p(s).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,Ek)):m("",!0)]),x("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:p(G))(("formatUnits"in l?l.formatUnits:p(gl))(e.from_amount,e.from_token_decimals))},null,8,Pk),x("span",null,k(e.from_token_symbol||""),1)])):m("",!0),a[0]||(a[0]=x("span",{style:{flex:"1"}},null,-1)),x("span",Uk,k(l.$t("price"))+"("+k(e.target_token===e.from_token?(null==e?void 0:e.from_token_symbol)||"":(null==e?void 0:e.to_token_symbol)||"")+") ",1),e.target_token?(f(),_("div",Rk,[x("span",{innerHTML:`$${e.target_limit_price?("formatNumber"in l?l.formatNumber:p(G))(e.target_limit_price):"--"}`},null,8,Hk)])):m("",!0)]),x("div",Ok,[x("span",{class:"label",style:A({"min-width":"en"===p(o).locale?"30px":"20px"})},k(l.$t("to")),5),e.to_token?(f(),_("div",jk,[x("div",zk,[C(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:p(me))({logo_url:e.to_token_logo_url,symbol:e.to_token_symbol,chain:e.chain||p(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(f(),_("img",{key:0,class:"icon-chain",src:`${p(s).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,Wk)):m("",!0)]),x("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:p(G))(("formatUnits"in l?l.formatUnits:p(gl))(e.to_amount,e.to_token_decimals))},null,8,qk),x("span",null,k((null==e?void 0:e.to_token_symbol)||""),1)])):m("",!0)]),x("div",Gk,[x("div",Yk,[x("span",null,k(("formatDate"in l?l.formatDate:p(X))(e.created_at)),1),(0===e.status||-1===e.status)&&Date.now()<1e3*e.created_at+p(lt)?(f(),_("span",Qk," ("+k(l.$t("expiresInTime",{t:p(at)(1e3*e.created_at+p(lt)).fromNow()}))+") ",1)):m("",!0)]),1===e.status||2===e.status?(f(),_("span",{key:0,class:"status-txt",style:A({color:S(e)})},k(T(e)),5)):(f(),_(y,{key:1},[a[1]||(a[1]=x("span",{style:{flex:"1"}},null,-1)),0!==e.status||(0===e.status||-1===e.status)&&1e3*e.created_at+p(lt)<Date.now()?(f(),_("span",{key:0,class:"status-txt",style:A({color:S(e)})},k(T(e)),5)):m("",!0),e.from_token===p(ze)||(0===e.status||-1===e.status)&&1e3*e.created_at+p(lt)>Date.now()?(f(),v(u,{key:1,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:p(c),"loading-text":l.$t("revoke"),"loading-size":"0.28rem",onClick:F(l=>g(e),["stop"])},{default:h(()=>[N(k(l.$t("revoke")),1)]),_:1},8,["loading","loading-text","onClick"])):m("",!0)],64))])],64)):(f(),_(y,{key:1},[x("div",Kk,[x("span",{class:"label",style:A({"min-width":"en"===p(o).locale?"30px":"20px"})},k(l.$t("from")),5),e.from_token?(f(),_("div",Xk,[x("div",Zk,[C(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:p(me))({logo_url:e.from_token_logo_url,symbol:e.from_token_symbol,chain:e.chain||p(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(f(),_("img",{key:0,class:"icon-chain",src:`${p(s).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,Jk)):m("",!0)]),x("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:p(G))(("formatUnits"in l?l.formatUnits:p(gl))(e.from_amount,e.from_token_decimals))},null,8,eb),x("span",null,k(e.from_token_symbol||""),1)])):m("",!0),a[2]||(a[2]=x("span",{style:{flex:"1"}},null,-1)),"Sending"===e.state?(f(),v(b,{key:1,class:"text-16px"})):(f(),_(y,{key:2},[x("span",{class:"label",style:A({color:M(e)})},k(B(e)),5),"solana"===e.chain&&"Pending"===e.state?(f(),v(u,{key:0,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:p(d)[e.orderKey],"loading-text":l.$t("revoke"),"loading-size":"14px",onClick:F(l=>g(e),["stop"])},{default:h(()=>[N(k(l.$t("revoke")),1)]),_:1},8,["loading","loading-text","onClick"])):m("",!0)],64))]),x("div",lb,[x("span",{class:"label",style:A({"min-width":"en"===p(o).locale?"30px":"20px"})},k(l.$t("to")),5),e.to_token?(f(),_("div",ab,[x("div",tb,[C(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:p(me))({logo_url:e.to_token_logo_url,symbol:e.to_token_symbol,chain:e.chain||p(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(f(),_("img",{key:0,class:"icon-chain",src:`${p(s).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,nb)):m("",!0)]),x("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:p(G))(("formatUnits"in l?l.formatUnits:p(gl))(e.to_amount,e.to_token_decimals))},null,8,ob),x("span",null,k((null==e?void 0:e.to_token_symbol)||""),1)])):m("",!0)]),x("div",sb,[x("span",ib,k(l.$t("delegatePrice"))+"("+k(I(e))+")",1),x("div",rb,[x("span",ub,"$"+k(L(e)),1),x("span",db,"("+k(V(e))+")",1)])]),x("div",cb,[x("span",vb,k(l.$t("amount1")),1),$(e)?(f(),_("div",mb,[x("span",null,k(("formatNumber"in l?l.formatNumber:p(G))(("formatUnits"in l?l.formatUnits:p(gl))(e.from_amount_used||0,e.from_token_decimals)))+"/"+k(("formatNumber"in l?l.formatNumber:p(G))(("formatUnits"in l?l.formatUnits:p(gl))(e.from_amount||0,e.from_token_decimals)))+" "+k(e.from_token_symbol),1),x("span",pb,"("+k(("formatNumber"in l?l.formatNumber:p(G))(e.percent||0))+"%)",1)])):(f(),_("div",fb,[x("span",null,k(("formatNumber"in l?l.formatNumber:p(G))(("formatUnits"in l?l.formatUnits:p(gl))(e.to_amount_used||0,e.to_token_decimals)))+"/"+k(("formatNumber"in l?l.formatNumber:p(G))(("formatUnits"in l?l.formatUnits:p(gl))(e.to_amount||0,e.to_token_decimals)))+" "+k(e.to_token_symbol),1),x("span",hb,"("+k(("formatNumber"in l?l.formatNumber:p(G))(e.percent||0))+"%)",1)]))]),void 0!==e.expiredAt?(f(),_("div",xb,[x("span",gb,k(l.$t("expiredTime")),1),x("span",kb,k(e.expiredAt?("formatDate"in l?l.formatDate:p(X))(e.expiredAt):l.$t("never")),1)])):m("",!0)],64))],8,Vk))),128)),e.tableList&&0!==(null==(n=e.tableList)?void 0:n.length)?m("",!0):(f(),v(D,{key:0,"image-size":100,image:"light"===p(i).theme?p(J):p(ee)},null,8,["image"]))])}}}),[["__scopeId","data-v-d47732f3"]]),_b={class:"card-container mt-10px"},yb={class:"flex items-center"},wb=["innerHTML"],Tb={class:"flex justify-between items-center mt-10px"},Cb={class:"card-container bottom mt-10px"},Ab={class:"flex items-center"},Sb=["innerHTML"],Nb={class:"flex justify-between items-center mt-10px"},$b={key:0,class:"limit-price-label mb-5px"},Fb={key:1,class:"card-container flex justify-between items-center rd-6px! py-0!"},Ib=["disabled"],Lb=["disabled"],Vb={class:"limit-price-label mt-10px mb-5px"},Bb={class:"card-container flex justify-between items-center rd-6px! py-0!",style:{"margin-bottom":"10px"}},Mb=["disabled"],Db=["disabled"],Eb={class:"limit-price-label mt-10px mb-5px"},Pb={class:"card-container flex justify-between items-center rd-6px! py-0!",style:{"margin-bottom":"10px"}},Ub=["disabled"],Rb=["disabled"],Hb={class:"swap-label mt-10px"},Ob={key:0,class:"slippage-container"},jb={key:1},zb={class:"swap-label_item-left"},Wb={key:1,style:{display:"flex","align-items":"center"}},qb={class:"mt-10px"},Gb={class:"tabs-1"},Yb=["onClick"],Qb=B(t({__name:"limit",setup(e){const t=Dx(),o=j(),s=Sl("percentStepInf"),d=u(()=>t.chain),{t:c}=n(),T=oe("limitSlippage","10"),A=P(""),S=P(""),$=P(!1),V=P("0"),B=P(""),M=P(0),D=P(!1),E=P(0),U=P(""),R=P(""),H=P(""),z=P(!1),W=P(!1),q=P(!1),Y=P(null),Q=P(!1),K=P(!1),X=P(0),Z=P([]),J=P(!1),ee=P(!1),le=P("limit"),ne=u(()=>[{name:c("historyLimitOrder"),value:"limit"}]),se=u(()=>{var e;if(ee.value){const l=t.token1.address;return null==(e=Z.value)?void 0:e.filter(e=>e.target_token===l)}return Z.value}),re=P({chain:"",orderType:0,triggerPrice:0,fromToken:{address:"",chain:"",balance:0,symbol:"",price:0},toToken:{address:"",chain:"",balance:0,symbol:"",price:0},targetTokenInfo:{address:"",chain:"",balance:0,symbol:"",price:0},fromAmount:"",toAmount:"",targetToken:"",targetLimitPrice:"",activeTab:t.activeTab,minReturn:"0",slippage:T.value||"10"}),ue=u(()=>{if(["solana","ton","sui"].includes(t.chain)||t.fromToken.address===ze)return!0;if(!V.value)return!1;const e=(0===t.activeTab?t.token2:t.token1).decimals||0,l=0===t.activeTab?S.value:A.value;return Ql(new Ce(l||0).toFixed(e),e).lte(V.value)}),de=u(()=>o.address&&o.provider?0===t.activeTab?xe[0]:1===t.activeTab?ge[0]:"#558BED":"#999");function ce(){var e,l;A.value="",S.value="",null==(l=null==(e=s.value)?void 0:e.handleClick)||l.call(e,0),1===t.activeTab&&me(),t.getToken1Info(),t.getBaseToken(),"solana"===d.value&&pe()}function ve(){var e,l;A.value="",S.value="",null==(l=null==(e=s.value)?void 0:e.handleClick)||l.call(e,0),t.getToken2Info(),0===t.activeTab&&me(),"solana"===d.value&&pe()}function me(){const e=0===t.activeTab?t.token2:t.token1;if(o.chain&&o.chain===e.chain&&e.address){const l=e.chain||o.chain;if(["solana","ton","sui"].includes(l))return;const a=Ua[l];$.value=!0,Kl(e.address,a).then(e=>{V.value=e.toString()}).finally(()=>{$.value=!1})}}function pe(){var e,l,a,n,o;if(!(null==(e=t.token1)?void 0:e.address)||!(null==(l=t.token2)?void 0:l.address)||"solana"!==d.value||0!==t.swapType)return;const s={from_token:null==(a=t.token1)?void 0:a.address,to_token:null==(n=t.token2)?void 0:n.address,amountIn:Ql("1",null==(o=t.token1)?void 0:o.decimals).toFixed(0)};B.value="",Ck(s).then(e=>{var l;const a=gl((null==e?void 0:e.outAmount)||0,null==(l=t.token2)?void 0:l.decimals);M.value=a,function(){const e=t.token1.chain,l=t.token1.address+"-"+e,a=t.token2.address+"-"+e;return Xe([l,a]).then(async e=>{var l,a;return t.token1.price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,t.token2.price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,[t.token1.price,t.token2.price]})}().then(e=>{}),B.value=""}).catch(e=>{M.value=0,B.value="1"})}function fe(){U.value&&new Ce(U.value).gt("0")&&(U.value=nl(new Ce(U.value).times(.99).toFixed()),Ie())}function he(){U.value&&new Ce(U.value).gt("0")&&(U.value=nl(new Ce(U.value).times(1.01).toFixed()),Ie())}function be(){H.value&&new Ce(H.value).gt("0")&&(H.value=nl(new Ce(H.value).times(.99).toFixed()))}function ye(){U.value&&new Ce(H.value).gt("0")&&(H.value=nl(new Ce(H.value).times(1.01).toFixed()))}function we(){E.value&&new Ce(E.value).gt("0")&&(E.value=nl(new Ce(E.value).times(.99).toFixed()),Ve())}function Te(){E.value&&new Ce(E.value).gt("0")&&(E.value=nl(new Ce(E.value).times(1.01).toFixed()),Ve())}function Ae(e,l=!1){var a,n;if(l)return;const o=Number(e)/100,s=0===t.activeTab?t.token2:t.token1;let i=s.balance||0;if(o){const e=s.decimals||18;if((null==s?void 0:s.address)===ze){const l=s.chain,t=sl[l]||.01;i=(null==(a=new Ce(i).minus(t).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:a[0])||0}else i=(null==(n=new Ce(i).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:n[0])||0;0===Number(i)&&(i="")}else i="";0===t.activeTab?S.value!==i&&(S.value=Number(i)<0?"0":i,Fe()):A.value!==i&&(A.value=Number(i)<0?"0":i,Ne())}let Se=null;function Ne(){D.value||(Se&&(clearTimeout(Se),Se=null),Se=setTimeout(()=>{const e=A.value,l=Number(e);""===e||"."===e?(A.value="",S.value=""):0===l&&0!==Number(S.value)?S.value=0:l&&(S.value="",Ie())},500))}let $e=null;function Fe(){D.value||($e&&(clearTimeout($e),$e=null),$e=setTimeout(()=>{const e=S.value,l=Number(e);""===e||"."===e?(A.value="",S.value=""):0===l&&0!==Number(A.value)?A.value=0:l&&(A.value="",Ie())},500))}function Ie(){"solana"!==t.chain?Be()&&(Number(U.value)&&(Number(A.value)||Number(S.value))&&t.token1.address!==t.token2.address&&o.provider?(Le&&(clearTimeout(Le),Le=null),Le=setTimeout(()=>{const e=0===t.activeTab?t.token2:t.token1,l=1===t.activeTab?t.token2:t.token1,a=Ql((0===t.activeTab?S.value:A.value)||"0",e.decimals).toFixed(0),n=Ql((1===t.activeTab?S.value:A.value)||"0",l.decimals).toFixed(0),o={from_token:e.address,to_token:l.address,amountIn:a,amountOut:n};D.value=!0,async function({from_token:e,to_token:l,amountIn:a,amountOut:t},n,o=j().chain,s=3,i=3){const r=await Sa(e,Rl(o),o),u=r.balance,d=r.allowance,c=We(o),v=null==c?void 0:c.wmain_wrapper,m=null==c?void 0:c.main_name,p=null==c?void 0:c.wmain_name;let f=e,h=l,x=!1,g=!1,k=!1,b=!1;return f===v&&(k=!0),h===v&&(b=!0),f===ze&&(f=v,x=!0),h===ze&&(h=v,g=!0),k&&g||x&&b?Promise.resolve({toWrapper:x&&b?1:2,wrapper:v,amount:"0"!==a&&a?a:t,routerPath:[{address:x?ze:v,amount:"0"!==a&&a?a:t,decimals:18,isETH:x,isWrapper:k,symbol:x?m:p},{address:g?ze:v,amount:"0"!==t&&t?t:a,decimals:18,isETH:g,isWrapper:b,symbol:g?m:p}]}):Na(f,h,o,s,i).then(async n=>{if(0===(null==n?void 0:n.length))return Promise.reject({code:"noMatchingRoute"});const{_provider:s}=$a(o),i=await Fa(),r="tron"===o?Ia(La,Rl(o)):new Va(Rl(o),La,i||s),c="tron"===o?Ia(Ma,Ba[o]):new Va(Ba[o],Da(o),i||s),v=await ka(o),p=await ga(o),f={chain:o,QuoteContract:c,swapContract:r,gasPrice:v,nativePrice:p,amountIn:a,amountOut:t,balance:u,allowanceAmount:d,fromIsETH:x,toIsETH:g,mainName:m,from_token:e,to_token:l};return 1===(null==n?void 0:n.length)?Ak(n[0],f):2===(null==n?void 0:n.length)?Ak(n[0],f).catch(async e=>Ak(n[1],f)):(null==n?void 0:n.length)>2?Ak(n[0],f).catch(async e=>Ak(n[1],f).catch(async e=>Ak(n[2],f))):void 0})}(o).then(e=>{var l,a,n,o,s,i,r,u;if(1===e.toWrapper||2===e.toWrapper)return void(D.value=!1);R.value=e.gasU;const d=null==(a=null==(l=null==e?void 0:e.routerPath)?void 0:l.find)?void 0:a.call(l,e=>e.address===t.token1.address),v=null==(o=null==(n=null==e?void 0:e.routerPath)?void 0:n.find)?void 0:o.call(n,e=>e.address===t.token2.address);t.token1.price=d.price,t.token2.price=v.price,new Ce((null==d?void 0:d.amount)||0).lte(0)||new Ce((null==v?void 0:v.amount)||0).lte(0)?te.alert(c("limitOrderAmount"),c("tips"),{confirmButtonText:c("okay")}):U.value&&A.value&&S.value?0===t.activeTab?A.value=(null==(s=new Ce(gl(d.amount,d.decimals)).times(d.price||0).div(U.value||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${t.token1.decimals}})?`)))?void 0:s[0])||"":S.value=(null==(i=new Ce(gl(v.amount,v.decimals)).times(U.value||0).div(d.price||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${t.token2.decimals}})?`)))?void 0:i[0])||"":U.value&&A.value?S.value=(null==(r=new Ce(gl(v.amount,v.decimals)).times(U.value||0).div(d.price||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${t.token2.decimals}})?`)))?void 0:r[0])||"":U.value&&S.value&&(A.value=(null==(u=new Ce(gl(d.amount,d.decimals)).times(d.price||0).div(U.value||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${t.token1.decimals}})?`)))?void 0:u[0])||"")}).catch(e=>{Jl(e)}).finally(()=>{D.value=!1})},500)):t.token1.address===t.token2.address&&l({type:"error",message:c("twoIdenticalTokens")})):Ve()}let Le=null;function Ve(){Number(E.value)&&(Number(A.value)||Number(S.value))&&t.token1.address!==t.token2.address&&o.provider?(Le&&(clearTimeout(Le),Le=null),Le=setTimeout(()=>{var e,l;A.value?S.value=new Ce(A.value||0).times(E.value).div((null==(e=t.token2)?void 0:e.price)||1).toFixed(t.token2.decimals):S.value&&(A.value=new Ce(S.value).times((null==(l=t.token2)?void 0:l.price)||0).div(E.value).toFixed(t.token1.decimals))},500)):t.token1.address===t.token2.address&&l({type:"error",message:c("twoIdenticalTokens")})}function Be(){var e,l,a,n,s;const i=o.chain,r=t.token1.chain,u=t.token2.chain,d=Object.keys(Ua).concat("solana");return!(r&&!(null==(e=null==d?void 0:d.includes)?void 0:e.call(d,r)))&&(!(u&&!(null==(l=null==d?void 0:d.includes)?void 0:l.call(d,u)))&&(!!i&&(!(null==(n=null==(a=o.address)?void 0:a.startsWith)?void 0:n.call(a,"T"))&&(!(i&&!(null==(s=null==d?void 0:d.includes)?void 0:s.call(d,i)))&&(i===r&&i===u)))))}function Me(){var e,l,a,n,s,i,r;const u=o.chain,d=Object.keys(Ua).concat("solana"),v=We(u).name,m=t.token1.chain,p=t.token2.chain;return m&&!(null==(e=null==d?void 0:d.includes)?void 0:e.call(d,m))?c("noSupportChain",{chain:null==(l=We(m))?void 0:l.name}):p&&!(null==(a=null==d?void 0:d.includes)?void 0:a.call(d,p))?c("noSupportChain",{chain:null==(n=We(p))?void 0:n.name}):u?(null==(i=null==(s=o.address)?void 0:s.startsWith)?void 0:i.call(s,"T"))?c("noSupportChain",{chain:"TRON"}):u&&!(null==(r=null==d?void 0:d.includes)?void 0:r.call(d,u))?c("noSupportChain",{chain:v}):u!==m&&m||u!==p&&p?c("chainNotSame1"):m!==p?c("tokenNoSameChain"):"":c("noSupportChain",{chain:v})}function De(){if("solana"===d.value&&B.value)return!1;const e=(0===t.activeTab?t.token2:t.token1).balance||0,l=0===t.activeTab?S.value:A.value;return!(0===Number(e)||Number(e)<Number(l)||!o.provider||"0"===String(l)||t.token1.address===t.token2.address)}function Ee(){if("solana"===d.value&&B.value)return c("noSToken");const e=(0===t.activeTab?t.token2:t.token1).balance||0,l=0===t.activeTab?S.value:A.value;return o.address?o.address&&!o.provider?c("observeAddressNotSwap"):Number(0===e||Number(e)<Number(l)||!o.provider)?c("insufficientBalance"):"0"===String(l)?c("AmountCannotBeZero"):"":c("pConnectWallet")}function Pe(){try{if(!o.provider)return void(o.provider||te.alert(c("browserWalletNotDetected"),c("tips"),{confirmButtonText:c("confirm")}));if(!Be())return;const e=o.chain;if(e!==(t.token1.chain||t.token2.chain||e))return void te.alert(c("plsSwitchChain",{chain:e}),c("tips"));0!==t.swapType&&1!==t.swapType||(ue.value?function(){var e;const l=0===t.activeTab?t.token2:t.token1,a=0===t.activeTab?t.token1:t.token2,n=0===t.activeTab?S.value:A.value,s=0===t.activeTab?A.value:S.value,i=0===t.activeTab?t.token1.decimals:t.token2.decimals;let r=new Ce(T.value||0);r=new Ce(1).minus(r.div(100));let u=new Ce(st[l.chain||o.chain]||0).times(5);u=u.gte(3)?u.gte(50)?new Ce(50):u:new Ce(3);if(!new Ce(n).times((null==l?void 0:l.price)||0).gte(u.times(.999)))return void te.alert(c("minimumTransactionAmount",{n:u.toFixed()}),c("tips"),{confirmButtonText:c("okay")});const d=t.token1.chain||o.chain;re.value={chain:d,orderType:t.swapType,fromToken:l,toToken:a,fromAmount:n,toAmount:s,targetToken:t.token1.address,targetTokenInfo:t.token1,targetLimitPrice:"solana"===d?E.value:U.value,triggerPrice:H.value,activeTab:t.activeTab,minReturn:(null==(e=new Ce(s||0).times(r).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${i}})?`)))?void 0:e[0])||"0",slippage:T.value},X.value=1,"solana"===d?(W.value=!0,Xe([re.value.targetToken+"-"+d]).then(e=>{var l,a,n,o,s,i,r,u;const d=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||(null==(n=null==(a=re.value)?void 0:a.targetTokenInfo)?void 0:n.price)||(null==(o=t.baseToken)?void 0:o.token.current_price_usd)||0;0===t.activeTab&&new Ce(d).lt((null==(s=re.value)?void 0:s.targetLimitPrice)||"0")?te.alert(c("limitPriceTips",{p1:G(null==(i=re.value)?void 0:i.targetLimitPrice),p2:G(d)}),c("tips"),{confirmButtonText:c("okay")}):1===t.activeTab&&new Ce(d).gt((null==(r=re.value)?void 0:r.targetLimitPrice)||"0")?te.alert(c("limitPriceTips1",{p1:G(null==(u=re.value)?void 0:u.targetLimitPrice),p2:G(d)}),c("tips"),{confirmButtonText:c("okay")}):(Q.value=!0,W.value=!1)}).catch(()=>{Q.value=!0,W.value=!1}).finally(()=>{W.value=!1})):Q.value=!0}():async function(){if(!Be())return;q.value=!0;const e=t.token1.chain||o.chain||"",l=Ua[e],a=0===t.activeTab?t.token2:t.token1;_a(a.address,l).then(e=>e.wait()).then(e=>{me()}).catch(e=>{Jl(e)}).finally(()=>{q.value=!1})}())}catch(e){}}function Ue(){var e,l,a,n,s;if(!Be())return;let i=new Ce(T.value||0);i=new Ce(1).minus(i.div(100));const r=o.address,u=0===t.activeTab?t.token2:t.token1,d=0===t.activeTab?t.token1:t.token2,v=0===t.activeTab?S.value:A.value,m=0===t.activeTab?A.value:S.value,p=u.address,f=Ql((null==(e=new Ce(v||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${u.decimals}})?`)))?void 0:e[0])||0,u.decimals).toFixed(0),h=d.address,x=Ql((null==(l=new Ce(m||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${d.decimals}})?`)))?void 0:l[0])||0,d.decimals).toFixed(0),g=Ql((null==(a=new Ce(m||0).times(i).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${d.decimals}})?`)))?void 0:a[0])||0,d.decimals).toFixed(0),k=t.token1.address,b=U.value;K.value=!0;const _=t.swapType;H.value;const y=(null==(s=null==(n=t.baseToken)?void 0:n.token)?void 0:s.current_price_usd)?nl(t.baseToken.token.current_price_usd):"";if("solana"===t.chain){const e=Y.value?Number(Math.floor(Date.now()/1e3)+Math.floor(Y.value)):null;let l="";return void Nk({fromToken:p,fromAmount:f,toToken:h,toAmount:x,expiredAt:e}).then(e=>{const a=e.result;return l=a.order,e.send()}).then(a=>{const t={from_token:p,from_token_symbol:null==u?void 0:u.symbol,from_token_decimals:null==u?void 0:u.decimals,to_token:h,to_token_symbol:null==d?void 0:d.symbol,to_token_decimals:null==d?void 0:d.decimals,from_amount:Number(f)||0,to_amount:Number(x)||0,id:l,orderKey:l,chain:"solana",created_at:0,state:"Sending",from_amount_used:"0",percent:"0",expiredAt:e,from_token_logo_url:u.logo_url,to_token_logo_url:d.logo_url};return eo({chain:"solana",destination:"wallet rpc",type:20,order_id:"jupiter_"+l,status:1,wallet:o.address,out_token:h,out_amount:t.to_amount,in_token:p,in_amount:t.from_amount}),Z.value=[t,...Z.value],K.value=!1,Q.value=!1,a.wait()}).then(()=>{Re(l),A.value="",S.value="",u.address===t.token1.address?t.getToken1Info():u.address===t.token2.address&&t.getToken2Info()}).catch(e=>{Z.value=Z.value.filter(e=>e.orderKey!==l),Jl(e,"solana")}).finally(()=>{K.value=!1,Q.value=!1})}(async function(e,l,a,t,n,o,s,i,r,u,d,c=Date.now(),v=j().chain){const m=Ea(Pa.defaultAbiCoder().encode(["address","address","uint256","address","uint256","uint256"],[e,l,a,t,n,c])),p=j(),f=await Fa();if(l===ze){const h=new Va(Ua[v],Ra,f);return h.depositEth.estimateGas(t,n,c,{value:a}).then(f=>h.depositEth(t,n,c,{value:a,gasLimit:f.toString()}).then(e=>e.wait()).then(f=>{const h={id:m,fromToken:l,fromAmount:a,toToken:t,toAmount:o,minReturn:n,targetToken:s,targetLimitPrice:i,salt:c,signature:"",maker:e,orderType:r,triggerPrice:u,currentPrice:d};return eo({chain:v,destination:"wallet rpc",type:20,order_id:"aveswap_"+m,status:1,wallet:p.address,out_token:t,out_amount:o,in_token:l,in_amount:a}),$k(h)}))}const h=Ha(m);return null==f?void 0:f.signMessage(h).then(v=>$k({id:m,fromToken:l,fromAmount:a,toToken:t,toAmount:o,minReturn:n,targetToken:s,targetLimitPrice:i,salt:c,signature:v,maker:e,orderType:r,triggerPrice:u,currentPrice:d}))})(r,p,f,h,g,x,k,b,_,H.value,y).then(()=>{ae.success(c("submitOrdersSuccess")),Re(),A.value="",S.value="",Q.value=!1,u.address===ze&&(u.address===t.token1.address?t.getToken1Info():u.address===t.token2.address&&t.getToken2Info())}).catch(e=>{Jl(e)}).finally(()=>{K.value=!1})}function Re(e,l){if(o.chain){const t=o.chain;if("solana"===t)return void je(e,l);J.value=!0,function(e,l=1,t=1e3){const n=j(),o=e.chain||n.chain||"",s=e.maker||n.address||"";if(!o||!s)return Promise.resolve([]);const{$api:i}=a();return i("/v1api/v2/aveswap/limitorder",{method:"get",query:{pageNO:l,pageSize:t,...{maker:s,chain:o,...e}}}).then(e=>{var l;return Promise.resolve((null==(l=null==e?void 0:e.data)?void 0:l.data)||(null==e?void 0:e.data)||e||[])})}({chain:t}).then(e=>{Z.value=e}).finally(()=>{setTimeout(()=>{J.value=!1},800)})}}let He=null,Oe=0;function je(e,l=1){if("solana"===o.chain)return J.value=!0,Promise.all([it({wallet:o.address}),rt({wallet:o.address,take:100})]).then(async a=>{var t,n,o,s,i,r,u,d,c,v;const m=(null==(n=null==(t=null==a?void 0:a[0])?void 0:t.map)?void 0:n.call(t,e=>[(null==e?void 0:e.inputMint)+"-solana",(null==e?void 0:e.outputMint)+"-solana"]))||[],p=(null==(s=null==(o=null==a?void 0:a[1])?void 0:o.map)?void 0:s.call(o,e=>[(null==e?void 0:e.inputMint)+"-solana",(null==e?void 0:e.outputMint)+"-solana"]))||[],f=Array.from(new Set([...null==(i=null==m?void 0:m.flat)?void 0:i.call(m),...null==p?void 0:p.flat()])),h=await ut(f).catch(async e=>({})),x=[...null==(u=null==(r=null==a?void 0:a[0])?void 0:r.map)?void 0:u.call(r,e=>{var l,a,t,n,o,s,i,r,u,d,c,v,m,p,f,x,g,k,b;const _=null==(l=h[e.inputMint+"-solana"])?void 0:l.decimal,y=null==(a=h[e.outputMint+"-solana"])?void 0:a.decimal;return{...e,from_token:e.inputMint,from_token_symbol:null==(t=h[e.inputMint+"-solana"])?void 0:t.symbol,from_token_decimals:null==(n=h[e.inputMint+"-solana"])?void 0:n.decimal,from_token_price:null==(o=h[e.inputMint+"-solana"])?void 0:o.current_price_usd,to_token:e.outputMint,to_token_symbol:null==(s=h[e.outputMint+"-solana"])?void 0:s.symbol,to_token_decimals:null==(i=h[e.outputMint+"-solana"])?void 0:i.decimal,to_token_price:null==(r=h[e.outputMint+"-solana"])?void 0:r.current_price_usd,from_amount:(null==(c=null==(d=null==(u=new Ce(e.makingAmount||0))?void 0:u.times)?void 0:d.call(u,10**_))?void 0:c.toFixed(0))||0,to_amount:(null==(p=null==(m=null==(v=new Ce(e.takingAmount||0))?void 0:v.times)?void 0:m.call(v,10**y))?void 0:p.toFixed(0))||0,chain:"solana",from_amount_used:null==(x=null==(f=new Ce(e.makingAmount||0).minus(e.remainingMakingAmount))?void 0:f.times)?void 0:x.call(f,10**_).toFixed(0),to_amount_used:null==(g=new Ce(e.takingAmount||0).minus(e.remainingTakingAmount))?void 0:g.times(10**y).toFixed(0),percent:new Ce(e.makingAmount||0).minus(e.remainingMakingAmount).div(e.makingAmount).times(100).toFixed(),from_token_logo_url:null==(k=h[e.inputMint+"-solana"])?void 0:k.logo_url,to_token_logo_url:null==(b=h[e.outputMint+"-solana"])?void 0:b.logo_url,id:e.orderKey,state:"Pending"}}),...null==(c=null==(d=null==a?void 0:a[1])?void 0:d.map)?void 0:c.call(d,e=>{var l,a,t,n,o,s,i,r,u,d,c,v,m,p,f,x,g,k,b;const _=null==(l=h[e.inputMint+"-solana"])?void 0:l.decimal,y=null==(a=h[e.outputMint+"-solana"])?void 0:a.decimal;return{...e,from_token:e.inputMint,from_token_symbol:null==(t=h[e.inputMint+"-solana"])?void 0:t.symbol,from_token_decimals:null==(n=h[e.inputMint+"-solana"])?void 0:n.decimal,from_token_price:null==(o=h[e.inputMint+"-solana"])?void 0:o.current_price_usd,to_token:e.outputMint,to_token_symbol:null==(s=h[e.outputMint+"-solana"])?void 0:s.symbol,to_token_decimals:null==(i=h[e.outputMint+"-solana"])?void 0:i.decimal,to_token_price:null==(r=h[e.outputMint+"-solana"])?void 0:r.current_price_usd,from_amount:(null==(c=null==(d=null==(u=new Ce(e.makingAmount||0))?void 0:u.times)?void 0:d.call(u,10**_))?void 0:c.toFixed(0))||0,to_amount:(null==(p=null==(m=null==(v=new Ce(e.takingAmount||0))?void 0:v.times)?void 0:m.call(v,10**y))?void 0:p.toFixed(0))||0,chain:"solana",from_amount_used:null==(x=null==(f=new Ce(e.makingAmount||0).minus(e.remainingMakingAmount))?void 0:f.times)?void 0:x.call(f,10**_).toFixed(0),to_amount_used:null==(g=new Ce(e.takingAmount||0).minus(e.remainingTakingAmount))?void 0:g.times(10**y).toFixed(0),percent:new Ce(e.makingAmount||0).minus(e.remainingMakingAmount).div(e.makingAmount).times(100).toFixed(),from_token_logo_url:null==(k=h[e.inputMint+"-solana"])?void 0:k.logo_url,to_token_logo_url:null==(b=h[e.outputMint+"-solana"])?void 0:b.logo_url,id:e.orderKey,state:e.status}})],g=null==x?void 0:x.some(l=>l.orderKey===e),k=null==x?void 0:x.some(l=>l.orderKey===e&&"Cancelled"===l.state);return e&&Oe<=30&&(0!==l&&!g||0===l&&!k)?(He&&(clearTimeout(He),He=null),new Promise(a=>{He=setTimeout(()=>{var t;Oe+=5,null==(t=null==je?void 0:je(e,l))||t.then(e=>{a(e)})},5e3)})):(J.value=!1,Z.value=null==(v=null==x?void 0:x.filter)?void 0:v.call(x,a=>!(a.orderKey===e&&"Pending"===a.state&&0===l)),Oe=0,x)}).catch(e=>{Oe=0,J.value=!1})}function qe(e,l){var a;"solana"===e.chain?null==(a=null==je?void 0:je(e.publicKey,0))||a.then(()=>{l&&(l[e.publicKey]=!1)}):Re()}return r(()=>t.fromToken.address,()=>{t.fromToken.address&&(A.value="",S.value="",me())}),r(()=>o.address,()=>{o.address&&(me(),Re())}),i(()=>{var e,l,a,n,o,s;me(),Re(),"solana"!==d.value?(U.value=(null==(l=null==(e=t.baseToken)?void 0:e.token)?void 0:l.current_price_usd)?nl(t.baseToken.token.current_price_usd):"",H.value=(null==(n=null==(a=t.baseToken)?void 0:a.token)?void 0:n.current_price_usd)?nl(t.baseToken.token.current_price_usd):""):E.value=(null==(s=null==(o=t.baseToken)?void 0:o.token)?void 0:s.current_price_usd)?G(t.baseToken.token.current_price_usd):"",pe()}),(e,l)=>{var a,n;const i=_e,r=Ll,u=ke,V=b;return f(),_(y,null,[x("form",{class:"swap-container",action:"",onSubmit:F(Pe,["prevent","stop"])},[x("div",_b,[x("div",yb,[C(ch,{token:p(t).token1,"onUpdate:token":[l[0]||(l[0]=e=>p(t).token1=e),ce],tokens:p(t).swapTokens,chain:p(t).chain},null,8,["token","tokens","chain"]),l[21]||(l[21]=x("span",{style:{flex:"1"}},null,-1)),x("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${("formatNumber"in e?e.formatNumber:p(G))((null==(a=p(t).token1)?void 0:a.balance)||0)}`},null,8,wb),1===p(t).activeTab?(f(),_("button",{key:0,class:"max-btn",type:"button",onClick:l[1]||(l[1]=F(e=>Ae(100),["stop"]))},k(e.$t("max")),1)):m("",!0)]),x("div",Tb,[C(i,{modelValue:p(A),"onUpdate:modelValue":[l[2]||(l[2]=e=>L(A)?A.value=e:null),l[3]||(l[3]=e=>{var l;A.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Ne()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[4]||(l[4]=e=>{var l;return null==(l=p(s))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])])]),x("div",Cb,[x("div",Ab,[C(ch,{token:p(t).token2,"onUpdate:token":[l[5]||(l[5]=e=>p(t).token2=e),ve],tokens:p(t).swapTokens,chain:p(t).chain},null,8,["token","tokens","chain"]),l[22]||(l[22]=x("span",{style:{flex:"1"}},null,-1)),x("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${("formatNumber"in e?e.formatNumber:p(G))((null==(n=p(t).token2)?void 0:n.balance)||0)}`},null,8,Sb),0===p(t).activeTab?(f(),_("button",{key:0,class:"max-btn",type:"button",onClick:l[6]||(l[6]=F(e=>Ae(100),["stop"]))},k(e.$t("max")),1)):m("",!0)]),x("div",Nb,[C(i,{modelValue:p(S),"onUpdate:modelValue":[l[7]||(l[7]=e=>L(S)?S.value=e:null),l[8]||(l[8]=e=>{var l;S.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Fe()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[9]||(l[9]=e=>{var l;return null==(l=p(s))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])])]),C(Rx,{ref:"percentStepInf",activeColor:0===p(t).activeTab?("upColor"in e?e.upColor:p(xe))[0]:("downColor"in e?e.downColor:p(ge))[0],onChange:Ae},null,8,["activeColor"]),1===p(t).swapType?(f(),_("div",$b,k(e.$t("triggerPrice"))+"("+k(p(t).token1.symbol||"")+")",1)):m("",!0),1===p(t).swapType?(f(),_("div",Fb,[x("button",{class:"limit-price-icon",type:"button",disabled:!p(H),onClick:F(be,["stop"])},[C(r,null,{default:h(()=>[C(p(tt))]),_:1})],8,Ib),l[23]||(l[23]=x("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),C(i,{modelValue:p(H),"onUpdate:modelValue":[l[10]||(l[10]=e=>L(H)?H.value=e:null),l[11]||(l[11]=e=>{var l;H.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),x("button",{class:"limit-price-icon",type:"button",disabled:!p(H),onClick:F(ye,["stop"])},[C(r,null,{default:h(()=>[C(p(nt))]),_:1})],8,Lb)])):m("",!0),"solana"===p(t).chain&&0===p(t).swapType?(f(),_(y,{key:2},[x("div",Vb,k(e.$t("delegatePrice"))+"("+k(p(t).token1.symbol||"")+")",1),x("div",Bb,[x("button",{class:"limit-price-icon",type:"button",disabled:!p(E),onClick:F(we,["stop"])},[C(r,null,{default:h(()=>[C(p(tt))]),_:1})],8,Mb),l[24]||(l[24]=x("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),C(i,{modelValue:p(E),"onUpdate:modelValue":[l[12]||(l[12]=e=>L(E)?E.value=e:null),l[13]||(l[13]=e=>{var l;E.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Ve()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),x("button",{class:"limit-price-icon",type:"button",disabled:!p(E),onClick:F(Te,["stop"])},[C(r,null,{default:h(()=>[C(p(nt))]),_:1})],8,Db)])],64)):(f(),_(y,{key:3},[x("div",Eb,k(e.$t("delegatePrice"))+"("+k(p(t).token1.symbol||"")+")",1),x("div",Pb,[x("button",{class:"limit-price-icon",type:"button",disabled:!p(U),onClick:F(fe,["stop"])},[C(r,null,{default:h(()=>[C(p(tt))]),_:1})],8,Ub),l[25]||(l[25]=x("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),C(i,{modelValue:p(U),"onUpdate:modelValue":[l[14]||(l[14]=e=>L(U)?U.value=e:null),l[15]||(l[15]=e=>{var l;U.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Ie()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),x("button",{class:"limit-price-icon",type:"button",disabled:!p(U),onClick:F(he,["stop"])},[C(r,null,{default:h(()=>[C(p(nt))]),_:1})],8,Rb)])],64)),p(o).address?p(o).address&&!p(o).provider?(f(),v(u,{key:5,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:h(()=>[N(k(e.$t("watchWalletNotSwap")),1)]),_:1})):Be()?!p(ue)||p($)?(f(),v(u,{key:7,class:"submit-btn",block:"",color:p(de),"native-type":"submit","loading-text":p($)?e.$t("checkingAllowance"):p(z)?e.$t("quoting"):p(q)?e.$t("approve"):"",disabled:!De(),loading:p(q)||p(W)||p($)},{default:h(()=>[N(k(Ee()||e.$t("approve")),1)]),_:1},8,["color","loading-text","disabled","loading"])):(f(),v(u,{key:8,class:"submit-btn",block:"",loading:p(W)||p(D),"loading-text":p(D)?e.$t("quoting"):p(W)?0===p(t).activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:p(de),disabled:!De()||!p(A)||!p(S)||p($),"native-type":"submit"},{default:h(()=>{var l;return[N(k(Ee()||(0===p(t).activeTab?e.$t("buy"):e.$t("sell"))+" "+((null==(l=p(t).token1)?void 0:l.symbol)||"")),1)]}),_:1},8,["loading","loading-text","color","disabled"])):(f(),v(u,{key:6,"native-type":"button",class:"submit-btn",disabled:"",block:"",color:"#555555"},{default:h(()=>[N(k(Me()),1)]),_:1})):(f(),v(u,{key:4,"native-type":"button",class:"submit-btn",color:"#286DFF",onClick:l[16]||(l[16]=F(l=>("useBotStore"in e?e.useBotStore:p(O))().changeConnectVisible(!0,1),["stop"]))},{default:h(()=>[N(k(e.$t("pConnectWallet")),1)]),_:1})),x("ul",Hb,["solana"!==p(d)?(f(),_("li",Ob,[x("span",null,k(e.$t("slippage")),1),C(V,{name:"material-symbols:help-outline",onClick:l[17]||(l[17]=F(l=>{return a=e.$t("slippage"),t=e.$t("minimumReceivedTips"),void te.alert(t,a,{confirmButtonText:c("getIt")}).then(()=>{});var a,t},["stop"]))}),l[26]||(l[26]=x("span",{style:{flex:"1"}},null,-1)),C(wh,{slippage:p(T),"onUpdate:slippage":l[18]||(l[18]=e=>L(T)?T.value=e:null),canSetAuto:!1},null,8,["slippage"])])):m("",!0),0===p(t).swapType||1===p(t).swapType?(f(),_("li",jb,[x("div",zb,[x("span",null,k(e.$t("limitExpiredTime")),1)]),0===p(t).swapType&&"solana"===p(d)?(f(),v(wg,{key:0,expiredTime:p(Y),"onUpdate:expiredTime":l[19]||(l[19]=e=>L(Y)?Y.value=e:null)},null,8,["expiredTime"])):(f(),_("div",Wb,k(p(ot))+" "+k(e.$t("days1")),1))])):m("",!0)])],32),g(x("div",qb,[x("div",Gb,[(f(!0),_(y,null,w(p(ne),(e,l)=>(f(),_("button",{key:l,class:I(["tab-item",{active:e.value===p(le)}]),type:"button",onClick:F(l=>le.value=e.value,["stop"])},k(e.name),11,Yb))),128))]),g(C(bb,{class:"mt-5px",tableList:p(se),onRefresh:qe},null,8,["tableList"]),[[ie,"limit"===p(le)]])],512),[[ie,2!==p(t).swapType]]),C(Tk,{visible:p(Q),"onUpdate:visible":l[20]||(l[20]=e=>L(Q)?Q.value=e:null),limitInfo:p(re),loading:p(K),chain:p(o).chain,limitGasU:p(R),activeShow:p(X),onSubmit:Ue},null,8,["visible","limitInfo","loading","chain","limitGasU","activeShow"])],64)}}}),[["__scopeId","data-v-a255978a"]]),Kb=t({__name:"swap",setup(e){const l=Dx(),a=u(()=>0===l.swapType||1===l.swapType?Qb:_g);return(e,t)=>(f(),_(y,null,[C(Ef,{tab:p(l).swapType,"onUpdate:tab":t[0]||(t[0]=e=>p(l).swapType=e)},null,8,["tab"]),(f(),v(dt(p(a))))],64))}}),Xb=t({__name:"index",setup(e){const l=j(),a=Dx(),t=H(),n=o();return r([()=>{var e;return(null==(e=t.token)?void 0:e.token)||""},()=>l.chain,()=>l.address],()=>{var e;a.init(null==(e=n.params)?void 0:e.id)},{immediate:!0}),i(()=>{}),(e,l)=>(f(),_("div",null,[C(yf),C(Mf,{activeTab:p(a).activeTab,"onUpdate:activeTab":l[0]||(l[0]=e=>p(a).activeTab=e)},null,8,["activeTab"]),C(Kb)]))}}),Zb={class:"flex flex-col h-[calc(100vh-94px)] v-scroller-container"},Jb={class:"p-15px bg-[--secondary-bg] mt-1px"},e_={class:"p-15px pb-5px bg-[--secondary-bg] mt-1px"},l_=t({__name:"index",setup(e){const l=d(!1),a=U(),t=d(""),n=j();H();const o=u(()=>n.address?Xb:If),s=[{id:"5m",name:"5M"},{id:"1h",name:"1H"},{id:"4h",name:"4H"},{id:"24h",name:"24H"}],i=oe("token_tab_active","24h"),r=e=>{l.value=!0,t.value=e};return(e,u)=>{const d=ke,c=De;return g((f(),_("div",null,[x("div",Zb,[C(nv,{modelValue:p(i),"onUpdate:modelValue":u[0]||(u[0]=e=>L(i)?i.value=e:null),tabs:s},null,8,["modelValue"]),x("div",Jb,[(f(),v(dt(p(o)),{key:p(n).address?"Swap":"BotSwap"}))]),x("div",e_,[C(jv,{onOpenFilterModal:r})]),C(Hm,{class:"px-15px pb-10px pr-0 bg-[--secondary-bg] mt-1px"}),u[3]||(u[3]=x("div",{class:"bg-[--secondary-bg] flex-1"},null,-1))]),p(l)?(f(),v(c,{key:0,modelValue:p(l),"onUpdate:modelValue":u[2]||(u[2]=e=>L(l)?l.value=e:null),title:p(t),width:"480","destroy-on-close":""},{footer:h(()=>[C(d,{type:"primary",block:"",class:"w-full h-[48px]",size:"large",onClick:u[1]||(u[1]=e=>l.value=!1)},{default:h(()=>[N(k(e.$t("confirm")),1)]),_:1})]),default:h(()=>[C(jv,{search:p(t),isInModal:!0},null,8,["search"])]),_:1},8,["modelValue","title"])):m("",!0)],512)),[[ie,p(a).showRight]])}}});function a_(e="add"){const{$i18n:l}=a();return new Promise((t,n)=>{te.prompt("",l.t("enterGroupName"),{confirmButtonText:l.t("confirm1"),cancelButtonText:l.t("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>e?!((null==e?void 0:e.length)>20)||(n(),l.t("maximum10characters")):(n(),l.t("enterGroupName"))}).then(({value:l})=>{"add"===e?function(e,l,t){const{evmAddress:n}=O(),{address:o}=j(),{$i18n:s}=a(),i=An.service();Ne(e,n||o).then(()=>{ae.success(s.t("success")),l(!0)}).catch(e=>{ae.error(s.t("fail")),t()}).finally(()=>{i.close()})}(l,t,n):t(l)})})}const t_={class:"flex h-420px"},n_={class:"w-240px h-full py-20px"},o_={class:"font-500 text-20px lh-[100%] mb-10px px-20px"},s_={class:"h-[310px]"},i_=["onClick"],r_={class:"flex items-center gap-8px dragItemIcons invisible"},u_={class:"flex items-center px-20px"},d_={class:"w-480px h-full py-20px bg-[--secondary-bg]"},c_={class:"font-500 text-20px lh-[100%] mb-20px px-20px"},v_={class:"flex items-center"},m_={class:"flex flex-col items-start"},p_={class:"[&&]:color-[--main-text] text-12px flex lh-[1.15]"},f_={key:0,class:"mt-2px border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px lh-[1.15]"},h_={class:"flex items-center gap-8px justify-end"},x_=["infinite-scroll-disabled"],g_={key:0,class:"text-center px-0 pt-15px pb-10px text-12px color-[--third-text]"},k_={key:1,class:"text-center px-0 pt-15px pb-10px text-12px color-[--third-text]"},b_={class:"flex-between h-80px px-20px"},__=t({__name:"dialogFavoriteManage2",props:{list:{type:Array,default:()=>[]},getData:{type:Function,default:()=>{}},visible:Boolean},setup(l){const a=l,t=P(a.list);r(()=>a.list,e=>{t.value=e});const o=de(Be.FAV_DIALOG),{t:s}=n(),c=O(),T=j(),A=u(()=>c.evmAddress||T.address);H();const S=d(0),$=d([]),V=d({loading:!1,finished:!1,pageNo:1}),B=d(!1),M=P(!0),D=P([]);async function E(){if(!V.value.loading)try{V.value.loading=!0;const e=await ct(S.value,V.value.pageNo,A.value),l=(e||[]).map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,network:e.chain,priceChange24h:(null==e?void 0:e.price_change)?Number(null==e?void 0:e.price_change)/100:0,priceUSD:(null==e?void 0:e.current_price_usd)||0,activeGroup:S.value}));1===V.value.pageNo?$.value=l:$.value=[...$.value,...l],0===(null==e?void 0:e.length)&&(V.value.finished=!0),V.value.finished||V.value.pageNo++}catch(e){}finally{V.value.loading=!1}}async function U(e,l,a){const t=e.token+"-"+e.chain,n=l+a;if(n<0||n+1>$.value.length)return;const i=$.value[n],r=i.token+"-"+i.chain;try{await ht(t,r,S.value,A.value),ae.success(s("success")),R(),o.emit({type:"order",tokenId:t})}catch(u){ae.error(s("fail"))}}function R(){V.value.pageNo=1,V.value.finished=!1,E()}async function z(e){const l=e.token+"-"+e.chain,{value:a}=await te.prompt("",s("enterRemark"),{confirmButtonText:s("confirm1"),cancelButtonText:s("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>!((null==e?void 0:e.length)>50)||s("maximum10characters")});!async function(e,l,a){try{await Le(l,e,A.value),a.remark=e,xt($),ae.success(s("success")),o.emit({type:"remark",tokenId:l})}catch(t){}}(a,l,e)}function W(){!function(e){bt({address:A.value,group:e}).then(()=>{ae.success(s("success")),a.getData()}).catch(e=>{ae.error(String(e))})}(t.value.map(e=>e.group_id))}async function q(){await a_(),a.getData(),o.emit({type:"changeFavoriteGroupName"})}async function G(e){const{value:l}=await te.prompt("",s("enterGroupName"),{confirmButtonText:s("confirm1"),cancelButtonText:s("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>e?!((null==e?void 0:e.length)>20)||s("maximum10characters"):s("cannotBeEmpty")});!async function(e,l){try{await _t(e,l,A.value),ae.success(s("success")),a.getData(),o.emit({type:"changeFavoriteGroupName"})}catch(t){ae.error(t+""||s("fail"))}}(l,e.group_id)}async function Y(){await te.confirm(s("removeTokenTips"),s("tips"),{confirmButtonText:s("confirm"),cancelButtonText:s("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",dangerouslyUseHTMLString:!0}),kt({address:A.value,token_ids:D.value}).then(()=>{ae.success(s("success")),R(),D.value=[],B.value=!1,M.value=!1,o.emit({type:"delete"})}).catch(e=>{ae.error(String(e))})}r([D,$],e=>{const l=e[0],a=e[1];l.length===a.length&&a.length>0?B.value=!0:B.value=!1,M.value=l.length>0&&l.length<a.length}),i(()=>{E()}),r(()=>[A.value,a.visible],()=>{R(),D.value=[],B.value=!1,M.value=!1});const Q=e=>{D.value=e?$.value.map(e=>e.token+"-"+e.chain):[],M.value=!1};return(n,i)=>{const r=b,u=e,d=ke,c=pt,T=Je,P=no,H=gn,O=xn,j=to,K=wl,X=mt;return f(),_("div",t_,[x("div",n_,[x("div",o_,k(p(s)("favoritesGroup")),1),x("div",s_,[C(u,{"wrap-class":"mb-0px"},{default:h(()=>[C(p(so),vt({modelValue:p(t),"onUpdate:modelValue":i[0]||(i[0]=e=>L(t)?t.value=e:null),class:"flex flex-col",tag:"ul"},{animation:300},{"item-key":"show_index",handle:".handle1",onEnd:W}),{default:h(()=>[(f(!0),_(y,null,w(p(t),e=>(f(),_("li",{key:null==e?void 0:e.show_index,class:I(`dragItem flex-between font-400 py-12px px-20px hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-pointer ${p(S)===e.group_id&&"bg-[--dialog-list-hover]"}`),onClick:l=>{return a=e.group_id,S.value=a,R(),D.value=[],B.value=!1,void(M.value=!1);var a}},[x("span",null,k(null==e?void 0:e.name),1),x("div",r_,[(null==e?void 0:e.group_id)?(f(),v(r,{key:0,name:"material-symbols:dehaze",class:"text-16px text-[--third-text] cursor-move handle1"})):m("",!0),(null==e?void 0:e.group_id)?(f(),v(r,{key:1,name:"bxs:edit-alt",class:"text-13px clickable color-[--third-text]",onClick:F(l=>G(e),["stop","prevent"])},null,8,["onClick"])):m("",!0),(null==e?void 0:e.group_id)?(f(),v(r,{key:2,name:"bx:bxs-trash-alt",class:"text-13px clickable color-[--third-text]",onClick:F(l=>async function(e){await te.confirm(s("removeFavGroupTips"),s("tips"),{confirmButtonText:s("confirm"),cancelButtonText:s("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",dangerouslyUseHTMLString:!0});try{await gt(e.group_id,A.value),ae.success(s("success")),a.getData(),o.emit({type:"removeFavoriteGroup",groupId:e.group_id})}catch(l){}}(e),["stop","prevent"])},null,8,["onClick"])):m("",!0)])],10,i_))),128))]),_:1},16,["modelValue"])]),_:1})]),x("div",u_,[C(d,{type:"primary",color:"#3F80F7",class:"w-100% h-40px",onClick:q},{default:h(()=>[N(k(p(s)("newGroup")),1)]),_:1})])]),x("div",d_,[x("div",c_,k(p(s)("groupDetails")),1),C(K,{modelValue:p(D),"onUpdate:modelValue":i[1]||(i[1]=e=>L(D)?D.value=e:null)},{default:h(()=>[C(j,{id:"table_fav",ref:"table_ref",data:p($),height:"280px",class:"w-full table-container [&&]:text-12px","highlight-current-row":""},{empty:h(()=>[C(c)]),append:h(()=>{var e,l;return[g(x("div",{class:"text-0 lh-0 h-0","infinite-scroll-disabled":p(V).loading||p(V).finished,"infinite-scroll-distance":20,"infinite-scroll-delay":200,"infinite-scroll-immediate":!0},null,8,x_),[[X,E]]),p(V).loading&&(null==(e=p($))?void 0:e.length)>0?(f(),_("div",g_,k(n.$t("loading")),1)):p(V).finished&&(null==(l=p($))?void 0:l.length)>0?(f(),_("div",k_,k(n.$t("noMore")),1)):m("",!0)]}),default:h(()=>[C(P,{label:n.$t("token")},{default:h(({row:e})=>[x("div",v_,[C(T,{value:(null==e?void 0:e.token)+"-"+(null==e?void 0:e.chain),size:"large"},null,8,["value"]),C(Tl,{class:"mr-8px",row:e},null,8,["row"]),x("div",m_,[x("span",p_,k(e.symbol),1),e.remark?(f(),_("span",f_,k(e.remark||"-"),1)):m("",!0)])])]),_:1},8,["label"]),C(P,{label:n.$t("changeGroup"),align:"right"},{default:h(({row:e})=>[C(O,{modelValue:e.activeGroup,"onUpdate:modelValue":l=>e.activeGroup=l,class:"[&&]:[--el-fill-color-blank:--border]",placeholder:n.$t("pleaseSelectGroup"),persistent:!1,onChange:l=>async function(e,l){try{const a=e.token+"-"+e.chain;await Ie(a,l,A.value),ae.success(s("success")),R(),o.emit({type:"confirmSwitchGroup",tokenId:a})}catch(a){ae.error(s("fail"))}}(e,l)},{default:h(()=>[(f(!0),_(y,null,w(l.list,e=>(f(),v(H,{key:e.group_id,label:e.name,value:e.group_id,disabled:p(S)===e.group_id},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","onChange"])]),_:1},8,["label"]),C(P,{label:n.$t("operate"),align:"right"},{default:h(({row:e,$index:l})=>[x("div",h_,[C(r,{name:"bx:arrow-to-top",class:I("text-16px clickable "+(0===l?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:F(a=>async function(e,l){if(0!==l)try{const l=e.token+"-"+e.chain;await ft(l,S.value,A.value),ae.success(s("success")),R(),o.emit({type:"order",tokenId:l})}catch(a){ae.error(s("fail"))}}(e,l),["stop"])},null,8,["class","onClick"]),C(r,{name:"material-symbols:arrow-upward",class:I("text-16px clickable "+(0===l?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:F(a=>U(e,l,-1),["stop"])},null,8,["class","onClick"]),C(r,{name:"material-symbols:arrow-downward",class:I("text-16px clickable "+(l+1===p($).length?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:F(a=>U(e,l,1),["stop"])},null,8,["class","onClick"]),C(r,{name:"bxs:edit-alt",class:"text-13px clickable color-[--main-text]",onClick:F(l=>z(e),["stop","prevent"])},null,8,["onClick"]),C(r,{name:"bx:bxs-trash-alt",class:"text-13px clickable color-[--main-text]",onClick:F(l=>function(e){Ve(`${e.token}-${e.chain}`,A.value).then(()=>{o.emit({type:"delete"}),R(),ae.success(s("cancelled1")),a.getData()}).catch(e=>{})}(e),["stop","prevent"])},null,8,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["modelValue"]),x("div",b_,[C(T,{modelValue:p(B),"onUpdate:modelValue":i[2]||(i[2]=e=>L(B)?B.value=e:null),indeterminate:p(M),onChange:Q,label:p(s)("selectAll"),size:"large"},null,8,["modelValue","indeterminate","label"]),C(d,{type:"primary",color:"#3F80F7",class:"h-40px",onClick:Y,disabled:!p(D).length},{default:h(()=>[N(k(p(s)("batchDelete")),1)]),_:1},8,["disabled"])])])])}}}),y_=B(__,[["__scopeId","data-v-06d4fd65"]]),w_=t({__name:"favDialog2",props:{visible:Boolean,isScroll:Boolean,loading:Boolean,list:{type:Array,default:()=>[]},getData:{type:Function,default:()=>{}}},emits:["update:visible"],setup(e,{emit:l}){const a=e,{t:t}=n(),o=l,{theme:s}=W(),i=u({get:()=>a.visible,set(e){o("update:visible",e)}});return r(i,e=>{e&&a.getData()}),(l,a)=>{const t=De;return p(i)?(f(),v(t,{key:0,modelValue:p(i),"onUpdate:modelValue":a[0]||(a[0]=e=>L(i)?i.value=e:null),"append-to-body":"","show-close":!0,"align-center":"",width:"720px","destroy-on-close":"",class:I(`${p(s)} [--el-message-close-size:24px] favDialog2`)},{default:h(()=>[C(y_,{visible:p(i),list:e.list,"get-data":e.getData,loading:e.loading},null,8,["visible","list","get-data","loading"])]),_:1},8,["modelValue","class"])):m("",!0)}}}),T_={class:"flex items-center justify-between pr-15px pl-12px mt-10px"},C_={class:"flex items-center min-w-0"},A_=["onClick"],S_=["infinite-scroll-disabled"],N_={class:"pb-20px"},$_={class:"flex items-center flex-1"},F_={class:"flex flex-col items-start"},I_={class:"text-12px flex items-center"},L_={class:"ellipsis"},V_=["src"],B_={key:0,class:"mt-2px border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px"},M_={class:"flex-1 text-12px text-right"},D_={key:0},E_={key:1},P_={key:0,class:"color-#959a9f text-12px text-center"},U_=t({__name:"favoriteTable",props:{height:{type:[Number,String],default:0}},setup(l){const a=de(Be.TOP_FAV_CHANGE);a.on($);const t=de(Be.FAV_DIALOG);t.on($);const A=de(Be.TOP_ADD_GROUP);A.on(ce);const S=P();function $(e){-1===e?function(){const e=U.value.address+"-"+U.value.chain,l=ne.value.findIndex(l=>l.token+"-"+l.chain===e);-1!==l&&ne.value.splice(l,1);xt(ne)}():(ge(),xe())}se(()=>{a.off($),t.off($),A.off($)});const{t:V}=n(),B=Re(),M=io(),{token:D}=z(H()),E=o(),U=u(()=>{var e,l;const a=E.params.id;return a?s(a):{address:(null==(e=D.value)?void 0:e.token)||"",chain:(null==(l=D.value)?void 0:l.chain)||""}});r(()=>B.wsResult[bl.PRICEV2],e=>{ne.value=ne.value.map(l=>{const a=e.prices.find(e=>l.token===e.token&&l.chain===e.chain);return a?{...l,current_price_usd:a.uprice,price_change:a.price_change_v2}:l}),"price_change"===le.value.sortBy&&ne.value.sort((e,l)=>((l[le.value.sortBy]||0)-(e[le.value.sortBy]||0))*le.value.activeSort),xt(ne)});const R=l,W=u(()=>Number(R.height)-110),q=O(),Y=j(),Q=u(()=>q.evmAddress||Y.address),K=d(!1),X=d(!1),Z=d([]),J=d(0),ee=yt("favoriteCondition",{currentMode:"mcap"}),le=d({activeSort:0,sortBy:null}),ae={sort:"",sort_dir:""},te=P({finished:!1,loading:!1,pageNo:1,error:!1}),ne=d([]),oe=u(()=>[{label:V("token"),value:"symbol",flex:"flex-1",sort:!0},{label:("mcap"===ee.value.currentMode?V("mCap"):V("price"))+"{currentMode}/24h%",value:(ee.value.currentMode,"price_change"),currentMode:ee.value.currentMode,flex:"flex-1 justify-end",sort:!0}]),re=u(()=>0!==le.value.activeSort&&le.value.sortBy?"symbol"===le.value.sortBy?ne.value.toSorted((e,l)=>((l.symbol[0].toLowerCase().charCodeAt(0)||0)-(e.symbol[0].toLowerCase().charCodeAt(0)||0))*le.value.activeSort):"price_change"===le.value.sortBy?ne.value.toSorted((e,l)=>((l[le.value.sortBy]||0)-(e[le.value.sortBy]||0))*le.value.activeSort):ne.value:ne.value);i(()=>{Q.value&&ce()}),r(()=>Q.value,()=>{ce(),fe(0,0)}),r(()=>le.value,e=>{"price_change"===e.sortBy?(ae.sort_dir=["asc","","desc"][(e.activeSort||0)+1],ae.sort="price_change"):(ae.sort_dir="",ae.sort=""),ge(),xe()}),r(()=>Y.walletSignature[Y.address],()=>{ge(),xe()});const ue=P(!1);async function ce(){try{X.value=!0;const e=await ve(Q.value);Z.value=[{group_id:0,name:V("defaultGroup")}].concat((e||[]).filter(e=>!!e.name)),setTimeout(()=>{var e;ue.value=Number(null==(e=pe.value)?void 0:e.offsetWidth)>212})}catch(e){}finally{X.value=!1}}function me(){K.value=!0}i(()=>{xe()});const pe=P(null);function fe(e,l){J.value=e,ge(),xe(),wt(pe,l)}async function xe(){try{te.value.loading=!0;const e=te.value.pageNo,l=await ct(J.value,e,Q.value,ae.sort_dir,ae.sort);if(Array.isArray(l)){const a=l.map(e=>({...e,id:e.token+"-"+e.chain,price_change:e.price_change_v2,pool_circulating_supply:(e.total-e.lock_amount-e.burn_amount-e.other_amount)*e.current_price_usd})).filter(e=>{var l,a;return"brc20"!==(null==e?void 0:e.chain)&&"runes"!==(null==e?void 0:e.chain)&&!(null==(l=null==e?void 0:e.token)?void 0:l.includes("inscription:"))&&!(null==(a=null==e?void 0:e.token)?void 0:a.includes("("))});ne.value=1===e?a:ne.value.concat(a),M.setMultiPriceParams("favorite",ne.value.map(e=>e.id)),M.sendPriceWs(),te.value.finished=0===(null==l?void 0:l.length),te.value.finished||te.value.pageNo++}}catch(e){te.value.error=!0}finally{te.value.loading=!1}}function ge(){S.value.setScrollTop(0),te.value.finished=!1,te.value.pageNo=1}function ke(e){"mcap"===ee.value.currentMode?ee.value.currentMode="price":ee.value.currentMode="mcap"}return(l,a)=>{const t=b,n=T,o=pt,s=e,i=c("tooltip"),r=mt,u=be;return g((f(),_("div",null,[x("div",T_,[x("div",C_,[g(x("span",{class:"w-20px h-20px rounded-2px color-[--third-text] hover:color-[--secondary-text] bg-[--secondary-bg] flex items-center justify-center cursor-pointer",onClick:a[0]||(a[0]=e=>("scrollElement"in l?l.scrollElement:p(Tt))(p(pe),-200))},[C(t,{name:"material-symbols:arrow-back-ios-new-rounded"})],512),[[ie,p(ue)]]),x("div",{ref_key:"tabsContainer",ref:pe,class:"flex items-center gap-10px whitespace-nowrap overflow-x-auto overflow-y-hidden scrollbar-hide"},[x("span",{class:I("decoration-none shrink-0 text-12px lh-16px text-center px-4px py-2px rounded-4px cursor-pointer "+(0===p(J)?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:a[1]||(a[1]=e=>fe(0,0))},k(l.$t("defaultGroup")),3),(f(!0),_(y,null,w(p(Z).slice(1),(e,l)=>(f(),_("span",{key:l,class:I("decoration-none shrink-0 text-12px lh-16px text-center px-4px py-2px rounded-4px cursor-pointer "+(p(J)===e.group_id?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:a=>fe(e.group_id,l+1)},k(e.name),11,A_))),128))],512),g(x("span",{class:"mr-4px w-20px h-20px rounded-2px color-[--third-text] hover:color-[--secondary-text] bg-[--secondary-bg] flex items-center justify-center cursor-pointer",onClick:a[2]||(a[2]=e=>("scrollElement"in l?l.scrollElement:p(Tt))(p(pe),200))},[C(t,{name:"material-symbols:arrow-forward-ios-rounded"})],512),[[ie,p(ue)]])]),C(t,{name:"custom:remark",class:"shrink-0 text-12px mr-0 cursor-pointer color-[--third-text] hover:color-#286DFF",onClick:F(me,["self"])})]),C(oo,{sort:p(le),"onUpdate:sort":a[3]||(a[3]=e=>L(le)?le.value=e:null),columns:p(oe),toggleMode:ke},null,8,["sort","columns"]),C(s,{ref_key:"otherListArea",ref:S,height:p(W)},{default:h(()=>[g((f(),_("div",{"infinite-scroll-disabled":p(te).loading||p(te).finished,"infinite-scroll-distance":"200","infinite-scroll-delay":10,"infinite-scroll-immediate":!1},[x("div",N_,[(f(!0),_(y,null,w(p(re),(e,a)=>(f(),v(n,{key:`${e.token}-${e.chain}`,class:"px-10px flex items-center h-40px cursor-pointer hover:bg-[--dialog-bg]",to:`/token/${e.token}-${e.chain}`},{default:h(()=>[x("div",$_,[g(C(Tl,{class:"mr-8px",row:e},null,8,["row"]),[[i,{content:{is:Tl,props:{row:e,"chain-class":"hidden","token-class":"w-240px h-240px [&&]:mr-0 rounded-16px"}},props:{placement:"bottom-start","show-arrow":!1,"popper-class":"tooltip-pd-0"}}]]),x("div",F_,[x("span",I_,[x("span",L_,k(e.symbol),1),e.issue_platform?g((f(),_("img",{key:0,class:"ml-5px w-10px h-10px rounded-full",src:("formatIconTag"in l?l.formatIconTag:p(he))(e.issue_platform),alt:""},null,8,V_)),[[i,e.issue_platform]]):m("",!0)]),e.remark?(f(),_("span",B_,k(e.remark),1)):m("",!0)])]),x("div",M_,["mcap"!==p(ee).currentMode?(f(),_("div",D_," $"+k(p(G)(e.current_price_usd||0,4)),1)):(f(),_("div",E_,"$"+k(p(G)(e.pool_circulating_supply||0,2)),1)),x("div",{class:I(`flex-1 text-right text-12px\n                ${("getColorClass"in l?l.getColorClass:p(Ct))(e.price_change)}\n            `)},[0===Number(e.price_change)?(f(),_(y,{key:0},[N("0%")],64)):e.price_change&&"--"!==e.price_change?(f(),_(y,{key:2},[N(k(Number(e.price_change)>0?"+":"-")+k(p(G)(Math.abs(Number(e.price_change))||0,2))+"% ",1)],64)):(f(),_(y,{key:1},[N("--")],64))],2)])]),_:2},1032,["to"]))),128)),0!==p(re).length||p(te).loading?m("",!0):(f(),v(o,{key:0}))]),p(te).loading&&p(te).pageNo>1?(f(),_("div",P_,k(l.$t("loading")),1)):m("",!0)],8,S_)),[[r,xe]])]),_:1},8,["height"]),C(w_,{visible:p(K),"onUpdate:visible":a[4]||(a[4]=e=>L(K)?K.value=e:null),loading:p(X),"get-data":ce,list:p(Z)},null,8,["visible","loading","list"])])),[[u,1===p(te).pageNo&&p(te).loading]])}}}),R_={class:"pt-10px flex items-center px-12px gap-20px border-b-solid border-b-1px border-b-#FFFFFF08"},H_=["onClick"],O_={class:"text-12px mt-10px"},j_=t({__name:"topLeftTable",props:{height:{type:Number,default:370}},setup(e){const{t:l}=n(),a=e,t=O(),o=j(),s=d("FavoriteTable"),i=u(()=>[{name:l("favorites"),component:"FavoriteTable"},{name:l("positions"),component:"PositionsTable"}]),r={FavoriteTable:U_,PositionsTable:Me(()=>ne(()=>import("./YJ8GLtNh.js"),__vite__mapDeps([7,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]),import.meta.url))},c=u(()=>r[s.value]),m=u(()=>"PositionsTable"===s.value?a.height-4:a.height);return(l,n)=>{const r=ke,u=pt;return f(),_("div",{style:A(`height: ${Math.max(e.height,0)}px;`),class:I("color-[--main-text] bg-[--secondary-bg] rounded-2px text-14px overflow-hidden\n    ")},[x("div",R_,[(f(!0),_(y,null,w(p(i),e=>(f(),_("a",{key:e.component,href:"javascript:;",class:I("decoration-none text-12px lh-16px pb-8px text-center b-b-solid b-b-2px font-500\n         "+(p(s)===e.component?"color-[--main-text] b-b-[--main-text]":"color-[--third-text] b-b-transparent")),onClick:l=>s.value=e.component},k(e.name),11,H_))),128))]),p(t).evmAddress||p(o).address?(f(),v(dt(p(c)),{key:0,height:p(m)},null,8,["height"])):(f(),v(u,{key:1,style:A({height:a.height-50+"px"}),class:"overflow-hidden"},{default:h(()=>[x("span",O_,k(l.$t("noWalletTip")),1),C(r,{class:"mt-10px",onClick:n[0]||(n[0]=e=>p(t).$patch({connectVisible:!0}))},{default:h(()=>[N(k(l.$t("connectWallet")),1)]),_:1})]),_:1},8,["style"]))],4)}}}),z_={class:"color-[--main-text]"},W_={class:"flex-1 flex items-center"},q_={class:"ml-6px"},G_={class:"flex items-center"},Y_={class:"color-[--main-text] max-w-80px overflow-hidden text-ellipsis whitespace-nowrap"},Q_=["src"],K_=["src"],X_={class:"mt-2px color-[--third-text]"},Z_={class:"flex flex-col items-end"},J_=t({__name:"trending",props:{finalHeight:{type:Number,required:!0}},setup(l){const{t:a}=n();i(()=>{});const{hotList:t}=z(U()),o=d({activeSort:0,sortBy:""}),s=u(()=>t.value||[]),r=u(()=>{const{activeSort:e,sortBy:l}=o.value;return 0!==e&&l?s.value.toSorted((a,t)=>{if("symbol"===l){return((t.symbol[0].toLowerCase().charCodeAt(0)||0)-(a.symbol[0].toLowerCase().charCodeAt(0)||0))*e}return"mcap"===l?(Number(At(t))-Number(At(a)))*e:(Number(t[l]||0)-Number(a[l]||0))*e}):s.value}),A=u(()=>[{label:a("token")+"/"+a("mCap"),value:"mcap",flex:"flex-[3]",sort:!0},{label:a("price"),value:"current_price_usd",flex:"flex-1 justify-end",sort:!0},{label:"24h%",value:"price_change",flex:"flex-1 justify-end",sort:!0}]);return(a,t)=>{const n=Z,s=b,i=T,u=e,d=c("tooltip");return f(),_("div",z_,[C(oo,{sort:p(o),"onUpdate:sort":t[0]||(t[0]=e=>L(o)?o.value=e:null),columns:p(A)},null,8,["sort","columns"]),C(u,{height:Math.max(500,l.finalHeight-130),class:"[&&]:h-auto"},{default:h(()=>[(f(!0),_(y,null,w(p(r),(e,l)=>(f(),v(i,{key:l,class:"px-10px flex items-center h-40px cursor-pointer hover:bg-[--dialog-bg] text-12px",to:`/token/${e.token}-${e.chain}`},{default:h(()=>{var l;return[x("div",W_,[C(n,{"popper-class":"tooltip-pd-0",placement:"bottom-start","show-arrow":!1,persistent:!1},{default:h(()=>[C(Tl,{row:e},null,8,["row"])]),content:h(()=>[C(Tl,{row:e,"chain-class":"hidden","token-class":"w-240px h-240px [&&]:mr-0 rd-16px"},null,8,["row"])]),_:2},1024),x("div",q_,[x("div",G_,[x("span",Y_,k(e.symbol),1),e.launchpad?g((f(),_("img",{key:0,class:"ml-5px w-10px h-10px rounded-full",src:("formatIconTag"in a?a.formatIconTag:p(he))(e.launchpad),alt:""},null,8,Q_)),[[d,e.launchpad]]):m("",!0),(null==(l=e.badges)?void 0:l.length)>0?(f(!0),_(y,{key:1},w(e.badges,(e,l)=>g((f(),_("img",{key:l,class:"ml-5px rd-50%",src:("formatIconTag"in a?a.formatIconTag:p(he))(e.tag),alt:"",width:10,onerror:"this.src='/icon-default.png'"},null,8,K_)),[[d,a.$t(`${e.tag}`)]])),128)):m("",!0),e.risk_score>55?(f(),v(s,{key:2,name:"custom:danger",class:"font-14 ml-2px color-#F72121"})):m("",!0)]),x("div",X_,[0===e.current_price_usd?(f(),_(y,{key:0},[N("0")],64)):"--"===e.current_price_usd?(f(),_(y,{key:1},[N("--")],64)):(f(),_(y,{key:2},[N(" $"+k(p(G)(p(At)(e),2)),1)],64))])])]),x("div",Z_,[x("div",null,[0===Number(e.current_price_usd)?(f(),_(y,{key:0},[N("0")],64)):"--"===e.current_price_usd?(f(),_(y,{key:1},[N("--")],64)):(f(),_(y,{key:2},[N(" $"+k(p(G)(e.current_price_usd,4)),1)],64))]),x("div",{class:I(("getColorClass"in a?a.getColorClass:p(Ct))(e.price_change_v2))},[0===Number(e.price_change_v2)?(f(),_(y,{key:0},[N("0")],64)):"--"===e.price_change_v2?(f(),_(y,{key:1},[N("--")],64)):(f(),_(y,{key:2},[N(k(Number(e.price_change_v2)>0?"+":"-")+k(p(G)(Math.abs(Number(e.price_change_v2)),2))+"% ",1)],64))],2)])]}),_:2},1032,["to"]))),128))]),_:1},8,["height"])])}}}),ey={class:"bg-[--secondary-bg] rounded-2px text-14px pt-10px flex-1 flex flex-col"},ly={class:"flex items-center px-12px gap-20px border-b-#FFFFFF08"},ay=["onClick"],ty=t({__name:"bottomLeftTable",setup(e){const{t:l}=n(),{height:a}=Ee(),t=yt("topLeftHeight",St.TOPLEFT),o=u(()=>a.value-t.value),s=d("Trending"),i=u(()=>[{name:l("trending"),component:"Trending"}]),r={Trending:J_},c=u(()=>r[s.value]);return(e,l)=>(f(),_("div",ey,[x("div",ly,[(f(!0),_(y,null,w(p(i),e=>(f(),_("a",{key:e.component,href:"javascript:;",class:I("decoration-none text-12px lh-16px pb-8px text-center b-b-solid b-b-2px font-500\n        "+(p(s)===e.component?"color-[--main-text] b-b-[--main-text]":"color-[--third-text] b-b-transparent")),onClick:l=>s.value=e.component},k(e.name),11,ay))),128))]),(f(),v(dt(p(c)),{class:"flex-1 relative",finalHeight:p(o)},null,8,["finalHeight"]))]))}}),ny={key:0},oy={class:"relative"},sy=t({__name:"left",setup(e){const l=yt("topLeftHeight",St.TOPLEFT),a=d(!1),t=U(),{height:n}=Ee();function o(e){let t=e.clientY;return a.value=!0,document.onmousemove=e=>{if(!a.value)return;const{clientY:o}=e,s=o<t?l.value-(t-o):l.value+o-t;s<=n.value-164&&(l.value=s),t=o},document.onmouseup=()=>{a.value=!1,document.onmousemove=null,document.onmouseup=null},!1}return(e,a)=>p(t).showLeft?(f(),_("div",ny,[x("div",oy,[C(j_,{height:p(l)},null,8,["height"]),x("div",{class:"w-full cursor-row-resize bg-[--border] gap-1px hover:bg-[--third-text] flex items-center justify-center h-4px",onMousedown:F(o,["stop","prevent"])},[(f(),_(y,null,w(4,e=>x("span",{key:e,class:"bg-[--icon-color] w-2px h-2px rounded-full"})),64))],32)]),C(ty)])):m("",!0)}}),iy={key:1,class:"color-#F2AD41 mt-5px"},ry={class:"block mt-5px"},uy={class:"block mt-5px"},dy={class:"block mt-5px"},cy=t({__name:"tagsContent",props:{tags:{type:Array,default:()=>[]}},setup(e){const{locale:l}=Pe();return(a,t)=>(f(),_("div",null,[(f(!0),_(y,null,w(e.tags,(e,t)=>{var n;return f(),_(y,{key:t},[Number(e.type)?(f(),_("span",{key:0,class:"mr-3px text-12px",style:A({color:e.color})}," ["+k(null==e?void 0:e[p(Nt)(p(l))])+"] ",5)):m("",!0),(null==(n=e.extra_info)?void 0:n.length)>0&&"9"==e.type?(f(),_("div",iy,[(f(!0),_(y,null,w(null==e?void 0:e.extra_info,(e,l)=>(f(),_(y,{key:l},[x("span",ry,k(a.$t("lockAmount"))+": "+k(("formatNumber"in a?a.formatNumber:p(G))(e.amount,4)),1),x("span",uy,k(a.$t("lockDate"))+": "+k(p(at)(e.lockDate,"YYYY-MM-DD")),1),x("span",dy,k(a.$t("unlockDate"))+": "+k(p(at)(e.unlockDate,"YYYY-MM-DD")),1)],64))),128))])):m("",!0)],64)}),128))]))}}),vy=["src"],my=t({__name:"index",props:{tags:{type:Array,default:()=>[]},tagClass:{type:String,default:"ml-3px"},walletAddress:{type:String,default:""},chain:{type:String,default:""}},setup(e){const{$tooltip:l}=a(),t=e,{getPublicPortrait:n}=$t(),o=u(()=>{var e;if(!t.walletAddress||!t.chain)return t.tags;const l=(null==(e=n(t.walletAddress,t.chain))?void 0:e.new_tags)||[];return((null==l?void 0:l.length)>0?l:t.tags)||[]}),s=u(()=>o.value.filter(e=>{var l,a;return(null==(l=e.type)?void 0:l.includes("TOP"))&&(null==(a=e.type)?void 0:a.slice(3))<25||Number(e.type)}));function i(e){var l,a;let n=-1,i=0;for(let t=0;t<=e;t++){const s=o.value[t];s&&((null==(l=s.type)?void 0:l.includes("TOP"))&&(null==(a=s.type)?void 0:a.slice(3))<25||Number(s.type))&&(t===e&&(n=i),i++)}return n===s.value.length-1?"":t.tagClass}function r(e){o.value.some(e=>Number(e.type))&&l.show({content:{is:cy,props:{tags:o.value}},target:e.target,props:{placement:"top","popper-class":"signal-tags-tooltip"}})}function d(){l.hide()}return(e,l)=>{var a;return(null==(a=p(o))?void 0:a.length)>0?(f(),_("div",{key:0,class:"flex cursor-pointer",onMouseover:F(r,["stop"]),onMouseleave:F(d,["stop"])},[(f(!0),_(y,null,w(p(o),(e,l)=>{var a,t;return f(),_(y,{key:l},[(null==(a=e.type)?void 0:a.includes("TOP"))&&(null==(t=e.type)?void 0:t.slice(3))<25||Number(e.type)?(f(),_("img",{key:0,style:{"pointer-events":"none"},class:I(i(l)+" signal-tag-hover"),src:p(S)(e.icon),alt:"",height:"15"},null,10,vy)):m("",!0)],64)}),128))],32)):m("",!0)}}}),py={class:"text-14px font-400 color-[--main-text]"},fy={class:"mt-10px flex color-[--secondary-text] text-12px"},hy={class:"flex-[1.2]"},xy={class:"flex-1"},gy={class:"mt-5px flex items-center gap-4px text-12px"},ky={key:0,class:"text-12px text-[--down-color] mt-4px"},by={class:"flex mt-20px"},_y=t({__name:"tableDateFilter",props:{visible:Boolean,modelValue:{type:Array,default:()=>[]},boundary:{type:HTMLElement,default:void 0}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const{isDark:a}=z(W()),t=e,n=l,o=u({get:()=>t.visible,set(e){n("update:visible",e)}}),s=P([]),i=e=>!!s.value[1]&&at(e).isAfter(at(1e3*s.value[1])),d=e=>{if(s.value[0]){const l=at(1e3*s.value[0]);return at(e).isBefore(l)&&!at(e).isSame(l,"day")}return!1},c=u(()=>!(!s.value[1]||!s.value[0])&&s.value[1]<s.value[0]);return r(()=>t.modelValue,e=>{s.value=e}),(l,t)=>{const r=b,u=On,g=ke,y=V;return f(),v(y,{visible:p(o),"onUpdate:visible":t[4]||(t[4]=e=>L(o)?o.value=e:null),placement:"bottom",persistent:!1,width:420,trigger:"click",teleported:"","popper-style":"max-width: 420px;--el-text-color-primary:--third-text","popper-class":"transaction-popover","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:h(()=>[C(r,{name:"custom:filter",class:I((e.modelValue.length?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])]),default:h(()=>[x("div",py,k(l.$t("filterTime")),1),x("div",fy,[x("span",hy,k(l.$t("startTime")),1),x("span",xy,k(l.$t("endTime1")),1)]),x("div",gy,[C(u,{modelValue:p(s)[0],"onUpdate:modelValue":t[0]||(t[0]=e=>p(s)[0]=e),"disabled-date":i,class:"[--el-font-size-base:12px]",type:"datetime","range-separator":"To","start-placeholder":"yyyy/mm/dd hh:mm:ss","end-placeholder":"yyyy/mm/dd hh:mm:ss",format:"YYYY-MM-DD HH:mm:ss","value-format":"X","prefix-icon":"Calendar",teleported:!1},null,8,["modelValue"]),N(" "+k(l.$t("to"))+" ",1),C(u,{modelValue:p(s)[1],"onUpdate:modelValue":t[1]||(t[1]=e=>p(s)[1]=e),"disabled-date":d,class:"[--el-font-size-base:12px]",type:"datetime","range-separator":"To","start-placeholder":"yyyy/mm/dd hh:mm:ss","end-placeholder":"yyyy/mm/dd hh:mm:ss",format:"YYYY-MM-DD HH:mm:ss","value-format":"X","prefix-icon":"Calendar",teleported:!1},null,8,["modelValue"])]),p(c)?(f(),_("div",ky,k(l.$t("selectCorrectTimeRange")),1)):m("",!0),x("div",by,[C(g,{class:"h-30px flex-1 m-l-auto",color:p(a)?"#252E3C":"#D9E8FF",onClick:t[2]||(t[2]=e=>{p(s).length=0,n("confirm")})},{default:h(()=>[N(k(l.$t("reset")),1)]),_:1},8,["color"]),C(g,{disabled:p(c),type:"primary",class:"h-30px flex-1 m-l-auto",onClick:t[3]||(t[3]=e=>n("confirm",p(s).slice()))},{default:h(()=>[N(k(l.$t("confirm")),1)]),_:1},8,["disabled"])])]),_:1},8,["visible","popper-options"])}}}),yy={class:"text-12px font-400"},wy={class:"flex mt-10px"},Ty={class:"flex mt-10px"},Cy={class:"flex mt-10px"},Ay=t({__name:"volFilter",props:{visible:Boolean,modelValue:{type:Array,default:()=>[]}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const{isDark:a}=z(W()),t=e,n=l,o=u({get:()=>t.visible,set(e){n("update:visible",e)}}),s=P([]),i=u(()=>t.modelValue.filter(e=>!!e).length>0),r=W();function d(e){const l=Number(s.value[0]),a=Number(s.value[1])<=l;0===e&&a?s.value[0]=void 0:1===e&&a&&(s.value[1]=void 0)}return(e,l)=>{const a=b,t=ke,u=Kn,c=V;return f(),v(c,{visible:p(o),"onUpdate:visible":l[6]||(l[6]=e=>L(o)?o.value=e:null),placement:"bottom",width:350,trigger:"click",persistent:!1},{reference:h(()=>[C(a,{name:"custom:filter",class:I((p(i)?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])]),default:h(()=>[x("div",yy,k(e.$t("amountU"))+"($) ",1),x("div",wy,[(f(),_(y,null,w([10,100,200],(e,l)=>C(t,{key:l,plain:"",size:"default",class:"flex-1 h-30px font-400",onClick:F(l=>{p(s)[0]=e,p(s)[1]=void 0},["stop"])},{default:h(()=>[N(" ≥"+k(e),1)]),_:2},1032,["onClick"])),64))]),x("div",Ty,[C(u,{modelValue:p(s)[0],"onUpdate:modelValue":l[0]||(l[0]=e=>p(s)[0]=e),min:0,controls:!1,placeholder:e.$t("minor"),clearable:"",required:"",onBlur:l[1]||(l[1]=e=>d(0))},null,8,["modelValue","placeholder"]),l[7]||(l[7]=x("span",{class:"ml-10px mr-10px"},"~",-1)),C(u,{modelValue:p(s)[1],"onUpdate:modelValue":l[2]||(l[2]=e=>p(s)[1]=e),min:0,controls:!1,placeholder:e.$t("max1"),clearable:"",required:"",onBlur:l[3]||(l[3]=e=>d(1))},null,8,["modelValue","placeholder"])]),x("div",Cy,[(f(),v(t,{key:p(r).theme,class:"h-30px flex-1 m-l-auto",color:"var(--border)",onClick:l[4]||(l[4]=e=>{p(s).length=0,n("confirm")})},{default:h(()=>[N(k(e.$t("reset")),1)]),_:1})),C(t,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:l[5]||(l[5]=e=>n("confirm",p(s).slice()))},{default:h(()=>[N(k(e.$t("confirm")),1)]),_:1})])]),_:1},8,["visible"])}}}),Sy={class:"flex"},Ny={class:"flex mt-20px"},$y=t({__name:"makersFilter",props:{visible:Boolean,modelValue:{type:String,default:""},chain:{type:String,default:""}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const a=e,t=l,{evmAddress:n,getWalletAddress:o}=O(),s=W(),i=d(""),c=u({get:()=>a.visible,set(e){t("update:visible",e)}});return r(()=>a.modelValue,()=>{i.value=a.modelValue}),(l,a)=>{const r=b,u=_e,d=ke,g=V;return f(),v(g,{visible:p(c),"onUpdate:visible":a[4]||(a[4]=e=>L(c)?c.value=e:null),placement:"bottom",width:215,trigger:"click",persistent:!1},{reference:h(()=>[C(r,{name:"custom:filter",class:I((e.modelValue?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])]),default:h(()=>[x("div",Sy,[C(u,{modelValue:p(i),"onUpdate:modelValue":a[0]||(a[0]=e=>L(i)?i.value=e:null),modelModifiers:{trim:!0},style:{"--el-input-bg-color":"var(--dialog-list-hover)"},placeholder:l.$t("enterAddress"),clearable:""},null,8,["modelValue","placeholder"])]),p(n)?(f(),v(d,{key:p(s).theme,class:"h-30px mt-20px w-full",size:"default",color:"var(--border)",onClick:a[1]||(a[1]=l=>i.value=p(o)(e.chain)||"")},{default:h(()=>[N(k(l.$t("filterWallet")),1)]),_:1})):m("",!0),x("div",Ny,[(f(),v(d,{key:p(s).theme,class:"h-30px flex-1 m-l-auto",color:"var(--border)",onClick:a[2]||(a[2]=e=>{i.value="",t("confirm")})},{default:h(()=>[N(k(l.$t("reset")),1)]),_:1})),C(d,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:a[3]||(a[3]=e=>t("confirm",p(i)))},{default:h(()=>[N(k(l.$t("confirm")),1)]),_:1})])]),_:1},8,["visible"])}}}),Fy=""+new URL("aveai.BpE2-HFd.svg",import.meta.url).href,Iy=""+new URL("aveai-b.DJfoTmOb.svg",import.meta.url).href,Ly={key:1,class:"flex flex-col gap-6px w-210px color-[--main-text]"},Vy={class:"flex gap-6px items-center"},By={class:"flex justify-between"},My={class:"color-[--secondary-text]"},Dy={class:"color-[--third-text]"},Ey={class:"color-[--main-text]"},Py={class:"flex justify-between"},Uy={class:"color-[--secondary-text]"},Ry={class:"flex justify-between"},Hy={class:"color-[--secondary-text]"},Oy={class:"flex justify-between whitespace-nowrap"},jy={class:"color-[--secondary-text]"},zy={class:"color-[--third-text] mr-10px"},Wy={class:"color-#12B886"},qy={class:"flex justify-between whitespace-nowrap"},Gy={class:"color-[--secondary-text]"},Yy={class:"color-[--third-text] mr-10px"},Qy={class:"color-#F6465D"},Ky={class:"flex justify-between"},Xy={class:"color-[--secondary-text]"},Zy={class:"color-#12B886"},Jy={class:"flex justify-between"},ew={class:"color-[--secondary-text]"},lw={class:"flex justify-between"},aw={class:"color-[--secondary-text]"},tw={class:"color-[--third-text]"},nw={class:"flex justify-between"},ow={class:"color-[--secondary-text]"},sw={class:"color-[--third-text]"},iw={key:1,class:"color-[--third-text]"},rw={key:0},uw={class:"color-[--secondary-text] lh-16px mb-8px"},dw={class:"flex-wrap flex items-center gap-x-20px gap-y-6px"},cw={class:"ml-4px"},vw={class:"flex justify-center my-12px"},mw={key:0,src:Fy,alt:"",class:"h-14px"},pw={key:1,src:Iy,alt:"",class:"h-14px"},fw=t({__name:"markerTooltip",props:{virtualRef:{type:HTMLElement,default:null},currentRow:{type:Object,default:()=>({})},addressAndChain:{type:Object,default:()=>({})},modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const a=l,t=e,n=W(),o=u({get:()=>t.modelValue,set(e){a("update:modelValue",e)}}),s=d(!1),i=P();return r(()=>{var e;return(null==(e=t.currentRow)?void 0:e.wallet_address)||""},()=>{t.currentRow&&async function(){const e={user_address:t.currentRow.wallet_address,chain:t.addressAndChain.chain,token:t.addressAndChain.address};s.value=!0;try{const l=await Ft(e);l&&(i.value={...l,ratio:Number(l.history_max_balance_amount)>0?Math.min(new Ce(l.balance_amount).dividedBy(new Ce(l.history_max_balance_amount)).multipliedBy(100).toNumber(),100):0,isLoading:""===l.total_sold_usd&&""===l.total_purchase_usd})}catch(l){}finally{s.value=!1}}()}),(l,a)=>{const t=Lt,r=It,u=Bt,d=Mt,A=b,S=jn,$=Et,V=Pt,B=Tl,M=T,D=Z,E=c("copy");return f(),v(D,{ref:"tooltipRef",visible:p(o),"onUpdate:visible":a[1]||(a[1]=e=>L(o)?o.value=e:null),placement:"left","virtual-ref":e.virtualRef,"virtual-triggering":"",trigger:"hover","raw-content":"",persistent:!1,"popper-class":"[&&]:p-12px [&&]:[--el-text-color-primary:--dialog-bg]!",style:{"--el-text-color-primary":"var(--d-222-l-FFF)"}},{content:h(()=>{var c;return[!p(i)||p(i).isLoading||p(s)?(f(),v(r,{key:0,animated:"",class:"relative inline-block [&&]:w-210px text-12px font-400 box-border px-4px py-6px"},{template:h(()=>[(f(),_(y,null,w(10,e=>C(t,{key:e,variant:"p",style:{width:"100%"}})),64))]),_:1})):(f(),_("div",Ly,[x("div",Vy,[C(u,{class:"relative",chain:e.currentRow.chain,address:e.currentRow.address,"icon-size":"20px"},null,8,["chain","address"]),C(d,{canEdit:!1,remark:e.currentRow.remark,address:e.currentRow.wallet_address,chain:e.currentRow.chain,wallet_logo:e.currentRow.wallet_logo,class:"color-[--d-CCC-l-333]",formatAddress:e=>e.slice(0,4)+"..."+e.slice(-4)},null,8,["remark","address","chain","wallet_logo","formatAddress"]),g(C(A,{name:"bxs:copy",class:"cursor-pointer color-[--third-text] text-10px"},null,512),[[E,e.currentRow.wallet_address]]),Vt(l.$slots,"default")]),x("div",By,[x("span",My,k(l.$t("position1"))+":",1),x("div",null,[x("span",Dy,"("+k(("formatNumber"in l?l.formatNumber:p(G))(p(i).balance_amount||0,3))+"/"+k(("formatNumber"in l?l.formatNumber:p(G))(p(i).history_max_balance_amount||0,3))+")",1),a[2]||(a[2]=N()),x("span",Ey,"$"+k(("formatNumber"in l?l.formatNumber:p(G))(p(i).balance_usd||0,2)),1),C(S,{color:"var(--main-text)","show-text":!1,percentage:p(i).ratio||0,"stroke-width":4},null,8,["percentage"])])]),x("div",Py,[x("span",Uy,k(l.$t("profit2"))+":",1),x("span",{class:I(`${("getColorClass"in l?l.getColorClass:p(Ct))(p(i).total_profit)}`)},["0"===p(i).total_profit?(f(),_(y,{key:0},[N("--")],64)):(f(),_(y,{key:1},[N(k(("addSign"in l?l.addSign:p(Dt))(p(i).total_profit))+"$"+k(("formatNumber"in l?l.formatNumber:p(G))(Math.abs(p(i).total_profit),1)),1)],64))],2)]),x("div",Ry,[x("span",Hy,k(l.$t("unrealized_profit"))+":",1),x("span",{class:I(`${("getColorClass"in l?l.getColorClass:p(Ct))(p(i).unrealized_profit)}`)},["0"===p(i).unrealized_profit?(f(),_(y,{key:0},[N("--")],64)):(f(),_(y,{key:1},[N(k(("addSign"in l?l.addSign:p(Dt))(p(i).unrealized_profit))+"$"+k(("formatNumber"in l?l.formatNumber:p(G))(Math.abs(p(i).unrealized_profit),1)),1)],64))],2)]),x("div",Oy,[x("span",jy,[N(k(l.$t("totalBuy2"))+" ",1),"--"!==p(i).total_purchase&&0!==Number.parseFloat(p(i).total_purchase)?(f(),_(y,{key:0},[N(" ("+k(p(i).total_purchase)+") ",1)],64)):m("",!0),a[3]||(a[3]=N(":",-1))]),x("span",null,[x("span",zy,k(p(i).total_purchase_amount?("formatNumber"in l?l.formatNumber:p(G))(p(i).total_purchase_amount,2):"--"),1),x("span",Wy,k(p(i).total_purchase_usd?`$${("formatNumber"in l?l.formatNumber:p(G))(p(i).total_purchase_usd,2)}`:"--"),1)])]),x("div",qy,[x("span",Gy,[N(k(l.$t("totalSell2"))+" ",1),"--"!==p(i).total_sold&&0!==Number.parseFloat(p(i).total_sold)?(f(),_(y,{key:0},[N(" ("+k(p(i).total_sold)+") ",1)],64)):m("",!0),a[4]||(a[4]=N(":",-1))]),x("span",null,[x("span",Yy,k(p(i).total_sold_amount?("formatNumber"in l?l.formatNumber:p(G))(p(i).total_sold_amount,2):"--"),1),x("span",Qy,k(p(i).total_sold_usd?`$${("formatNumber"in l?l.formatNumber:p(G))(p(i).total_sold_usd,2)}`:"--"),1)])]),C($,{class:"[--el-border-color:--dialog-divider]",style:{margin:"0"}}),x("div",Ky,[x("span",Xy,"7D "+k(l.$t("winRate2"))+":",1),x("span",Zy,k(("formatNumber"in l?l.formatNumber:p(G))(p(i).win_ratio,1))+"%",1)]),x("div",Jy,[x("span",ew,"7D "+k(l.$t("profit2"))+":",1),x("span",{class:I(`${("getColorClass"in l?l.getColorClass:p(Ct))(p(i).profit)}`)},["0"===p(i).profit?(f(),_(y,{key:0},[N("--")],64)):p(i).profit<0?(f(),_(y,{key:1},[N("-")],64)):m("",!0),N("$"+k(("formatNumber"in l?l.formatNumber:p(G))(Math.abs(p(i).profit),2)),1)],2)]),x("div",lw,[x("span",aw,"7D "+k(l.$t("token"))+":",1),x("span",tw,k(("formatNumber"in l?l.formatNumber:p(G))(p(i).token_txns)),1)]),x("div",nw,[x("span",ow,k(l.$t("walletAge"))+":",1),p(i).wallet_age&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:p(ye))(p(i).wallet_age,!0))<60?(f(),v(V,{key:p(i).wallet_age,timestamp:Number(p(i).wallet_age),"end-time":60},{default:h(({seconds:e})=>[x("span",sw,[e<60?(f(),_(y,{key:0},[N(k(e)+k(l.$t("ss")),1)],64)):(f(),_(y,{key:1},[N(k(p(at)(1e3*p(i).wallet_age).fromNow()),1)],64))])]),_:1},8,["timestamp"])):(f(),_("span",iw,k(Number(p(i).wallet_age||0)?p(at)(1e3*p(i).wallet_age).fromNow():"--"),1))]),C($,{class:"[--el-border-color:--dialog-divider]",style:{margin:"0"}}),(null==(c=p(i).top3_blue_chip)?void 0:c.length)>0?(f(),_("div",rw,[x("div",uw,"TOP3 "+k(l.$t("blueChips"))+":",1),x("div",dw,[(f(!0),_(y,null,w(p(i).top3_blue_chip,e=>(f(),v(M,{key:e.token,class:"flex items-center [&&]:color-[--secondary-text]",to:`/token/${e.token}-${e.chain}`,onClick:a[0]||(a[0]=F(e=>o.value=!1,["self"]))},{default:h(()=>[C(B,{row:{logo_url:e.logoUrl},"token-class":"w-16px h-16px [&&]:mr-0 color-[--secondary-text]"},null,8,["row"]),x("span",cw,k(e.symbol),1)]),_:2},1032,["to"]))),128))])])):m("",!0),x("div",vw,[p(n).isDark?(f(),_("img",mw)):(f(),_("img",pw))])]))]}),_:3},8,["visible","virtual-ref"])}}}),hw={class:"px-12px lh-20px flex justify-between items-center mb-12px text-13px color-[--secondary-text]"},xw={class:"ml-4px color-[--main-text]"},gw={class:"ml-4px color-[--main-text]"},kw={class:"color-#12B886 ml-4px"},bw={class:"color-#F6465D ml-4px"},_w={class:"color-#12B886 ml-4px"},yw={class:"color-#F6465D ml-4px"},ww=t({__name:"userTxsFilterHead",props:{makerAddress:{type:String,default:""},isLiquidity:Boolean,pairLiq:{type:Array,default:()=>[]},tokenTxs:{type:Array,default:()=>[]},tagType:{type:String,default:""},chain:{type:String,default:""},isBuy:{type:Function,default:()=>{}},getAmount:{type:Function,default:()=>{}},getPrice:{type:Function,default:()=>{}}},setup(e){const l=e,a=H(),t=o(),n=d(0),i=d(0),c=u(()=>{let e=0,a=0,t=0,n=0;return l.tokenTxs.forEach(o=>{l.isBuy(o)?(e+=l.getAmount(o,!0,!0),t+=l.getAmount(o)):(a+=l.getAmount(o,!0,!0),n+=l.getAmount(o))}),{buyUSD:e,sellUSD:a,buyAmount:t,sellAmount:n}}),v=u(()=>{var e;let l=((null==(e=a.tokenInfoExtra)?void 0:e.sell_tax)||0)/100;return l=l>1?1:l,(a.tokenPrice||i.value||0)*(n.value||0)*(1-l)}),m=u(()=>{const{buyUSD:e,sellUSD:l}=c.value;return l+v.value-e}),h=u(()=>{const{buyUSD:e}=c.value;return e>0?m.value/e:0}),g=u(()=>{const{sellAmount:e,sellUSD:l}=c.value;return e>0?l/e:0}),b=u(()=>{const{buyAmount:e,buyUSD:l}=c.value;return e>0?l/e:0});return r(()=>l.makerAddress,()=>{!async function(){try{const e=t.params.id;if(e){const{chain:a}=s(e),t=await Ut(e,[l.makerAddress+"-"+a]);if(t&&t[0]){const{value:e,current_price_usd:l}=t[0];n.value=e,i.value=l}}}finally{}}()},{immediate:!0}),(e,l)=>(f(),_("div",hw,[x("div",null,[x("span",null,k(e.$t("balance1"))+":",1),x("span",xw,k(("formatNumber"in e?e.formatNumber:p(G))(p(n),3)),1),x("span",gw,"$"+k(("formatNumber"in e?e.formatNumber:p(G))((p(a).tokenPrice||p(i)||0)*(p(n)||0),3)),1)]),x("div",null,[x("span",null,k(e.$t("profit"))+":",1),x("span",{class:I(`ml-4px ${("getColorClass"in e?e.getColorClass:p(Ct))(String(p(m)))}`)},k(("addSign"in e?e.addSign:p(Dt))(p(m)))+"$"+k(("formatNumber"in e?e.formatNumber:p(G))(Math.abs(p(m)),2)),3),x("span",{class:I(`ml-4px ${("getColorClass"in e?e.getColorClass:p(Ct))(String(p(h)))}`)},k(("formatNumber"in e?e.formatNumber:p(G))(100*p(h),1))+"%",3)]),x("div",null,[x("span",null,k(e.$t("totalBuy"))+":",1),x("span",kw,"$"+k(("formatNumber"in e?e.formatNumber:p(G))(p(c).buyUSD||0,2)),1)]),x("div",null,[x("span",null,k(e.$t("totalSell"))+":",1),x("span",bw,"$"+k(("formatNumber"in e?e.formatNumber:p(G))(p(c).sellUSD||0,2)),1)]),x("div",null,[x("span",null,k(e.$t("avgBuyPrice"))+":",1),x("span",_w,"$"+k(("formatNumber"in e?e.formatNumber:p(G))(p(b)||0,2)),1)]),x("div",null,[x("span",null,k(e.$t("avgSellPrice"))+":",1),x("span",yw,"$"+k(("formatNumber"in e?e.formatNumber:p(G))(p(g)||0,2)),1)])]))}}),Tw={class:"h-24px flex items-center justify-center bg-[--main-input-button-bg] color-[--secondary-text] mb-12px text-12px gap-8px"},Cw=t({__name:"dateFilterCard",props:{timestamp:{},timestampModifiers:{}},emits:["update:timestamp"],setup(e){const l=Rt(e,"timestamp"),a=u(()=>{const[e,a]=l.value||[];if(!e||!a)return"--";const[n,o]=t(e),[s,i]=t(a);return n===s?`${n} ${o} - ${i}`:`${n} ${o} - ${s} ${i}`});function t(e){const l=at(1e3*Number(e));return[l.format("MM/DD"),l.format("HH:mm:ss")]}function n(){l.value&&(l.value=[])}function o(e){const[a,t]=l.value||[];if(!a||!t)return"--";const n=localStorage.getItem("tv_resolution")||"15";{const o=Ht[n]||{val:n,unit:"m"},s=at(1e3*Number(a)).add(e*o.val,o.unit).unix(),i=at(1e3*Number(t)).add(e*o.val,o.unit).unix();l.value=[String(s),String(i)]}}return(e,l)=>{const t=b;return f(),_("div",Tw,[x("span",null,k(p(a)),1),x("span",{class:"color-[--main-text] cursor-pointer",onClick:n},k(e.$t("reset")),1),C(t,{name:"tabler:arrow-left",class:"cursor-pointer hover:color-[--main-text]",onClick:l[0]||(l[0]=e=>o(-1))}),C(t,{name:"tabler:arrow-right",class:"cursor-pointer hover:color-[--main-text]",onClick:l[1]||(l[1]=e=>o(1))})])}}}),Aw=El("tagStore",()=>{const e=d([]),l=d({});return{tagArr:e,getTagArr:async function(){try{const a=await Ot();e.value=a||[],e.value.forEach(e=>{l.value[e.type]=e})}catch(a){}},matchTag:function(e){return l.value[e]}}}),Sw={ref:"txs-container",class:"transactions"},Nw={class:"px-12px mb-10px flex justify-between"},$w=["onClick"],Fw=["onClick"],Iw={class:"flex items-center gap-12px"},Lw={class:"flex items-center color-#FFA622 text-12px"},Vw={class:"ml-3px"},Bw={key:0,class:"lh-20px text-13px py-6px bg-#3F80F71A text-center mb-12px"},Mw={class:"lh-20px text-13px py-6px bg-#3F80F71A text-center mb-12px flex justify-center text-[--third-text]"},Dw=["innerHTML"],Ew={class:"text-12px","element-loading-background":"transparent"},Pw={key:0,class:"h-full flex flex-col items-center justify-center pt-100px"},Uw={key:0,src:J,alt:""},Rw={key:1,src:ee,alt:""},Hw={class:"mt-10px color-[--third-text]"},Ow={key:1},jw={class:"flex items-center gap-2px"},zw={class:"color-[--secondary-text]"},Ww={key:1,class:"color-[--secondary-text]"},qw={key:0},Gw={key:1},Yw={key:2},Qw={class:"flex items-center gap-2px"},Kw={key:1},Xw={class:"color-[--secondary-text]"},Zw={class:"color-[--secondary-text]"},Jw={class:"flex items-center gap-2px"},eT={class:"color-[--secondary-text]"},lT={class:"color-[--secondary-text]"},aT={class:"mr-2px"},tT={key:0},nT={key:0,class:"color-[--secondary-text]"},oT={class:"flex justify-end gap-8px"},sT=["src"],iT=["src","onClick"],rT=B(t({__name:"transactions",setup(e){const l=U(),a=ue(jt.KLINE_DATE_FILTER),t=ue("orderBookVisible",P(!1)),{lang:T}=z(U()),{t:S}=n(),$=H(),V=zt(),B=Re(),M=Aw(),D=o(),E=P(null),R=P(!0),O=q(),j=W();i(()=>{!R.value&&E.value&&E.value.scrollToTop(0),R.value=!1});const Y=u(()=>Math.max(500,$.commonHeight-250)),Q=d(s(D.params.id).address),Z=u(()=>{const e=[];return Array.isArray($.totalHolders)&&$.totalHolders.forEach(l=>{const a=l.total_address;a>0&&e.push({...l,label:(null==l?void 0:l[Nt(Pe().locale)])+`(${a})`,value:l.type})}),[{label:S("all"),value:"all"},{label:S("buy3"),value:"buy"},{label:S("sell3"),value:"sell"},{label:S("followed")+`(${l.headFollowsNum.all})`,value:"-100"},{label:S("liquidity2"),value:"liquidity"},...e]}),J=d("all"),ee=u(()=>!["all","buy","sell"].includes(J.value)),le=d(!1),ae=u(()=>"liquidity"===J.value),te=Sl("txs-container"),ne=u(()=>{var e;const l="solana"===(null==(e=$.token)?void 0:e.chain)&&!ae.value;return[{key:"time",dataKey:"time",title:S("time"),minWidth:80},{key:"type",dataKey:"type",title:S("type"),minWidth:80},{key:"swapPrice",dataKey:"swapPrice",title:S("swapPrice"),minWidth:100},{key:"amountB",dataKey:"amountB",title:S("amountB"),minWidth:120},{key:"amountU",dataKey:"amountU",title:S("amountU"),align:"right",class:"relative",minWidth:120},{key:"makers",dataKey:"makers",title:S("makers"),align:"right",minWidth:220},{key:"SOLBalance",dataKey:"SOLBalance",title:S("makers")+" SOL",align:"right",hidden:!l,minWidth:86},{key:"DEX",dataKey:"DEX",title:"DEX/TXN",align:"right",minWidth:70}].filter(e=>!e.hidden)}),oe=P({loadingTxs:!1,loadingTxs1:!1,loadingLiq:!1,finished:!1,page_token:"",pageSize:100}),re=d([]),de=d([]),ce=d([]),ve=d([]),me=P({timestamp:[],amountU:[],markerAddress:"",tag_type:""}),pe={all:()=>(we.value.isShowLiq?[...re.value,...ce.value]:[...re.value]).toSorted((e,l)=>"asc"===Ve.value.sort_dir?e.time-l.time:l.time-e.time),liquidity:()=>[...ce.value].toSorted((e,l)=>"asc"===Ve.value.sort_dir?e.time-l.time:l.time-e.time),buy:()=>[...re.value.filter(e=>Xe(e))].toSorted((e,l)=>"asc"===Ve.value.sort_dir?e.time-l.time:l.time-e.time),sell:()=>[...re.value.filter(e=>!Xe(e))].toSorted((e,l)=>"asc"===Ve.value.sort_dir?e.time-l.time:l.time-e.time)},fe=u(()=>oe.value.loadingTxs1||oe.value.loadingLiq),he=P(!1),xe=u(()=>oe.value.loadingTxs?S("loading"):oe.value.finished?S("noMore"):"");function ge(e){he.value=e<=20,e<=20&&!oe.value.loadingTxs&&!oe.value.finished&&Me()}const ke=u(()=>{let e=[];e=J.value in pe?pe[J.value]():re.value;const{timestamp:l,amountU:a,markerAddress:t}=me.value,[n,o]=l||[],[s,i]=a||[];return n&&(e=e.filter(e=>e.time>=Number(n))),o&&(e=e.filter(e=>e.time<=Number(o))),t&&(e=e.filter(e=>(null==e?void 0:e.wallet_address)===t)),s&&(e=e.filter(e=>{if("type"in e){return e.amount0*e.token0_price_usd+e.amount1*e.token1_price_usd>=Number(s)}return el(e,!0,!0)>=Number(s)})),i&&(e=e.filter(e=>{if("type"in e){return e.amount0*e.token0_price_usd+e.amount1*e.token1_price_usd<=Number(i)}return el(e,!0,!0)<=Number(i)})),e}),_e=d({}),we=P({isShowDate:!1,isShowLiq:!0}),Se=P({timestamp:!1,amountU:!1,markers:!1}),Ne=P(),$e=d(!1),Fe=d({}),Ie=u(()=>le.value||V.drawerVisible||$e.value||"asc"===Ve.value.sort_dir),Le=u(()=>{var e,l;const a=D.params.id;return a?s(a):{address:(null==(e=$.token)?void 0:e.token)||"",chain:(null==(l=$.token)?void 0:l.chain)||""}}),Ve=P({sort:"",sort_dir:""});function Be(){oe.value.page_token="",oe.value.loadingTxs=!1,oe.value.finished=!1,Me(),E.value&&E.value.scrollToTop(0)}const Me=Wt(async()=>{var e,l,a;try{if(oe.value.loadingTxs)return;oe.value.loadingTxs=!0;const{tag_type:t}=me.value,n={token_id:D.params.id,tag_type:["buy","sell"].includes(t)?"":t,direction:["buy","sell"].includes(t)?t:"",sender:me.value.markerAddress,target_price_u_min:me.value.amountU[0],target_price_u_max:me.value.amountU[1],time_min:me.value.timestamp[0],time_max:me.value.timestamp[1],page_token:oe.value.page_token,sort_dir:Ve.value.sort_dir};if("-100"===t&&!O.currentAddress)return He(),void(oe.value.loadingTxs=!1);const o=await qt($.pairAddress+"-"+Le.value.chain,n)||[];Q.value=s(n.token_id).address;const i=(null==(e=o[o.length-1])?void 0:e.page_token)||"";_e.value={},Array.isArray(o)&&(null==o?void 0:o.length)>0?(oe.value.page_token?re.value=[...re.value].concat(null==(a=null==(l=o.filter)?void 0:l.call(o,e=>{var l,a;return null==(a=null==(l=re.value)?void 0:l.every)?void 0:a.call(l,l=>l.txhash!==e.txhash)}))?void 0:a.map(e=>Ye(e))).reverse().map(e=>(_e.value[e.maker]=(_e.value[e.maker]||0)+1,{...e,count:_e.value[e.maker]})).reverse():re.value=o.reverse().map(e=>(_e.value[e.maker]=(_e.value[e.maker]||0)+1,{...Ye(e),count:_e.value[e.maker]})).reverse(),oe.value.finished||(oe.value.page_token=i),"asc"===Ve.value.sort_dir?re.value=[...re.value].toSorted((e,l)=>e.time-l.time):re.value=[...re.value].toSorted((e,l)=>l.time-e.time)):(oe.value.page_token||(re.value=[]),oe.value.finished=!0)}catch(t){He()}finally{oe.value.loadingTxs1=!1,he.value=!1,oe.value.loadingTxs=!1}},500),De=u(()=>"time"===Ve.value.sort?Ve.value.sort_dir:"");function Ee(e){Ve.value={sort:e?"time":"",sort_dir:e},Be()}function Ue(){_e.value={},de.value.length=0,ve.value.length=0}function He(){re.value=[],oe.value.page_token=""}r(()=>null==a?void 0:a.value,e=>{e&&!t.value&&(me.value.timestamp=e,Be())}),r(()=>$.pairAddress,(e,l)=>{$.pairAddress&&(me.value.tag_type="all",J.value="all",oe.value.loadingTxs1=!0,Ue(),Ke(),function(e,l){l&&B.send({jsonrpc:"2.0",params:["liq",l],id:1,method:"unsubscribe"});setTimeout(()=>{B.send({jsonrpc:"2.0",params:["liq",e],id:1,method:"subscribe"})},20)}(e,l),me.value.markerAddress="",Be())},{immediate:!0}),r(()=>O.currentAddress,()=>{"-100"===J.value&&Be()}),r(t,(e,l)=>{l&&!e&&(Ue(),me.value.markerAddress="",Be())}),uo(()=>{Ue(),Be(),Ke()}),r(()=>B.wsResult[bl.TX],e=>{if(!e||oe.value.loadingTxs||ee.value)return;const{wallet_address:l,from_address:a,to_address:t}=e.tx;if(a!==Q.value&&t!==Q.value)return;const{timestamp:n,markerAddress:o}=me.value,[s,i]=n||[];if(s&&e.tx.time<Number(s))return;if(i&&e.tx.time>Number(i))return;if(o&&l!==o)return;_e.value[l]=(_e.value[l]||0)+1;const{topN:r,wallet_tag:u}=Qe(e.tx),d={...e.tx,topN:r,wallet_tag:u,senderProfile:JSON.parse(e.tx.profile||"{}"),count:_e.value[l],time:Math.min(Math.floor(Date.now()/1e3),e.tx.time),uuid:Gt()};de.value.unshift(d),Ie.value||Oe()}),r(()=>B.wsResult[bl.SIMPLE_TX],e=>{if(!e||oe.value.loadingTxs||ee.value)return;const l=e.msg,{maker:a,target:t}=l;if(t!==Q.value)return;if(!["buy","sell"].includes(l.direction))return;const{timestamp:n,markerAddress:o}=me.value,[s,i]=n||[];if(s&&l.time<Number(s))return;if(i&&l.time>Number(i))return;if(o&&a!==o)return;_e.value[a]=(_e.value[a]||0)+1;const{topN:r,wallet_tag:u}=Qe(e.msg),d=function(e){if(e){const l=e.split(","),a={MEVBot:{type:"8"}};return l.map(e=>a[e]).filter(e=>!!e)}}(l.tag),c={...l,topN:r,wallet_tag:u,count:_e.value[a],time:Math.min(Math.floor(Date.now()/1e3),l.time),uuid:Gt(),wallet_address:a,transaction:l.txhash,senderProfile:{solTotalHolding:l.maker_eth},newTags:d};de.value.unshift(c),Ie.value||Oe()}),r(()=>B.wsResult[bl.LIQ],e=>{e&&!oe.value.loadingLiq&&["all","liquidity"].includes(J.value)&&(ve.value.unshift({...e.liq,uuid:Gt()}),Ie.value||je(),ce.value.length>1500&&ce.value.pop())});const Oe=Wt(()=>{var e;re.value.unshift(...de.value),re.value.length>1500&&(re.value=re.value.slice(0,1500),oe.value.page_token=(null==(e=re.value[re.value.length-1])?void 0:e.page_token)||""),de.value.length=0,xt(re)},100),je=Wt(()=>{ce.value.unshift(...ve.value),ve.value.length=0,xt(ce)},100);function ze(e=[]){_e.value={},Se.value.timestamp=!1,me.value.timestamp=e,Be()}function qe(e=[]){_e.value={},Se.value.amountU=!1,me.value.amountU=e,Be()}function Ge(e=""){_e.value={},Se.value.markers=!1,me.value.markerAddress=e,Be()}function Ye(e){const{wallet_tag:l,topN:a}=Qe(e),t=(e.maker_type||"").split(",");let n="en";"zh-tw"===T.value?n="tw":"zh-cn"===T.value&&(n="cn");const o=M.tagArr.filter(e=>t.includes(e.type)).map(e=>({...e,type:e.type,tag_desc:null==e?void 0:e[n],icon:e.icon,color:e.color,extra_info:e.extra_info,nick_name:e.nick_name}));return{...e,wallet_tag:l,topN:a,senderProfile:JSON.parse((null==e?void 0:e.profile)||"{}"),uuid:Gt(),newTags:o,isSimple:!0,chain:Le.value.chain,id:e.page_token,transaction:e.txhash,wallet_address:e.maker}}function Qe(e){const l=e.wallet_tag_v2||"";let a="",t=[];return l.length>0&&(t=l.split(","),t.forEach((e,l)=>{new RegExp("^top.*$","gi").test(e)&&(a=e,t.splice(l,1))})),{topN:a,wallet_tag:t}}async function Ke(){try{oe.value.loadingLiq=!0;const e=await Yt($.pairAddress+"-"+Le.value.chain);ce.value=(e||[]).reverse().map(e=>({...e,uuid:Gt()})).reverse()}catch(e){}finally{oe.value.loadingLiq=!1}}function Xe(e){var l,a,t,n,o,s,i,r;return"direction"in e&&"target"in e?"buy"===e.direction:(!("from_address"in e)||!e.from_address||(null==(a=(l=Q.value).toLowerCase)?void 0:a.call(l))!==(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))&&(!(!("to_address"in e)||!e.to_address||(null==(s=(o=Q.value).toLowerCase)?void 0:s.call(o))!==(null==(r=(i=e.to_address).toLowerCase)?void 0:r.call(i)))||void 0)}function Ze(e){if("type"in e){if("addLiquidity"===e.type)return"color-#65C4ED";if("removeLiquidity"===e.type||"CollectFee"===e.type)return"color-#EF6DE2"}return Xe(e)?"color-#12B886":"color-#FF646D"}function Je(e,l=!1){var a,t,n,o,s,i;const r=Q.value;if("isSimple"in e&&e.isSimple&&"target_price_u"in e)return null==e?void 0:e.target_price_u;if("direction"in e&&"target"in e&&"price_u"in e)return e.price_u;if("from_address"in e&&e.from_address&&(null==(a=r.toLowerCase)?void 0:a.call(r))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))return l?e.from_price_eth:e.from_price_usd;if("to_address"in e&&e.to_address&&(null==(o=r.toLowerCase)?void 0:o.call(r))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s)))return l?e.to_price_eth:e.to_price_usd;if("token0_address"in e){let l=0;return l=r===e.token0_address?e.token0_price_usd||0:e.token1_price_usd||0,l}return 0}function el(e,l=!1,a=!1){var t,n,o,s,i,r,u,d;return"direction"in e&&"target"in e?Number(e.target_amt||0)*(l?Number(a?e.price_u||e.target_price_u:e.price_m||e.target_price_m):1):"from_address"in e&&e.from_address&&(null==(n=(t=Q.value).toLowerCase)?void 0:n.call(t))===(null==(s=null==(o=e.from_address)?void 0:o.toLowerCase)?void 0:s.call(o))?e.from_amount*(l?Number(a?e.from_price_usd:e.from_price_eth):1):"to_address"in e&&e.to_address&&(null==(r=(i=Q.value).toLowerCase)?void 0:r.call(i))===(null==(d=(u=e.to_address).toLowerCase)?void 0:d.call(u))?e.to_amount*(l?Number(a?e.to_price_usd:e.to_price_eth):1):0}function ll(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"buy"===e.direction&&new Ce(e.maker_bal).eq(e.target_amt):!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===(null==e?void 0:e.type)))&&((null==(n=(t=Q.value).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasNewAccount:null==(u=e.senderProfile)?void 0:u.token1HasNewAccount)}function al(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"sell"===e.direction&&new Ce(e.maker_bal).eq(0):!Xe(e)&&!(null==(a=null==(l=e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===(null==e?void 0:e.type)))&&((null==(n=(t=Q.value).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasClearedAccount:null==(u=e.senderProfile)?void 0:u.token1HasClearedAccount)}function tl(e){var l,a,t;return"maker_eth"in e?Number(e.maker_eth||0)>=50:!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===e.type))&&Number(null==(t=e.senderProfile)?void 0:t.solTotalHolding)>50}function nl(e){return{"true-true":"bg-[linear-gradient(270deg,#111_0%,#12654C_70%,#12B886_100%)]","true-false":"bg-[linear-gradient(270deg,#111_0%,#7F2A36_70%,#F6465D_100%)]","false-false":"bg-[linear-gradient(270deg,#FFF_0%,#88DBC3_70%,#12B886_100%)]","false-true":"bg-[linear-gradient(270deg,#FFF_0%,#FBA2AE_70%,#F6465D_100%)]"}[`${W().isDark}-${Xe(e)}`]}function ol(e){window.open(K(e.chain,e.transaction,"tx"))}const sl=P(null);function il(e,l){e!==J.value&&(J.value=e,me.value.tag_type=e,"liquidity"!==e?(oe.value.loadingTxs1=!0,Be()):(oe.value.loadingLiq=!0,Ke()),wt(sl,l))}function rl({rowData:e}){if($.token)if(Xt.includes($.token.chain)){const{symbol:l,logo_url:a,chain:t,token:n}=$.token,{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:r,pair:u}=$.pair;V.$patch({drawerVisible:!0,tokenInfo:{id:D.params.id,symbol:l,logo_url:a,chain:t,address:n,remark:e.remark},pairInfo:{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:r,pairAddress:u},user_address:e.wallet_address})}else window.open(K($.token.chain,e.transaction,"tx"))}function ul(){_e.value={},me.value.markerAddress="",Be()}return se(()=>{B.send({jsonrpc:"2.0",params:["liq",$.pairAddress],id:1,method:"unsubscribe"}),re.value=[],Ue()}),(e,a)=>{var t;const n=b,o=Pn,s=Pt,i=my,r=Mt,u=ro,d=c("tooltip"),T=be;return f(),_("div",Sw,[x("div",Nw,[x("div",{ref_key:"tabsContainer",ref:sl,class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},[(f(!0),_(y,null,w(p(Z),(l,a)=>(f(),_(y,{key:l.value},[("holdersTooltip"in e?e.holdersTooltip:p(Qt))(p(S))[l.type]?g((f(),_("a",{key:0,href:"javascript:;",class:I("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(p(J)===l.value?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:e=>il(l.value,a)},[N(k(l.label),1)],10,$w)),[[d,("holdersTooltip"in e?e.holdersTooltip:p(Qt))(p(S))[l.type]]]):(f(),_("a",{key:1,href:"javascript:;",class:I("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(p(J)===l.value?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:e=>il(l.value,a)},k(l.label),11,Fw))],64))),128))],512),x("div",Iw,[g(x("div",Lw,[C(n,{name:"custom:stop"}),x("span",Vw,k(e.$t("paused")),1)],512),[[ie,p(Ie)]]),g((f(),_("span",{class:I(["flex items-center justify-center w-12px h-12px rounded-2px color-[--reverse-color] text-10px cursor-pointer",p(l).isClickKlineFilter?"bg-[--primary-color]":"bg-[--third-text] hover:bg-[--secondary-text]"]),onClick:a[0]||(a[0]=e=>p(l).isClickKlineFilter=!p(l).isClickKlineFilter)},[C(n,{name:"custom:chart"})],2)),[[d,e.$t(p(l).isClickKlineFilter?"clickChartHideFilter":"clickChartFilter")]])])]),p(me).timestamp.length&&p(me).timestamp[0]&&p(me).timestamp[1]?(f(),v(Cw,{key:0,timestamp:p(me).timestamp,"onUpdate:timestamp":[a[1]||(a[1]=e=>p(me).timestamp=e),Be]},null,8,["timestamp"])):m("",!0),p(me).markerAddress?(f(),_(y,{key:1},[p(fe)?(f(),_("div",Bw,k(e.$t("loading")),1)):(f(),_(y,{key:1},[x("div",Mw,[x("div",{innerHTML:e.$t("filterTip",{address:`<span class='color-#3F80F7'> ${p(me).markerAddress.slice(0,4)}...${p(me).markerAddress.slice(-4)} </span>`,count:`<span> ${(null==(t=p(ke)[0])?void 0:t.count)||0} </span>`})},null,8,Dw),x("span",{class:"color-#3F80F7 decoration-underline cursor-pointer ml-2px",onClick:F(ul,["stop"])},k(e.$t("filterCancel")),1)]),C(ww,{makerAddress:p(me).markerAddress,isLiquidity:p(ae),pairLiq:p(ce),isBuy:Xe,getAmount:el,getPrice:Je,chain:p(Le).chain,tagType:p(me).tag_type,tokenTxs:p(re)},null,8,["makerAddress","isLiquidity","pairLiq","chain","tagType","tokenTxs"])],64))],64)):m("",!0),g((f(),_("div",Ew,[C(u,{ref_key:"aveTableRef",ref:E,rowKey:"uuid",fixed:"",data:p(ke),columns:p(ne),style:A({height:`${p(Y)}px`,"--el-table-bg-color":"transparent",overflow:"visible",paddingBottom:p(he)?"20px":"0px"}),"row-class":"cursor-pointer",showFooter:p(he),footText:p(xe),rowEventHandlers:{onMouseenter:()=>le.value=!0,onMouseleave:()=>le.value=!1,onClick:rl},onEndReached:ge},{empty:h(()=>[p(fe)?(f(),_("span",Ow)):(f(),_("div",Pw,["light"===p(j).theme?(f(),_("img",Uw)):(f(),_("img",Rw)),x("span",Hw,k(p(S)("emptyNoData")),1)]))]),"header-time":h(()=>[x("div",jw,[x("span",{class:"cursor-pointer",onClick:a[2]||(a[2]=e=>Ee({asc:"",desc:"asc","":"desc"}[p(De)]||""))},k(e.$t("time")),1),C(n,{name:""+(p(we).isShowDate?"custom:calendar":"custom:countdown"),class:"color-[--third-text] cursor-pointer",onClick:a[3]||(a[3]=F(e=>p(we).isShowDate=!p(we).isShowDate,["self"]))},null,8,["name"]),C(_y,{visible:p(Se).timestamp,"onUpdate:visible":a[4]||(a[4]=e=>p(Se).timestamp=e),modelValue:p(me).timestamp,boundary:p(te)||void 0,onConfirm:ze},null,8,["visible","modelValue","boundary"]),C(o,{defaultSort:p(De),onSortChange:Ee},null,8,["defaultSort"])])]),"cell-time":h(({row:e,rowIndex:l})=>[!p(we).isShowDate&&e.time&&Number(p(ye)(e.time,!0))<60?(f(),v(s,{key:`${e.time}${l}`,timestamp:e.time,"end-time":60},{default:h(({seconds:l})=>[x("span",zw,[l<60?(f(),_(y,{key:0},[N(k(l)+"s ",1)],64)):(f(),_(y,{key:1},[N(k(p(ye)(e.time)),1)],64))])]),_:2},1032,["timestamp"])):(f(),_("span",Ww,k(p(we).isShowDate?p(X)(e.time,"HH:mm:ss"):p(ye)(e.time)),1))]),"header-type":h(()=>[x("div",{class:"flex items-center gap-2px",onClick:a[5]||(a[5]=()=>["","all"].includes(p(J))&&(p(we).isShowLiq=!p(we).isShowLiq))},[x("span",{class:I(["","all"].includes(p(J))&&"cursor-pointer")},k(e.$t("type")),3),["","all"].includes(p(J))?g((f(),v(n,{key:0,name:"custom:droplet",class:I("cursor-pointer "+(p(we).isShowLiq?"color-[--primary-color]":"color-[--third-text]"))},null,8,["class"])),[[d,p(we).isShowLiq?e.$t("hideLiq"):e.$t("showLiq")]]):m("",!0)])]),"cell-type":h(({row:l})=>[x("div",{class:I(Ze(l))},[void 0!==l.type?(f(),_("span",qw,["removeLiquidity"==l.type?(f(),_(y,{key:0},[N(k(e.$t("removeLiq")),1)],64)):"addLiquidity"==l.type?(f(),_(y,{key:1},[N(k(e.$t("addLiq")),1)],64)):"CollectFee"==l.type?(f(),_(y,{key:2},[N(k(e.$t("CollectFee")),1)],64)):"CreatePair"==l.type?(f(),_(y,{key:3},[N(k(e.$t("CreatePair")),1)],64)):(f(),_(y,{key:4},[N(k(l.type),1)],64))])):Xe(l)?(f(),_("span",Gw,k(e.$t("buy")),1)):(f(),_("span",Yw,k(e.$t("sell")),1))],2)]),"header-swapPrice":h(()=>[x("div",Qw,[x("span",null,k(e.$t("swapPrice")),1)])]),"cell-swapPrice":h(({row:l})=>[void 0!==l.type?(f(),_(y,{key:0},[N("- -")],64)):(f(),_("div",{key:1,class:I(Ze(l))}," $"+k(("formatNumber"in e?e.formatNumber:p(G))(Je(l),4)),3))]),"cell-amountB":h(({row:l})=>[void 0===l.type?(f(),_("span",{key:0,class:I(Ze(l))},k(("formatNumber"in e?e.formatNumber:p(G))(el(l),2)),3)):(f(),_("div",Kw,[x("div",{class:I(Ze(l))},[N(k(("formatNumber"in e?e.formatNumber:p(G))(l.amount0||0))+" ",1),x("span",Xw,k(l.token0_symbol),1)],2),x("div",{class:I(Ze(l))},[N(k(("formatNumber"in e?e.formatNumber:p(G))(l.amount1||0))+" ",1),x("span",Zw,k(l.token1_symbol),1)],2)]))]),"header-amountU":h(()=>[x("div",Jw,[x("span",null,k(e.$t("amountU")),1),C(n,{name:"custom:price",class:I((p(l).isUSDT?"color-[--third-text]":"color-[--primary-color]")+" cursor-pointer"),onClick:a[6]||(a[6]=F(e=>p(l).isUSDT=!p(l).isUSDT,["self"]))},null,8,["class"]),C(Ay,{visible:p(Se).amountU,"onUpdate:visible":a[7]||(a[7]=e=>p(Se).amountU=e),modelValue:p(me).amountU,onConfirm:qe},null,8,["visible","modelValue"])])]),"cell-amountU":h(({row:a})=>{var t,n;return[void 0===a.type?(f(),_("div",{key:0,class:I(`absolute h-full ${nl(a)} opacity-15`),style:A(`width:${Math.min(el(a,!0,!0)/("solana"===p(Le).chain?10:20),100)}%`)},null,6)):m("",!0),void 0===a.type?(f(),_("div",{key:1,class:I(`${Ze(a)} w-full h-full flex items-center justify-end`)},[p(l).isUSDT?(f(),_(y,{key:0},[N(" $"+k(("formatNumber"in e?e.formatNumber:p(G))(el(a,!0,!0),2)),1)],64)):(f(),_(y,{key:1},[N(k(("formatNumber"in e?e.formatNumber:p(G))(el(a,!0,!1),3))+" ",1),x("span",eT,"  "+k(null==(t=p(We)(a.chain))?void 0:t.main_name),1)],64))],2)):(f(),_("div",{key:2,class:I(Ze(a))},[p(l).isUSDT?(f(),_(y,{key:0},[N(" $"+k(("formatNumber"in e?e.formatNumber:p(G))(a.amount0*a.token0_price_usd+a.amount1*a.token1_price_usd,2)),1)],64)):(f(),_(y,{key:1},[N(k(("formatNumber"in e?e.formatNumber:p(G))(a.amount0*a.token0_price_eth+a.amount1*a.token1_price_eth,2))+" ",1),x("span",lT,k(null==(n=p(We)(a.chain))?void 0:n.main_name),1)],64))],2))]}),"header-makers":h(()=>[x("span",aT,k(e.$t("makers")),1),C($y,{visible:p(Se).markers,"onUpdate:visible":a[8]||(a[8]=e=>p(Se).markers=e),modelValue:p(me).markerAddress,chain:p(Le).chain,onConfirm:Ge},null,8,["visible","modelValue","chain"])]),"cell-makers":h(({row:l,rowIndex:a})=>[["solana","bsc"].includes(l.chain)&&(l.senderProfile||l.maker_bal)?(f(),_(y,{key:0},[ll(l)&&!(l.newTags||[]).map(e=>e.type).includes("47")?g((f(),v(n,{key:0,name:"custom:new-account",class:"mr-3px shrink-0"},null,512)),[[d,{content:`<span style='color: #85E12F'>${e.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):m("",!0),al(l)&&!(l.newTags||[]).map(e=>e.type).includes("46")?g((f(),v(n,{key:1,name:"custom:cleared-account",class:"mr-3px shrink-0"},null,512)),[[d,{content:`<span style='color: #EB2B4B'>${e.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):m("",!0),tl(l)?g((f(),v(n,{key:2,name:"custom:big",class:"mr-3px shrink-0"},null,512)),[[d,{content:`<span style='color: #ccc'>${e.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):m("",!0)],64)):m("",!0),C(i,{tagClass:"mr-3px",tags:(l.newTags||[]).map(e=>p(M).matchTag(e.type)||e),walletAddress:l.wallet_address,chain:l.chain},null,8,["tags","walletAddress","chain"]),(f(),_("div",{key:l.wallet_address,class:"flex items-center gap-4px"},[C(r,{remark:l.remark,address:l.wallet_address,addressClass:p($e)&&p(Fe).wallet_address===l.wallet_address?"bg-#12B88633":"",maxRemarkLength:8,chain:l.chain,wallet_logo:l.wallet_logo,class:"color-[--secondary-text]",mouseoverAddress:e=>function(e,l){e&&Xt.includes(e.chain)&&(Ne.value=l.currentTarget,Fe.value=e)}(l,e)},{default:h(()=>[l.count&&l.count>1?(f(),_("div",tT," ("+k(l.count)+") ",1)):m("",!0)]),_:2},1032,["remark","address","addressClass","chain","wallet_logo","mouseoverAddress"]),C(n,{name:"custom:filter",class:I((p(me).markerAddress?"color-[--secondary-text]":"color-[--third-text]")+" cursor-pointer text-10px shrink-0"),onClick:F(e=>{return a=l.wallet_address,_e.value={},me.value.markerAddress=me.value.markerAddress?"":a,void Be();var a},["self","stop"])},null,8,["class","onClick"])]))]),"cell-SOLBalance":h(({row:l})=>[l.senderProfile?(f(),_("span",nT,k(("formatNumber"in e?e.formatNumber:p(G))(l.maker_eth||0,2)),1)):m("",!0)]),"cell-DEX":h(({row:l})=>{var a,t;return[x("div",oT,["unknown"===l.amm?g((f(),_("img",{key:0,class:"w-16px h-16px cursor-pointer rounded-full",src:p(Kt),alt:""},null,8,sT)),[[d,null==(a=("getSwapInfo"in e?e.getSwapInfo:p(Ae))(l.chain,l.amm))?void 0:a.show_name]]):g((f(),_("img",{key:1,class:"w-16px h-16px cursor-pointer rounded-full",src:("formatIconSwap"in e?e.formatIconSwap:p(Te))(l.amm),alt:"",onClick:F(e=>ol(l),["stop","self"])},null,8,iT)),[[d,null==(t=("getSwapInfo"in e?e.getSwapInfo:p(Ae))(l.chain,l.amm))?void 0:t.show_name]]),C(n,{name:"custom:browser",class:"text-16px color-[--third-text] cursor-pointer",onClick:F(e=>ol(l),["stop","self"])},null,8,["onClick"])])]}),_:1},8,["data","columns","style","showFooter","footText","rowEventHandlers"]),C(fw,{modelValue:p($e),"onUpdate:modelValue":a[9]||(a[9]=e=>L($e)?$e.value=e:null),"virtual-ref":p(Ne),currentRow:p(Fe),addressAndChain:p(Le)},{default:h(()=>[["solana","bsc"].includes(p(Fe).chain)&&(p(Fe).senderProfile||p(Fe).maker_bal)?(f(),_(y,{key:0},[ll(p(Fe))&&!(p(Fe).newTags||[]).map(e=>e.type).includes("47")?g((f(),v(n,{key:0,name:"custom:new-account",class:"mr-3px"},null,512)),[[d,`<span style='color: #85E12F'>${e.$t("newTokenAccount")}</span>`,void 0,{raw:!0}]]):m("",!0),al(p(Fe))&&!(p(Fe).newTags||[]).map(e=>e.type).includes("46")?g((f(),v(n,{key:1,name:"custom:cleared-account",class:"mr-3px"},null,512)),[[d,`<span style='color: #EB2B4B'>${e.$t("sellAl")}</span>`,void 0,{raw:!0}]]):m("",!0),tl(p(Fe))?g((f(),v(n,{key:2,name:"custom:big"},null,512)),[[d,`<span style='color: #C5842B'>${e.$t("whales")}</span>`,void 0,{raw:!0}]]):m("",!0)],64)):m("",!0),C(i,{tagClass:"mr-3px",tags:p(Fe).newTags,walletAddress:p(Fe).wallet_address,chain:p(Fe).chain},null,8,["tags","walletAddress","chain"])]),_:1},8,["modelValue","virtual-ref","currentRow","addressAndChain"])])),[[T,p(fe)]])],512)}}}),[["__scopeId","data-v-f0f8d664"]]),uT={key:0,class:"flex flex-col items-center justify-center py-30px"},dT={key:0,src:J},cT={key:1,src:ee},vT={key:1},mT=["onClick"],pT={class:"icon-token-container mr-5px"},fT={class:"relative"},hT=["src"],xT=["src"],gT=["src"],kT={class:"text-[var(--d-eaecef-l-333333)] text-13px"},bT={class:"flex flex-row-reverse"},_T={class:"flex items-center"},yT={key:0,class:"text-13px text-[#F6465D] text-center px-5px py-2px rounded-4px",style:{background:"rgba(246, 70, 93, 0.10)"}},wT={key:1,class:"text-13px text-[#12B886] text-center px-5px py-2px rounded-4px",style:{background:"rgba(18, 184, 134, 0.10)"}},TT={key:0,class:"text-[--secondary-text]"},CT={key:1},AT={class:"text-[--secondary-text]"},ST={class:"text-[--secondary-text]"},NT={class:"text-[--secondary-text] text-right"},$T={key:0,class:"text-[--secondary-text]"},FT={key:1,class:"text-[--secondary-text]"},IT={key:2,class:"text-[--secondary-text]"},LT={key:3,class:"text-[--secondary-text]"},VT={class:"color-[--third-text]"},BT={class:"color-[--third-text]"},MT=["onClick"],DT={key:1},ET=B(t({__name:"unified",props:{chain:{type:String,required:!0},currentToken:{type:Boolean,required:!0},userAddress:{type:String,required:!0}},setup(e,{expose:l}){const{formatUnits:a}=en,t=e,d=O(),c=H(),w=o(),T=Zt(),{mode:A}=z(U()),{t:S}=n(),$=re(),L=P({swapType:["buy","sell"],statusType:["waiting","confirmed","error","cancelled","sent"]}),V=P([]),B=P(!1),M=u(()=>Math.max(c.commonHeight-260,450));r([()=>t.currentToken,()=>t.userAddress||"",()=>null==c?void 0:c.placeOrderUpdate],()=>{q()});const D=de("updateLimitOrder").on(e=>{e===t.chain&&q()});function E(e){const l={1:S("buy"),2:S("sell"),3:S("limitBuy1"),4:S("limitSell1"),5:`${S("limit")}/${S("buy")}`,6:`${S("limit")}/${S("sell")}`,7:S("followBuy"),8:S("followSell"),12:S("trailingStop"),13:S("listingOnDex"),14:S("devSell")};return l[e]?l[e]:""}function R(e){return 1===e||5===e||7===e}se(()=>{D&&D()});function j(e){"all"===e?L.value.swapType=["buy","sell"]:"5"===e?L.value.swapType=["buy"]:"6"===e&&(L.value.swapType=["sell"]),q()}function W(e){const l=R(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress;l&&T.push(`/token/${l}-${e.chain}`)}const q=async e=>{var l,a,n;B.value=!0;const o=e||t.chain;try{if(!d.accessToken)return;const e={chain:o,token:t.currentToken?null==(l=s(w.params.id))?void 0:l.address:"",walletAddress:t.userAddress||(null==(n=null==(a=d.userInfo)?void 0:a.addresses.find(e=>e.chain===o))?void 0:n.address)||""};if(!e.walletAddress||!e.chain)return;const i=await Jt({...e});V.value=i||[],1===L.value.swapType.length&&("buy"===L.value.swapType[0]&&(V.value=V.value.filter(e=>R(e.swapType))),"sell"===L.value.swapType[0]&&(V.value=V.value.filter(e=>!R(e.swapType)))),c.registrationNum=V.value.length}catch(i){}finally{B.value=!1}};return i(()=>{q()}),l({txOrder:V,getUserPendingTx:q}),(e,l)=>{var n;const o=pe,s=no,i=b,r=Yn,u=Gn,d=qn,c=to,w=be;return f(),_("div",null,[g((f(),v(c,{data:V.value,fit:"",stripe:"",height:p(M),"row-class-name":"text-12px","header-row-class-name":"text-12px",style:{width:"100%"},onRowClick:W},{empty:h(()=>[B.value?(f(),_("span",vT)):(f(),_("div",uT,["light"===p(A)?(f(),_("img",dT)):m("",!0),"dark"===p(A)?(f(),_("img",cT)):m("",!0),x("span",null,k(p(S)("emptyNoData")),1)]))]),default:h(()=>[C(s,{label:p(S)("token"),align:"left"},{default:h(({row:l})=>[x("div",{class:"flex items-center justify-start",onClick:e=>(e=>{const l=R(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress;l&&T.push(`/token/${l}-${e.chain}`)})(l)},[x("div",pT,[x("div",fT,[C(o,{class:"w-32px h-32px rounded-full",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:p(me))({chain:null==l?void 0:l.chain,symbol:R(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol,logo_url:R(l.swapType)?l.outTokenLogoUrl:null==l?void 0:l.inTokenLogoUrl})},{error:h(()=>[x("img",{class:"w-32px h-32px",src:p(fe)(null==l?void 0:l.chain,R(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),alt:"",srcset:""},null,8,hT)]),placeholder:h(()=>[x("img",{class:"w-32px h-32px",src:p(fe)(null==l?void 0:l.chain,R(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),alt:"",srcset:""},null,8,xT)]),_:2},1032,["src"]),(null==l?void 0:l.chain)?(f(),_("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-0 rd-50%",src:`${p($).token_logo_url}chain/${l.chain}.png`,alt:"",srcset:""},null,8,gT)):m("",!0)])]),x("span",kT,k(R(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),1)],8,mT)]),_:1},8,["label"]),C(s,{label:p(S)("type"),align:"right",prop:"isBuy"},{header:h(()=>[x("div",bT,[x("div",_T,[x("div",null,k(p(S)("type")),1),C(d,{persistent:!1,trigger:"click",onCommand:j},{dropdown:h(()=>[C(u,null,{default:h(()=>[C(r,{command:"all"},{default:h(()=>[N(k(p(S)("all")),1)]),_:1}),C(r,{class:I([1===L.value.swapType.length&&"buy"===L.value.swapType[0]&&"active-dropdown-item"]),command:"5"},{default:h(()=>[N(k(p(S)("limitBuy")),1)]),_:1},8,["class"]),C(r,{class:I([1===L.value.swapType.length&&"sell"===L.value.swapType[0]&&"active-dropdown-item"]),command:"6"},{default:h(()=>[N(k(p(S)("limitSell")),1)]),_:1},8,["class"])]),_:1})]),default:h(()=>{var e;return[C(i,{name:"custom:filter",class:I([[1===(null==(e=L.value.swapType)?void 0:e.length)&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])]}),_:1})])])]),default:h(({row:e})=>[R(e.swapType)?(f(),_("div",wT,k(E(e.swapType)),1)):(f(),_("div",yT,k(E(e.swapType)),1))]),_:1},8,["label"]),C(s,{label:p(S)("price"),align:"right"},{header:h(()=>[x("span",null,k(p(S)("price")),1)]),default:h(({row:e})=>[13!==e.swapType&&14!==e.swapType?(f(),_("span",TT,"$"+k(p(G)((null==e?void 0:e.PriceLimit)||0)),1)):(f(),_("span",CT,"--"))]),_:1},8,["label"]),C(s,{label:p(S)("volume4"),align:"right"},{default:h(({row:e})=>[x("span",AT,"$"+k(p(G)(Number(null==e?void 0:e.inValue)||0,2)),1)]),_:1},8,["label"]),C(s,{label:p(S)("amount1"),align:"right"},{header:h(()=>[x("span",null,k(p(S)("amountB")),1)]),default:h(({row:e})=>[x("span",ST,[x("span",NT,[R(e.swapType)?(f(),_(y,{key:1},[N(k(Number(null==e?void 0:e.outputAmount)?p(G)(p(a)(new(p(Ce))((null==e?void 0:e.outAmount)||0).toFixed(0),e.outTokenDecimals||0),4):"--")+" "+k(Number(null==e?void 0:e.outputAmount)?null==e?void 0:e.outTokenSymbol:""),1)],64)):(f(),_(y,{key:0},[N(k(Number(null==e?void 0:e.inAmount)?p(G)(p(a)(new(p(Ce))((null==e?void 0:e.inAmount)||0).toFixed(0),e.inTokenDecimals||0),4):"--")+" "+k(Number(null==e?void 0:e.inAmount)?null==e?void 0:e.inTokenSymbol:""),1)],64))])])]),_:1},8,["label"]),C(s,{label:p(S)("status"),align:"right"},{header:h(()=>[x("span",null,k(p(S)("status")),1)]),default:h(({row:e})=>["confirmed"===e.status?(f(),_("span",$T,k(p(S)("completed")),1)):"cancelled"===e.status?(f(),_("span",FT,k(p(S)("cancelled1")),1)):"sent"===e.status?(f(),_("span",IT,k(p(S)("sent")),1)):"waiting"===e.status?(f(),_("span",LT,k(p(S)("pendingOrder")),1)):m("",!0)]),_:1},8,["label"]),C(s,{label:p(S)("CreateTime"),align:"right"},{default:h(({row:e})=>[x("span",VT,k(p(X)(e.createTime,"YYYY/MM/DD HH:mm")),1)]),_:1},8,["label"]),C(s,{label:p(S)("ExpirationTime"),align:"right"},{default:h(({row:e})=>[x("span",BT,k(p(X)(new Date(e.createTime).getTime()+6048e5,"YYYY/MM/DD HH:mm")),1)]),_:1},8,["label"]),C(s,{label:p(S)("operate"),align:"right"},{default:h(({row:e})=>["waiting"===e.status?(f(),_("div",{key:0,class:"text-[#F6465D] text-14px cursor-pointer",onClick:F(l=>function(e){te.confirm(S("botCancelOrder"),"",{confirmButtonText:S("confirm"),cancelButtonText:S("cancel")}).then(async()=>{await ln({chain:t.chain,batchId:e.batchId}),q(),de("updateKlineLimitLine").emit()}).catch(()=>{})}(e),["stop"])},k(p(S)("cancel")),9,MT)):(f(),_("div",DT," - "))]),_:1},8,["label"])]),_:1},8,["data","height"])),[[w,B.value&&!(null==(n=V.value)?void 0:n.length)]])])}}}),[["__scopeId","data-v-49eb5f5e"]]),PT={class:"ml-20px flex items-center clickable"},UT={class:"text-12px color-[--main-text] mx-3px whitespace-nowrap"},RT={class:"text-10px color-[--third-text]"},HT=["src"],OT={class:"text-12px color-[--main-text]"},jT={class:"color-[--third-text] text-12px max-h-500px overflow-y-auto"},zT={class:"px-12px"},WT=["onClick"],qT={class:"flex justify-between flex-1 clickable"},GT={class:"text-12px lh-14px inline-block"},YT={class:"color-[--main-text] flex"},QT={class:"color-[--third-text] flex items-center"},KT={class:"ml-auto lh-14px inline-flex items-center color-[--main-text] text-12px justify-end"},XT=["src"],ZT=B(t({__name:"selectWallet",props:{chain:{type:String,default:""},boundary:{type:HTMLElement,default:null}},setup(e,{expose:l}){const a=re(),t=H(),n=O(),o=P(!1),s=P(n.evmAddress||""),i=u(()=>s.value||n.evmAddress),d=u(()=>{var e,l;return null==(l=null==(e=n.walletList)?void 0:e.find)?void 0:l.call(e,e=>e.evmAddress===i.value)});function m(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,l=>(null==l?void 0:l.chain)===e)}function T(e,l,a){var t,n,o,s,i;return(null==(t=tl)?void 0:t.includes(a||""))||!a?(null==(n=m(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=m(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}return r(()=>n.evmAddress,()=>{s.value=n.evmAddress}),l({evmAddress:i}),(l,i)=>{const r=b,u=vo,A=co,S=V,N=c("copy");return f(),v(S,{visible:p(o),"onUpdate:visible":i[2]||(i[2]=e=>L(o)?o.value=e:null),placement:"bottom",width:"305",trigger:"click",persistent:!1,"popper-class":"[&&]:[--el-popover-padding:0]","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:h(()=>{var u,c,v,f,h,b,_,y,w,A,S;return[x("div",PT,[C(r,{name:"ri:wallet-fill",class:"color-[--secondary-text] text-14px"}),x("span",UT,k((null==(c=null==(u=p(n).walletList)?void 0:u.find(e=>e.evmAddress===p(s)))?void 0:c.name)||(null==(v=p(n).userInfo)?void 0:v.name)||""),1),x("span",RT,k(null==(b=null==(h=m(e.chain,(null==(f=p(d))?void 0:f.addresses)||[]))?void 0:h.address)?void 0:b.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),g(C(r,{name:"bxs:copy",class:"clickable ml-5px text-12px color-[--third-text]"},null,512),[[N,null==(y=m(e.chain,(null==(_=p(d))?void 0:_.addresses)||[]))?void 0:y.address]]),i[3]||(i[3]=x("div",{class:"border-l-solid border-l-1px border-l-[--icon-color] h-8px mx-8px"},null,-1)),x("img",{src:`${p(a).token_logo_url}token_icon/${e.chain}/${(null==(w=("getChainInfo"in l?l.getChainInfo:p(We))(e.chain))?void 0:w.wmain_wrapper)||""}.png`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,HT),x("span",OT,k(("formatNumber"in l?l.formatNumber:p(G))(T(e.chain,(null==(A=p(d))?void 0:A.addresses)||[],null==(S=p(t).swap.native)?void 0:S.address)||0)),1),C(r,{name:"prime:sort-down-fill",class:I(["color-[--main-text] text-14px transition-all-300",{"rotate-180":p(o)}])},null,8,["class"])])]}),default:h(()=>[x("div",jT,[x("div",zT,[C(A,{modelValue:p(s),"onUpdate:modelValue":i[1]||(i[1]=e=>L(s)?s.value=e:null),class:"w-100%"},{default:h(()=>{var d,c;return[(f(!0),_(y,null,w(null==(c=null==(d=p(n))?void 0:d.walletList)?void 0:c.toSorted(e=>e.evmAddress===p(n).evmAddress?-1:1),(d,c)=>{var v,h,b,y,w,A;return f(),_("div",{key:d.evmAddress,class:I(["flex items-center h-50px w-100%",{"b-b-solid b-b-1px b-b-[--border]":c!==(null==(v=p(n))?void 0:v.walletList.length)-1}]),onClick:F(e=>{s.value=d.evmAddress,o.value=!1},["stop"])},[C(u,{class:"[&&]:[--el-checkbox-disabled-checked-icon-color:#FFF] [&&]:[--el-checkbox-disabled-checked-input-fill:#3F80F7] [&&]:[--el-checkbox-disabled-checked-input-border-color:#3F80F7] batch-checkbox",value:d.evmAddress},null,8,["value"]),x("div",qT,[x("div",GT,[x("div",YT,k(d.name),1),x("div",QT,[x("span",null,k(null==(b=null==(h=m(e.chain,d.addresses))?void 0:h.address)?void 0:b.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),g(C(r,{name:"bxs:copy",class:"clickable ml-5px text-12px",onClick:i[0]||(i[0]=F(()=>{},["stop"]))},null,512),[[N,null==(y=m(e.chain,d.addresses))?void 0:y.address]])])]),x("div",KT,[x("img",{src:`${p(a).token_logo_url}token_icon/${e.chain}/${(null==(w=("getChainInfo"in l?l.getChainInfo:p(We))(e.chain))?void 0:w.wmain_wrapper)||""}.png`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,XT),x("span",null,k(("formatNumber"in l?l.formatNumber:p(G))(T(e.chain,d.addresses,null==(A=p(t).swap.payToken)?void 0:A.address)||0)),1)])])],10,WT)}),128))]}),_:1},8,["modelValue"])])])]),_:1},8,["visible","popper-options"])}}}),[["__scopeId","data-v-4c97ea57"]]),JT={ref:"myOrders"},eC={class:"px-12px mb-10px flex justify-between"},lC={class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},aC=["onClick"],tC={class:"flex items-center gap-3px"},nC=t({__name:"index",props:{currentActiveTab:{type:String,required:!0}},setup(e){const l=e;H();const a=O(),{t:t}=n(),s=o(),d=Re(),c=P(),h=P("solana"),g=P(!1),b=Sl("myOrders"),T=u(()=>{var e;return[...(null==(e=a.userInfo)?void 0:e.addresses)||[]].sort((e,l)=>"solana"===e.chain?-1:"solana"===l.chain?1:"bsc"===e.chain?-1:"bsc"===l.chain?1:0)}),S=Sl("selectWallet"),N=u(()=>{var e,l,t,n,o,s,i,r;if(null==(e=S.value)?void 0:e.evmAddress)return(null==(i=null==(s=null==(o=null==(n=null==(t=null==(l=null==a?void 0:a.walletList)?void 0:l.find)?void 0:t.call(l,e=>{var l;return e.evmAddress===(null==(l=S.value)?void 0:l.evmAddress)}))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>e.chain===h.value))?void 0:i.address)||"";const u=null==(r=a.userInfo)?void 0:r.addresses.find(e=>e.chain===h.value);return(null==u?void 0:u.address)||""});function $(){var e,l;(null==(l=null==(e=c.value)?void 0:e.txOrder)?void 0:l.length)&&te.confirm(t("botCancelAllOrder"),"",{confirmButtonText:t("confirm"),cancelButtonText:t("cancel")}).then(async()=>{await an({chain:h.value}),c.value.getUserPendingTx(),de("updateKlineLimitLine").emit()}).catch(()=>{})}return r(()=>l.currentActiveTab,()=>{if("Orders"===l.currentActiveTab){const e=String(s.params.id).split("-")[1];T.value.find(l=>(null==l?void 0:l.chain)===e)&&(h.value=e),E(()=>{c.value.getUserPendingTx(h.value)})}}),r([()=>s.params.id,()=>{var e;return null==(e=d.wsResult)?void 0:e.tgbot}],()=>{const e=String(s.params.id).split("-")[1];T.value.find(l=>(null==l?void 0:l.chain)===e)&&(h.value=e),E(()=>{c.value.getUserPendingTx(h.value)})}),i(()=>{const e=String(s.params.id).split("-")[1];T.value.find(l=>(null==l?void 0:l.chain)===e)&&(h.value=e)}),(e,l)=>{var n,o,s,i;const r=Je;return f(),_("div",JT,[x("div",eC,[x("div",lC,[(f(!0),_(y,null,w(T.value,e=>(f(),_("a",{key:e.chain,href:"javascript:;",class:I("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px "+(h.value===e.chain?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:l=>{return a=e.chain,h.value=a,void E(()=>{c.value.getUserPendingTx(h.value)});var a}},k(p(We)(e.chain).name),11,aC))),128))]),x("div",tC,[C(r,{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e),label:p(t)("currentToken"),size:"small",style:{"font-size":"12px",color:"var(--third-text)"}},null,8,["modelValue","label"]),x("button",{style:A({background:(null==(o=null==(n=c.value)?void 0:n.txOrder)?void 0:o.length)>0?"rgba(246, 70, 93, 0.10)":"var(--border)"}),class:I(["h-6 text-xs rounded border-0 px-2.5 cursor-pointer text-[--third-text] whitespace-nowrap",[(null==(i=null==(s=c.value)?void 0:s.txOrder)?void 0:i.length)>0&&"!text-[#F6465D]"]]),onClick:$},k(p(t)("cancelAll")),7)]),p(a).evmAddress?(f(),v(ZT,{key:0,ref:"selectWallet",chain:h.value,boundary:p(b)},null,8,["chain","boundary"])):m("",!0)]),C(ET,{ref_key:"unifiedRef",ref:c,chain:h.value,currentToken:g.value,userAddress:N.value},null,8,["chain","currentToken","userAddress"])],512)}}}),oC={class:"ml-5px"},sC={class:"flex-between"},iC={class:"flex-start"},rC={class:"content flex-1 flex flex-col"},uC={class:"flex-between mt-10px"},dC={class:"tabs-1 ml-5px mr-auto"},cC=["onClick"],vC={key:0,class:"mr-5px"},mC={class:"color-[--secondary-text]"},pC={class:"flex-between mt-10px"},fC={class:"tabs-1 ml-5px mr-auto"},hC=["onClick"],xC={key:0,class:"mr-5px"},gC={class:"color-[--secondary-text]"},kC={key:2,class:"mt-10px tabs flex-1 flex-wrap"},bC=B(t({__name:"oneClick",setup(e){const a=O(),t=H(),d=Ze(),T=ll(),{botSettings:S}=z(d),$=Re(),L=o(),{t:V}=n(),{executing:B}=rl(),M=P([!1,!1,!1,!1,!1]),D=P([!1,!1,!1,!1,!1]),U=oe("oneClickVisible",!1),j=P(!1),W=oe("isEnableHotkey",!1),q=oe("isEnablePnL",!0),Y=oe("isEnableShowsReflected",!1),{getTokenBalance:Q,updateBalanceFromWs:K}=jm(),X=u(()=>{var e,l,a;return(null==(l=s(null==(e=L.params)?void 0:e.id))?void 0:l.chain)||(null==(a=t.token)?void 0:a.chain)});function Z(){var e,l,a;return(null==(l=s(null==(e=L.params)?void 0:e.id))?void 0:l.chain)||(null==(a=t.token)?void 0:a.chain)||""}const J=u(()=>{var e,l;const a=Z();return(null==(l=null==(e=T.mainTokensPrice)?void 0:e.find(e=>{var l;return e.chain===a&&e.token===(null==(l=We(a))?void 0:l.wmain_wrapper)}))?void 0:l.current_price_usd)||t.swap.native.price||0}),ee=u(()=>{var e;return t.price||(null==(e=t.swap.token)?void 0:e.price)||0}),le=P(""),ae=P(""),te=u(()=>new Ce(le.value||0).times(J.value).div(ee.value).toFixed()),ne=u(()=>{var e;return new Ce(ae.value||0).times((null==(e=t.swap.token)?void 0:e.balance)||0).times(ee.value).div(J.value).div(100).toFixed()});async function se(e,n,o=0){var s,i,u,c,v,m,p,f,h,x,g,k,b;if(!(null==(s=a.userInfo)?void 0:s.evmAddress)||!a.accessToken)return void a.changeConnectVisible(!0);const _="buy"==n;if(_){if(null==(i=M.value)?void 0:i.some(e=>e))return}else if(null==(u=D.value)?void 0:u.some(e=>e))return;if(new Ce(e||0).lte(0))return void l({title:"Error",type:"error",message:V("amountMustG0")});const y=_?t.swap.native:t.swap.token,w=_?t.swap.token:t.swap.native,C=(null==(c=new Ce(e||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==y?void 0:y.decimals)||18}})?`)))?void 0:c[0])||"";if((Number(C)||0)<=0)return void l({title:"Error",type:"error",message:V("amountTooSmall")});if(new Ce(C||0).gt((null==y?void 0:y.balance)||0))return void l({title:"Error",type:"error",message:V("insufficientBalance")});_?M.value[o]=!0:D.value[o]=!0;const A=Z(),S=(null==(v=a.getWalletAddress)?void 0:v.call(a,A))||a.evmAddress||"";let N=Date.now(),F=null,I=null,L=!1;const E=()=>{F&&(clearInterval(F),F=null)},P=()=>{I&&(clearTimeout(I),I=null)},U=B({avatarAddress:S,avatarChain:A}),R=()=>{L||(L=!0,E(),P(),U.close())},H=e=>{if(L)return;L=!0,E(),P();const l=(Date.now()-N)/1e3,a=(null==e?void 0:e.fromAmount)?gl(e.fromAmount,(null==y?void 0:y.decimals)||0):C,t=(null==e?void 0:e.outputAmount)?gl(e.outputAmount,(null==w?void 0:w.decimals)||0):"";U.success({chain:A,txHash:(null==e?void 0:e.txHash)||(null==e?void 0:e.hash)||"",elapsedSec:l,isBuy:_,fromSymbol:(null==y?void 0:y.symbol)||"",fromAmount:a,toSymbol:(null==w?void 0:w.symbol)||"",toAmount:t,avatarAddress:S,avatarChain:A})};F=ul(()=>{U.update(Date.now()-N)},100),I=setTimeout(()=>{L||(E(),U.close(),I=null)},12e4);const O={solana:"sol",ton:"TON"},j=(null==O?void 0:O[A])||ze,z=null==(h=null==(f=null==(p=null==(m=a.userInfo)?void 0:m.addresses)?void 0:p.find)?void 0:f.call(p,e=>(null==e?void 0:e.chain)===A))?void 0:h.address;if("solana"===A||"ton"===A){const e=null==(g=null==(x=d.botSettings)?void 0:x[A])?void 0:g[n],l=null==e?void 0:e.selected,a=null==e?void 0:e[l],s=null==a?void 0:a.mev,i=(null==a?void 0:a.slippage)||"9",{gasTip1List:u,gasTip2List:c}=al(T.gasTip,A),v=s?u:c,m=s?null==a?void 0:a.gas[0]:null==a?void 0:a.gas[1];let p=(null==m?void 0:m.customFee)||(null==v?void 0:v[null==m?void 0:m.level])||"0.002";s&&new Ce(p).lt("0.002")&&(p="0.002");const f=new Ce(p).times(10**9).toFixed(0),h=Date.now().toString(),k={swapList:[{batchId:h,creatorAddress:z||"",inAmount:new Ce(C||0).times(10**((null==y?void 0:y.decimals)||0)).toFixed(0)}],inTokenAddress:(_?j:y.address)||"",outTokenAddress:(_?w.address:j)||"",swapType:_?1:2,isPrivate:s||!1,priorityFee:f,slippage:"auto"!==i?Number(new Ce(i||"9").times(100).toFixed(0)):900,autoSlippage:"auto"===i,autoSell:_&&d.autoSellConfig_autoSell||!1,autoSellConfig:null==d?void 0:d.selectedAutoSellConfig,autoGas:(null==m?void 0:m.customFee)?0:((null==m?void 0:m.level)||0)+1,autoSellGas:(null==m?void 0:m.customFee)?0:((null==m?void 0:m.level)||0)+1,autoSellPriorityFee:f};({solana:cl,ton:dl})[A](k).then(e=>{if(e){let l=setTimeout(()=>{_?M.value[o]=!1:D.value[o]=!1},500);const a=(null==e?void 0:e[0])||{},n={solana:"/botapi/swap/createSolTx",ton:"/botapi/swap/createSwapTonTx"};Zn({txInfo:a,chain:A,destination:(null==n?void 0:n[A])||"/botapi/swap/createSwapEvmTx",type:10});const s={[null==a?void 0:a.batchId]:null==a?void 0:a.id},i=r(()=>null==$?void 0:$.wsResult.tgbot,e=>{var a,n,r,u,d;const c=e.batchId;if(c===h){if(l&&(clearTimeout(l),l=null),t.placeOrderSuccess++,null==(n=null==(a=null==e?void 0:e.txList)?void 0:a[0])?void 0:n.success){const l=null==(r=null==e?void 0:e.txList)?void 0:r[0];Jn({...l,chain:null==e?void 0:e.chain},(null==s?void 0:s[c])||""),H(l)}else il((null==(d=null==(u=null==e?void 0:e.txList)?void 0:u[0])?void 0:d.failMessage)||"swap error"),R();i(),_?M.value[o]=!1:D.value[o]=!1,setTimeout(()=>{Q()},1e3)}})}}).catch(e=>{il(e||"swap error"),R(),_?M.value[o]=!1:D.value[o]=!1})}else if(qe(A)){const e=null==(b=null==(k=d.botSettings)?void 0:k[A])?void 0:b[n],l=null==e?void 0:e.selected,a=null==e?void 0:e[l],s=null==a?void 0:a.mev,i=(null==a?void 0:a.slippage)||"9",{gasTip1List:u,gasTip2List:c}=al(T.gasTip,A),v=s?u:c,m=s?null==a?void 0:a.gas[0]:null==a?void 0:a.gas[1],p=(null==m?void 0:m.customFee)?(null==m?void 0:m.customFee)||(null==v?void 0:v[null==m?void 0:m.level])||"3":"0",f=Number(new Ce(p).times(10**9).toFixed(0)),h=Date.now().toString(),x={chain:A,swapList:[{batchId:h,creatorAddress:z||"",inAmount:new Ce(C||0).times(10**((null==y?void 0:y.decimals)||0)).toFixed(0)}],inTokenAddress:(_?j:y.address)||"",outTokenAddress:(_?w.address:j)||"",swapType:_?1:2,contractType:0,isPrivate:s||!1,gasTip:f,preApprove:!0,slippage:"auto"!==i?Number(new Ce(i||"9").times(100).toFixed(0)):900,autoSlippage:"auto"===i,autoSell:_&&d.autoSellConfig_autoSell||!1,autoSellConfig:null==d?void 0:d.selectedAutoSellConfig,autoGas:(null==m?void 0:m.customFee)?0:((null==m?void 0:m.level)||0)+1,autoSellGas:(null==m?void 0:m.customFee)?0:((null==m?void 0:m.level)||0)+1,autoSellPriorityFee:f};ml(x).then(e=>{if(e){let l=setTimeout(()=>{_?M.value[o]=!1:D.value[o]=!1},500);const a=(null==e?void 0:e[0])||{};Zn({txInfo:a,chain:A,destination:"/botapi/swap/createSwapEvmTx",type:10});const n={[null==a?void 0:a.batchId]:null==a?void 0:a.id},s=r(()=>null==$?void 0:$.wsResult.tgbot,e=>{var a,i,r,u,d;const c=e.batchId;if(c===h){if(l&&(clearTimeout(l),l=null),t.placeOrderSuccess++,null==(i=null==(a=null==e?void 0:e.txList)?void 0:a[0])?void 0:i.success){s(),setTimeout(()=>{Q()},1e3);const l=null==(r=null==e?void 0:e.txList)?void 0:r[0];Jn({...l,chain:null==e?void 0:e.chain},(null==n?void 0:n[c])||""),K({chain:x.chain,inTokenAddress:x.inTokenAddress,outTokenAddress:x.outTokenAddress,...l}),H(l)}else il((null==(d=null==(u=null==e?void 0:e.txList)?void 0:u[0])?void 0:d.failMessage)||"swap error"),s(),R();_?M.value[o]=!1:D.value[o]=!1}})}}).catch(e=>{il(e||"swap error"),R(),_?M.value[o]=!1:D.value[o]=!1})}}async function re(e,l){var n,o,s;if(!(null==(n=a.userInfo)?void 0:n.evmAddress)||!a.accessToken)return void a.changeConnectVisible(!0);const i=new Ce(e).div(100).toFixed(),r=t.swap.token;let u=r.balance||0;if(i){const e=r.decimals||0;u=(null==(o=new Ce(u).times(i).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||"",0===Number(u)&&(u="")}else u="";u=Number(u)<0?0:u,(null==(s=D.value)?void 0:s.some(e=>e))||se(u,"sell",l)}let ue=null,de=null,ce=null;const ve=P(!1),me=P(Number(localStorage.getItem("fixed-one-click-height"))||327),pe=P(Number(localStorage.getItem("fixed-one-click-width"))||360),fe=u(()=>({height:me.value+"px",width:pe.value+"px"})),he=u(()=>me.value>=420),xe=u(()=>{var e,l,a,t;const n=Z(),o=d.botSettings,s=null==(t=null==(a=null==o?void 0:o[n])?void 0:a.buy[(null==(l=null==(e=null==o?void 0:o[n])?void 0:e.buy)?void 0:l.selected)||"s1"])?void 0:t.buyValueList;return he.value?s:(null==s?void 0:s.slice(0,4))||[]}),ge=u(()=>{var e,l,a,t;const n=Z(),o=d.botSettings,s=null==(t=null==(a=null==o?void 0:o[n])?void 0:a.sell[(null==(l=null==(e=null==o?void 0:o[n])?void 0:e.sell)?void 0:l.selected)||"s1"])?void 0:t.sellPerList;return he.value?s:(null==s?void 0:s.slice(0,4))||[]});function be(e,l){e.preventDefault();const a=e.clientY,t=e.clientX,n=me.value,o=pe.value,s=document.querySelector(".fixed-one-click"),i=parseInt((null==s?void 0:s.style.top)||"210",10),r=parseInt((null==s?void 0:s.style.left)||"350",10);let u=null;function d(e){u||(u=requestAnimationFrame(()=>{u=null,document.getElementById("tv_chart_container")&&(document.getElementById("tv_chart_container").style.pointerEvents="none");const d=e.clientX-t,c=e.clientY-a;let v=o,m=n,p=i,f=r;l.includes("r")&&(v=Math.max(360,Math.min(900,o+d))),l.includes("l")&&(v=Math.max(360,Math.min(900,o-d)),f=r+(o-v)),l.includes("b")&&(m=Math.max(327,Math.min(800,n+c))),l.includes("t")&&(m=Math.max(327,Math.min(800,n-c)),p=i+(n-m)),v!==pe.value&&(pe.value=v,l.includes("l")&&s&&(s.style.left=`${f}px`)),m!==me.value&&(me.value=m,l.includes("t")&&s&&(s.style.top=`${p}px`))}))}window.addEventListener("mousemove",d),window.addEventListener("mouseup",function e(){u&&(cancelAnimationFrame(u),u=null),document.getElementById("tv_chart_container")&&(document.getElementById("tv_chart_container").style.pointerEvents="auto"),window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",e),localStorage.setItem("fixed-one-click-height",String(me.value)),localStorage.setItem("fixed-one-click-width",String(pe.value))})}const ye=P(!1);return r(U,e=>{e||(ye.value=!1)}),i(()=>{!function(){const e=document.querySelector(".fixed-one-click");if(!e)return;const l=localStorage.getItem("fixed-one-click-position"),a=l?JSON.parse(l):{x:0,y:0};let t,n=a.x,o=a.y,s=0,i=0,r=!1;Object.assign(e.style,{position:"fixed",cursor:"grab",zIndex:"33",outline:"none",willChange:"transform",transform:`translate3d(${n}px, ${o}px, 0)`}),e.setAttribute("tabindex","0"),ce||(ce=document.createElement("div"),Object.assign(ce.style,{position:"fixed",inset:"0",zIndex:"9998",cursor:"grabbing",display:"none",background:"transparent"}),document.body.appendChild(ce));const u=ce,d=()=>{r&&(e.style.transform=`translate3d(${n}px, ${o}px, 0)`,t=requestAnimationFrame(d))};de=()=>{r&&(r=!1,cancelAnimationFrame(t),u.style.display="none",e.style.cursor="grab",localStorage.setItem("fixed-one-click-position",JSON.stringify({x:n,y:o})))},e.onmousedown=l=>{l.target.closest(".resize-handle")||(r=!0,s=l.clientX-n,i=l.clientY-o,u.style.display="block",e.style.cursor="grabbing",e.focus(),t=requestAnimationFrame(d),l.preventDefault())},ue=l=>{if(!r)return;const a=l.clientX-s,t=l.clientY-i,u=e.getBoundingClientRect(),d=u.width,c=u.height,v=e.offsetLeft,m=e.offsetTop,p=-v,f=window.innerWidth-v-d,h=-m,x=window.innerHeight-m-c;n=Math.max(p,Math.min(a,f)),o=Math.max(h,Math.min(t,x))},e.onblur=de,window.addEventListener("mousemove",ue),window.addEventListener("mouseup",de)}(),nn(document,"keydown",e=>{"Space"===e.code&&(j.value=!0)}),nn(document,"keyup",e=>{"Space"===e.code&&(j.value=!1)}),nn(document,"keydown",e=>{var l,a,t,n,o,s;if(j.value&&W.value){const i=["q","w","e","r"].indexOf(e.key);if(i>=0){const e=null==(a=null==(l=d.botSettings)?void 0:l[X.value])?void 0:a.buy,n=(null==e?void 0:e.selected)||"s1";se((null==(t=null==e?void 0:e[n])?void 0:t.buyValueList[i])||"","buy",i)}const r=["a","s","d","f"].indexOf(e.key);if(r>=0){const e=null==(o=null==(n=d.botSettings)?void 0:n[X.value])?void 0:o.sell,l=(null==e?void 0:e.selected)||"s1";re((null==(s=null==e?void 0:e[l])?void 0:s.sellPerList[r])||"",r)}}}),E(()=>{ve.value=!0})}),R(()=>{!function(){const e=document.querySelector(".fixed-one-click");e&&(e.onmousedown=null,e.onblur=null),ue&&window.removeEventListener("mousemove",ue),de&&window.removeEventListener("mouseup",de),ue=null,de=null,ce&&(ce.remove(),ce=null)}(),ve.value=!1}),(e,l)=>{var n,o,s,i,r,u,T,$,L,V;const B=b,E=Et,P=ke,R=_e,H=c("tooltip");return f(),_(y,null,[g(x("button",{class:I(["one-click-btn clickable",{active:p(U)}]),onKeyup:l[0]||(l[0]=F(()=>{},["prevent"])),onKeydown:l[1]||(l[1]=Fl(F(()=>{},["prevent"]),["enter"])),onClick:l[2]||(l[2]=F(e=>U.value=!p(U),["stop"]))},[C(B,{name:"ion:flash"}),x("span",oC,k(e.$t("oneClick")),1)],34),[[ie,null==(n=p(a).isSupportChains)?void 0:n.includes(p(X))]]),(f(),v(tn,{to:"body"},[g(x("div",{class:"fixed-one-click flex flex-col",style:A(p(fe))},[(null==(o=p(a).isSupportChains)?void 0:o.includes(p(X)))&&p(U)?(f(),_(y,{key:0},[x("div",sC,[x("div",iC,[g((f(),v(B,{key:p(W),class:I(["text-14px color-[--secondary-text] clickable",{"color-[--primary-color]!":p(W)}]),name:"ri:keyboard-box-fill",onClick:l[3]||(l[3]=F(e=>W.value=!p(W),["stop"])),onMousedown:l[4]||(l[4]=F(()=>{},["stop"]))},null,8,["class"])),[[H,p(W)?e.$t("hotkeyTips"):e.$t("hotkeyTips1")]]),g((f(),v(B,{key:p(q),name:"bx:bxs-bar-chart-alt-2",class:I(["text-14px color-[--secondary-text] clickable ml-5px",{"color-[--primary-color]!":p(q)}]),onMousedown:l[5]||(l[5]=F(()=>{},["stop"])),onClick:l[6]||(l[6]=F(e=>q.value=!p(q),["stop"]))},null,8,["class"])),[[H,p(q)?e.$t("enablePnLTips2"):e.$t("enablePnLTips1")]]),g((f(),v(B,{key:p(Y),name:"ph:approximate-equals-bold",class:I(["text-14px color-[--secondary-text] clickable ml-5px",{"color-[--primary-color]!":p(Y)}]),onMousedown:l[7]||(l[7]=F(()=>{},["stop"])),onClick:l[8]||(l[8]=F(e=>Y.value=!p(Y),["stop"]))},null,8,["class"])),[[H,p(Y)?e.$t("disableShowsReflected"):e.$t("enableShowsReflected")]]),p(ye)?(f(),v(B,{key:1,name:"ic:baseline-check",class:"text-14px color-[--secondary-text] clickable ml-5px",onClick:l[11]||(l[11]=F(e=>ye.value=!1,["stop"])),onMousedown:l[12]||(l[12]=F(()=>{},["stop"]))})):(f(),v(B,{key:0,name:"fe:edit",class:"text-14px color-[--secondary-text] clickable ml-5px",onClick:l[9]||(l[9]=F(e=>ye.value=!0,["stop"])),onMousedown:l[10]||(l[10]=F(()=>{},["stop"]))}))]),C(mo,{class:"mr-10px ml-auto",chain:p(X),onMousedown:l[13]||(l[13]=F(()=>{},["stop"]))},null,8,["chain"]),C(B,{class:"text-14px clickable color-[--main-text] clickable",name:"ri:close-large-fill",onClick:l[14]||(l[14]=F(e=>U.value=!1,["stop"])),onMousedown:l[15]||(l[15]=F(()=>{},["stop"]))})]),C(E,{class:"b-t-color-[--dialog-divider]! mt-10px! mb-5px!"}),x("div",rC,[x("div",uC,[x("span",null,k(e.$t("buy")),1),x("div",dC,[(f(!0),_(y,null,w("BotSettingsArr"in e?e.BotSettingsArr:p(Nl),e=>{var a,t,n;return f(),_("button",{key:e.value,class:I({active:e.value===(null==(n=null==(t=null==(a=p(S))?void 0:a[p(X)])?void 0:t.buy)?void 0:n.selected)}),type:"button",onMousedown:l[16]||(l[16]=F(()=>{},["stop"])),onClick:F(l=>p(S)[p(X)].buy.selected=e.value,["stop"])},k(e.label),43,cC)}),128))]),p(Y)&&Number(p(te))>0?(f(),_("span",vC,"≈"+k(p(G)(p(te),3))+" "+k((null==(s=p(t).swap.token)?void 0:s.symbol)||(null==(i=p(t).token)?void 0:i.symbol)||""),1)):m("",!0),x("span",mC,k(e.$t("balance1"))+": "+k(p(G)((null==(r=p(t).swap.native)?void 0:r.balance)||0))+" "+k(null==(u=p(We)(p(X)))?void 0:u.main_name),1),C(zm,{class:"color-[--secondary-text]",type:0,onMousedown:l[17]||(l[17]=F(()=>{},["stop"]))})]),p(ye)?(f(),_("ul",{key:1,class:"mt-10px tabs flex-1 flex-wrap",onMousedown:l[21]||(l[21]=F(()=>{},["stop"]))},[(f(!0),_(y,null,w(p(xe),(e,l)=>{var a,t;return f(),_("li",{key:l,class:"w-[calc((100%-30px)/4)]",style:A({height:p(he)?"calc(50% - 4px)":"100%"})},[C(R,{modelValue:p(S)[p(X)].buy[(null==(t=null==(a=p(S))?void 0:a[p(X)])?void 0:t.buy.selected)||"s1"].buyValueList[l],"onUpdate:modelValue":e=>{var a,t;return p(S)[p(X)].buy[(null==(t=null==(a=p(S))?void 0:a[p(X)])?void 0:t.buy.selected)||"s1"].buyValueList[l]=e},class:"input-number h-full",inputmode:"decimal",placeholder:"0.0",onInput:e=>function(e,l){var a,t;const n=e.replace(/-|[^\d.]/g,""),o=Z(),s=null==(a=d.botSettings)?void 0:a[o],i=(null==(t=null==s?void 0:s.buy)?void 0:t.selected)||"s1";s.buy[i].buyValueList[l]=n}(e,l),onBlur:e=>function(e){var l,a,t,n,o,s,i,r;const u=Z(),c=null==(l=d.botSettings)?void 0:l[u],v=(null==(a=null==c?void 0:c.buy)?void 0:a.selected)||"s1",m=null==(o=null==(n=null==(t=null==c?void 0:c.buy)?void 0:t[v])?void 0:n.buyValueList)?void 0:o[e],p=null==(r=null==(i=null==(s=new Ce(m||0).toFixed())?void 0:s.match)?void 0:i.call(s,new RegExp("[0-9]*(\\.[0-9]{0,4})?")))?void 0:r[0];String(m)!==String(p)&&(null==c?void 0:c.buy)&&(0===Number(p)?c.buy[v].buyValueList[e]="0":c.buy[v].buyValueList[e]=p||"0")}(l)},null,8,["modelValue","onUpdate:modelValue","onInput","onBlur"])],4)}),128))],32)):(f(),_("div",{key:0,class:"mt-10px tabs flex-1 flex-wrap",onMousedown:l[20]||(l[20]=F(()=>{},["stop"]))},[(f(!0),_(y,null,w(p(xe),(e,a)=>(f(),v(P,{key:a,class:I(["one-click-button green clickable",{active:p(j)&&p(W)}]),style:A({height:p(he)?"calc(50% - 4px)":"100%"}),loading:p(M)[a],disabled:p(M)[a],onClick:F(l=>se(e,"buy",a),["stop","prevent"]),onMousedown:l[18]||(l[18]=F(()=>{},["stop"])),onMouseover:F(l=>le.value=e,["stop"]),onMouseleave:l[19]||(l[19]=F(e=>le.value="",["stop"]))},{default:h(()=>[N(k(p(M)[a]?"":e),1)]),_:2},1032,["class","style","loading","disabled","onClick","onMouseover"]))),128))],32)),C(up,{activeTab:"buy",gasPrice:p(t).gasPrice,onMousedown:l[22]||(l[22]=F(()=>{},["stop"]))},null,8,["gasPrice"]),C(E,{class:"b-t-color-[--dialog-divider]! mt-10px! mb-5px!"}),x("div",pC,[x("span",null,k(e.$t("sell")),1),x("div",fC,[(f(!0),_(y,null,w("BotSettingsArr"in e?e.BotSettingsArr:p(Nl),e=>{var a,t,n;return f(),_("button",{key:e.value,class:I({active:e.value===(null==(n=null==(t=null==(a=p(S))?void 0:a[p(X)])?void 0:t.sell)?void 0:n.selected)}),type:"button",onMousedown:l[23]||(l[23]=F(()=>{},["stop"])),onClick:F(l=>p(S)[p(X)].sell.selected=e.value,["stop"])},k(e.label),43,hC)}),128))]),p(Y)&&Number(p(ne))>0?(f(),_("span",xC,"≈"+k(p(G)(p(ne),3))+" "+k((null==(T=p(We)(p(X)))?void 0:T.main_name)||""),1)):m("",!0),x("span",gC,k(e.$t("balance1"))+": "+k(p(G)((null==($=p(t).swap.token)?void 0:$.balance)||0))+" "+k((null==(L=p(t).token)?void 0:L.symbol)||""),1),C(zm,{class:"color-[--secondary-text]",type:1,onMousedown:l[24]||(l[24]=F(()=>{},["stop"]))})]),p(ye)?(f(),_("ul",{key:3,class:"mt-10px tabs flex-1 flex-wrap",onMousedown:l[27]||(l[27]=F(()=>{},["stop"]))},[(f(!0),_(y,null,w(p(xe),(e,a)=>{var t,n;return f(),_("li",{key:a,class:"w-[calc((100%-30px)/4)]",style:A({height:p(he)?"calc(50% - 4px)":"100%"})},[C(R,{modelValue:p(S)[p(X)].sell[(null==(n=null==(t=p(S))?void 0:t[p(X)])?void 0:n.sell.selected)||"s1"].sellPerList[a],"onUpdate:modelValue":e=>{var l,t;return p(S)[p(X)].sell[(null==(t=null==(l=p(S))?void 0:l[p(X)])?void 0:t.sell.selected)||"s1"].sellPerList[a]=e},class:"input-number h-full",inputmode:"decimal",placeholder:"0",onInput:e=>function(e,l){var a,t;let n=e.replace(/-|[^\d.]/g,"");Number(n)>100?n="100":Number(n)<0&&(n="0");const o=Z(),s=null==(a=d.botSettings)?void 0:a[o],i=(null==(t=null==s?void 0:s.sell)?void 0:t.selected)||"s1";(null==s?void 0:s.sell)&&(s.sell[i].sellPerList[l]=n||"0")}(e,a)},{suffix:h(()=>[...l[37]||(l[37]=[x("span",{class:"color-text-1"},"%",-1)])]),_:1},8,["modelValue","onUpdate:modelValue","onInput"])],4)}),128))],32)):(f(),_("div",kC,[(f(!0),_(y,null,w(p(ge),(e,a)=>(f(),v(P,{key:a,class:I(["one-click-button red clickable",{active:p(j)&&p(W)}]),loading:p(D)[a],style:A({height:p(he)?"calc(50% - 4px)":"100%"}),disabled:p(D)[a],onClick:F(l=>re(e,a),["stop","prevent"]),onMousedown:l[25]||(l[25]=F(()=>{},["stop"])),onMouseover:F(l=>ae.value=e,["stop"]),onMouseleave:l[26]||(l[26]=F(e=>ae.value="",["stop"]))},{default:h(()=>[N(k(p(D)[a]?"":e+"%"),1)]),_:2},1032,["class","loading","style","disabled","onClick","onMouseover"]))),128))])),C(up,{activeTab:"sell",gasPrice:p(t).gasPrice,onMousedown:l[28]||(l[28]=F(()=>{},["stop"]))},null,8,["gasPrice"])]),g(C(ef,{isForceShow:"",class:"b-t-solid b-t-1px b-color-[--dialog-divider] mt-10px rd-0! pb-0! mb-0! gap-8px bg-transparent!"},null,512),[[ie,p(q)]]),x("div",{class:"resize-handle resize-handle-b",onMousedown:l[29]||(l[29]=F(e=>be(e,"b"),["stop"]))},null,32),x("div",{class:"resize-handle resize-handle-r",onMousedown:l[30]||(l[30]=F(e=>be(e,"r"),["stop"]))},null,32),x("div",{class:"resize-handle resize-handle-t",onMousedown:l[31]||(l[31]=F(e=>be(e,"t"),["stop"]))},null,32),x("div",{class:"resize-handle resize-handle-l",onMousedown:l[32]||(l[32]=F(e=>be(e,"l"),["stop"]))},null,32),x("div",{class:"resize-handle resize-handle-tl",onMousedown:l[33]||(l[33]=F(e=>be(e,"tl"),["stop"]))},null,32),x("div",{class:"resize-handle resize-handle-tr",onMousedown:l[34]||(l[34]=F(e=>be(e,"tr"),["stop"]))},null,32),x("div",{class:"resize-handle resize-handle-bl",onMousedown:l[35]||(l[35]=F(e=>be(e,"bl"),["stop"]))},null,32),x("div",{class:"resize-handle resize-handle-br",onMousedown:l[36]||(l[36]=F(e=>be(e,"br"),["stop"]))},null,32)],64)):m("",!0)],4),[[ie,(null==(V=p(a).isSupportChains)?void 0:V.includes(p(X)))&&p(U)&&p(ve)]])]))],64)}}}),[["__scopeId","data-v-d4b24c64"]]),_C={class:"ml-5px"},yC=B(t({__name:"orderBookButton",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=l;function n(){const e=!a.modelValue;t("update:modelValue",e)}return(l,a)=>{const t=b;return f(),_("button",{class:I(["order-book-btn mr--12px clickable",{active:e.modelValue}]),onClick:F(n,["stop"])},[C(t,{name:"i-codicon:layout-sidebar-left",class:I({"rotate-90":!e.modelValue})},null,8,["class"]),x("span",_C,k(l.$t("orderBook")),1)],2)}}}),[["__scopeId","data-v-4bb15e89"]]),wC=["src"],TC=B(t({__name:"bubble",setup(e){const l=o(),{token:a}=z(H()),t=d(!1),n=u(()=>{var e,t;const n=l.params.id;return n?s(n):{address:(null==(e=a.value)?void 0:e.token)||"",chain:(null==(t=a.value)?void 0:t.chain)||""}}),i=u(()=>{var e;return null==(e=n.value)?void 0:e.address}),r=u(()=>{var e;return null==(e=n.value)?void 0:e.chain});function c(){}return(e,l)=>{var a;const n=b,o=De;return f(),_(y,null,[(null==(a=["solana","bsc"])?void 0:a.includes(p(r)))?(f(),_("a",{key:0,class:"bubble ml--12px",href:"",onClick:l[0]||(l[0]=F(e=>t.value=!p(t),["stop","prevent"]))},[C(n,{name:"custom:bubble",class:"color-[--third-text] icon-bubble"})])):m("",!0),p(t)?(f(),v(o,{key:1,modelValue:p(t),"onUpdate:modelValue":l[1]||(l[1]=e=>L(t)?t.value=e:null),width:"860",height:"600",class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:e.$t("holderBubble"),"destroy-on-close":"",onOpened:c},{default:h(()=>[x("iframe",{class:"mt-20px",style:{width:"100%",height:"700px",border:"none","min-height":"500px","max-height":"700px"},src:`https://app.insightx.network/bubblemaps/${"bsc"==p(r)?56:p(r)}/${p(i)}?embed_id=9Pt12qHMl1KDeK`,allow:"clipboard-write"},null,8,wC)]),_:1},8,["modelValue","title"])):m("",!0)],64)}}}),[["__scopeId","data-v-a8243162"]]),CC={class:"bg-[--secondary-bg] rounded-2px text-14px pt-12px flex-1"},AC={class:"flex items-center px-12px gap-20px border-b-1px border-b-solid border-b-[--main-divider] mb-12px"},SC=["onClick"],NC={key:0,class:"w-1px h-20px bg-[var(--custom-br-1-color)] mr-20px mb-8px"},$C={key:0},FC={key:1},IC={key:2,class:"flex-start"},LC={key:3},VC={key:4},BC=t({__name:"belowChartTable",setup(e){const l=ue("orderBookVisible",P(!1)),{globalConfig:a}=z(re()),t=o(),c=H(),h=O(),{t:T}=n(),A=U(),{token:S,tokenInfoExtra:$,pairAddress:F,commonHeight:V}=z(H()),B=d("Transactions"),M={Transactions:rT,Holders:Me(()=>ne(()=>import("./5kl4xEHr.js"),__vite__mapDeps([65,4,5,66,56,9,10,20,21,27,57,19,22,23,25,26,28,15,16,67,68,29,30,31,32,33,34,35,36,17,18,24,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,13,11,12,58,14,59,60,61,62,63,64,69]),import.meta.url)),LP:Me(()=>ne(()=>import("./FgZ7WRTR.js"),__vite__mapDeps([70,61,4,5,62,71,72,56,9,10,20,21,27,57,68,29,30,73,74]),import.meta.url)),Attention:Me(()=>ne(()=>import("./npkA6KOp.js"),__vite__mapDeps([75,4,5,66,56,9,10,20,21,27,57,19,22,23,25,26,28,15,16,67,17,18,24,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,13,11,12,58,14,59,60,61,62,63,64,76]),import.meta.url)),Orders:nC,MySwap:Me(()=>ne(()=>import("./rHU2Jf8t.js"),__vite__mapDeps([77,4,5,56,9,10,20,21,27,57,49,26,50,15,16,17,18,19,22,23,24,25,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,51,52,53,54,55,13,11,12,58,14,59,60,61,62,63,64,78]),import.meta.url)),DevTokens:Me(()=>ne(()=>import("./CLrfaUgq.js"),__vite__mapDeps([79,56,9,4,5,10,20,21,27,57,46,47,80,43,44,32,33,45,81]),import.meta.url))},D=u(()=>[{name:T("transactions"),component:"Transactions"},{name:T("holders"),component:"Holders"},{name:"LP",component:"LP"},{name:T("attention1")+`(${A.headFollowsNum.all})`,component:"Attention"},{name:T("orders"),component:"Orders"},{name:T("mySwap"),component:"MySwap"},{name:T("devTokens"),component:"DevTokens"}]),E=u(()=>{var e;return null==(e=t.params)?void 0:e.id});r(E,()=>{A.getFollowsNum()});const R=q();r(()=>R.currentAddress,e=>{e?A.getFollowsNum():A.headFollowsNum={all:0,subAll:0}}),r(()=>c.placeOrderUpdate,()=>{"Orders"!==B.value&&(B.value="Orders")}),r(()=>c.placeOrderSuccess,()=>{"MySwap"!==B.value&&(B.value="MySwap")});const j=P("Transactions");r(()=>l.value,e=>{e?"Transactions"===B.value?(j.value="Transactions",B.value="Holders"):"Orders"===B.value&&(j.value="Orders",B.value="Holders"):B.value=j.value||"Transactions"},{immediate:!0});const W=u(()=>D.value.filter(e=>{var a;return!("Orders"===e.component&&!(null==(a=null==h?void 0:h.userInfo)?void 0:a.evmAddress))&&("Transactions"!==e.component||!l.value)})),Y=u(()=>"Orders"===B.value?nC:M[B.value]),Q=u(()=>{var e;return(null==(e=null==S?void 0:S.value)?void 0:e.holders)||0}),K=u(()=>{var e;return(null==(e=null==$?void 0:$.value)?void 0:e.pair_holders)||0}),X=u(()=>{var e,l;const a=t.params.id;return a?s(a):{address:(null==(e=S.value)?void 0:e.token)||"",chain:(null==(l=S.value)?void 0:l.chain)||""}}),Z=u(()=>{var e;const l=X.value.chain,t=null==(e=a.value)?void 0:e.chains_support_data_analysis_insider_sniper;return(null==t?void 0:t.includes(l))||!1}),J=u(()=>({LP:{token:S.value,pairAddress:F.value,height:V.value},Transactions:{},Holders:{},Attention:{},Orders:{},MySwap:{}}[B.value]||{}));return i(()=>{A.getFollowsNum()}),se(()=>{A.headFollowsNum={all:0,subAll:0},B.value="Transactions"}),(e,a)=>{const n=b;return f(),_("div",CC,[x("div",AC,[(f(!0),_(y,null,w(p(W),l=>{var a,t,o,s,i,r,u,d,h;return f(),_("a",{key:l.component,href:"javascript:;",class:I("flex items-center decoration-none text-12px lh-20px text-center "+(p(B)===l.component?"color-[--main-text] b-b-[--main-text] font-500":"b-b-transparent color-[--third-text]")),onClick:e=>B.value=l.component},["Orders"==l.component?(f(),_("div",NC)):m("",!0),x("div",{class:I("b-b-solid b-b-2px pb-8px flex-start "+(p(B)===l.component?" b-b-[--main-text]":"b-b-transparent"))},["DevTokens"!==l.component||(null==(a=p(c).tokenInfoExtra)?void 0:a.dev_count)?(f(),_("strong",$C,k(l.name),1)):m("",!0),"Orders"===l.component?(f(),_("span",FC,"("+k(p(c).registrationNum)+")",1)):m("",!0),"LP"===l.component?(f(),_("span",IC,[N(" ("+k(p(K))+") ",1),p(K)?(f(),v(n,{key:0,color:"#B3920E",name:"material-symbols:lock"})):m("",!0)])):m("",!0),"DevTokens"===l.component&&(null==(t=p(c).tokenInfoExtra)?void 0:t.dev_count)?(f(),_("span",LC,"("+k(null==(o=p(c).tokenInfoExtra)?void 0:o.dev_count)+")",1)):m("",!0),"Holders"==l.component&&p(Q)?(f(),_("span",VC,[N(" ("+k((null==(s=p(S))?void 0:s.holders)?("formatNumber"in e?e.formatNumber:p(G))((null==(i=p(S))?void 0:i.holders)||0,{limit:10}):"")+") ",1),p(Z)&&((null==(r=p($))?void 0:r.insiders_balance_ratio_cur)??0)>.01?(f(),_(y,{key:0},[C(n,{name:"custom:insiders",class:I(["text-12px align-middle",((null==(u=p($))?void 0:u.insiders_balance_ratio_cur)??0)>.3?"#AC3EEC":""])},null,8,["class"]),100*((null==(d=p($))?void 0:d.insiders_balance_ratio_cur)??0)>1?(f(),_(y,{key:0},[N(k(("formatNumber"in e?e.formatNumber:p(G))(100*((null==(h=p($))?void 0:h.insiders_balance_ratio_cur)??0),2)+"%"),1)],64)):(f(),_(y,{key:1},[N(k("<1%"))],64))],64)):m("",!0)])):m("",!0)],2)],10,SC)}),128)),a[1]||(a[1]=x("div",{class:"flex-1"},null,-1)),C(yC,{modelValue:p(l),"onUpdate:modelValue":a[0]||(a[0]=e=>L(l)?l.value=e:null)},null,8,["modelValue"]),C(bC),C(TC)]),g(C(nC,{currentActiveTab:p(B)},null,8,["currentActiveTab"]),[[ie,"Orders"===p(B)]]),"Orders"!==p(B)&&"token-id"===p(t).name?(f(),v(dt(p(Y)),vt({key:0},p(J),{ref:"activeChild",currentActiveTab:p(B)}),null,16,["currentActiveTab"])):m("",!0)])}}}),MC={class:"mx-12px pb-12px flex border-b-1px border-b-solid border-b-[#f2f2f2] dark:border-b-[#222]"},DC=["onClick"],EC={class:"flex items-center gap-8px"},PC={class:"px-12px"},UC={class:"text-12px"},RC={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px mt-8px mb-4px text-12px color-[--d-5A5E64-l-A9B0BC]"},HC={class:"grid grid-cols-[minmax(0,0.8fr)_minmax(0,1fr)] items-center gap-15px"},OC={class:"min-w-0 text-left cursor-pointer flex items-center"},jC={class:"text-right text-nowrap min-w-0"},zC={class:"flex items-center justify-end gap-2px"},WC={key:0,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},qC={key:1,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},GC={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px"},YC={class:"flex items-center justify-end gap-2px text-nowrap min-w-0"},QC={key:0,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},KC={key:1,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},XC={class:"text-right min-w-0"},ZC=["onClick"],JC={class:"grid grid-cols-[minmax(0,0.8fr)_minmax(0,1fr)] items-center gap-15px relative h-24px px-2px"},eA={class:"text-left min-w-0"},lA={class:"color-[--d-5A5E64-l-A9B0BC]"},aA={class:"color-[--d-5A5E64-l-A9B0BC]"},tA={key:1,class:"color-[--d-5A5E64-l-A9B0BC]"},nA={class:"text-right text-nowrap min-w-0"},oA={key:0},sA={key:1},iA={class:"color-[--d-5A5E64-l-A9B0BC] hidden sm:inline"},rA={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px h-24px"},uA={class:"text-right text-nowrap min-w-0 overflow-visible"},dA={class:"color-[--secondary-text]"},cA={key:0},vA={key:1},mA={class:"text-right overflow-hidden min-w-0"},pA={class:"flex items-center justify-end min-w-0"},fA={key:2,class:"color-[--secondary-text] !text-12px ml-2px whitespace-nowrap"},hA={class:"z-10 absolute bottom-0 h-24px w-100% flex items-center justify-center bg-[--main-input-button-bg] color-[#FFA622]"},xA={class:"flex items-center gap-x-7px"},gA={class:"text-xs"},kA={class:"mb-10px"},bA={for:"markerAddress"},_A={class:"mb-10px mt-20px"},yA={class:"flex items-center gap-20px"},wA={class:"mt-20px flex"},TA=B(t({__name:"orderBook",props:{modelValue:{type:Boolean},klineHeight:{}},emits:["update:modelValue"],setup(e){const l=H(),a=W(),t=["solana","bsc"],o=e,T=ue(jt.KLINE_DATE_FILTER),{lang:S}=z(U()),{t:$}=n(),L=on(),{totalHolders:V,pairAddress:B,pair:M,token:D}=z(H()),E=U(),R=O(),j=Re(),q=Aw(),Y=zt(),Q=P(null),X=d("all"),Z=d(!1),J=u(()=>Z.value||"asc"===Ne.value.sort_dir),le=d(!1),ae=P({loadingTxs:!1,loadingTxs1:!1,finished:!1,page_token:"",pageSize:100}),te=P(null),ne=P(null);sn(ne,([{isIntersecting:e}])=>{!e||ae.value.loadingTxs1||ae.value.finished||(Le.value=!0,je())},{root:te,threshold:.1});const oe=d([]),re=d([]),de=P({markerAddress:"",tag_type:"all",minVol:"",maxVol:"",timestamp:[]}),ce=d({}),ve=P(),me=d({}),pe=P({isAmount:!0}),fe=d(s(L.params.id).address),he=d(!1),xe={markerAddress:"",minVol:"",maxVol:""},ge=P({...xe}),we=u(()=>{const e=[];return Array.isArray(V.value)&&V.value.forEach(l=>{const a=l.total_address;a>0&&e.push({...l,label:(null==l?void 0:l[Nt(Pe().locale)])+("31"!==l.type?`(${a})`:""),value:l.type})}),[{label:$("all"),value:"all"},...e]}),Te=u(()=>de.value.markerAddress||de.value.minVol||de.value.maxVol),Ae=u(()=>{var e,l;const a=L.params.id;return a?s(a):{address:(null==(e=D.value)?void 0:e.token)||"",chain:(null==(l=D.value)?void 0:l.chain)||""}}),Se=u(()=>"time"===Ne.value.sort?Ne.value.sort_dir:""),Ne=P({sort:"",sort_dir:""});function $e(e){Ne.value={sort:e?"time":"",sort_dir:e},Fe()}function Fe(){ae.value.page_token="",ae.value.loadingTxs=!1,ae.value.finished=!1,je()}const Ie=u(()=>ae.value.loadingTxs1),Le=P(!1),Ve=u(()=>de.value.markerAddress===R.getWalletAddress(Ae.value.chain)),Be={all:()=>[...oe.value].toSorted((e,l)=>"asc"===Ne.value.sort_dir?e.time-l.time:l.time-e.time),buy:()=>oe.value.filter(e=>qe(e)).toSorted((e,l)=>"asc"===Ne.value.sort_dir?e.time-l.time:l.time-e.time),sell:()=>oe.value.filter(e=>!qe(e)).toSorted((e,l)=>"asc"===Ne.value.sort_dir?e.time-l.time:l.time-e.time)},Me=u(()=>{let e=[...oe.value];e=X.value in Be?Be[X.value]():oe.value,de.value.markerAddress&&(e=e.filter(e=>e.wallet_address.toLowerCase()===de.value.markerAddress.toLowerCase()));const[l,a]=de.value.timestamp;l&&(e=e.filter(e=>e.time>=Number(l))),a&&(e=e.filter(e=>e.time<=Number(a)));const{minVol:t,maxVol:n}=de.value;return t&&(e=e.filter(e=>Qe(e,!0,!0)>=Number(t))),n&&(e=e.filter(e=>Qe(e,!0,!0)<=Number(n))),e});function Ee(){oe.value=[],re.value=[],ce.value={}}function Ue(){const e={jsonrpc:"2.0",params:["tx",B.value],id:1};j.send({...e,method:"unsubscribe"}),j.send({...e,method:"subscribe"})}function He(){const e={jsonrpc:"2.0",params:["tx",B.value],id:1};j.send({...e,method:"unsubscribe"})}function Oe(e){const{wallet_tag:l,topN:a}=ze(e),t=(e.maker_type||"").split(",");let n="en";"zh-tw"===S.value?n="tw":"zh-cn"===S.value&&(n="cn");const o=q.tagArr.filter(e=>t.includes(e.type)).map(e=>({type:e.type,tag_desc:null==e?void 0:e[n],icon:e.icon,color:e.color,extra_info:e.extra_info,nick_name:e.nick_name}));return{...e,wallet_tag:l,topN:a,senderProfile:JSON.parse((null==e?void 0:e.profile)||"{}"),uuid:Gt(),newTags:o,isSimple:!0,chain:Ae.value.chain,id:e.page_token,transaction:e.txhash,wallet_address:e.maker}}r(()=>null==T?void 0:T.value,e=>{e&&o.modelValue&&(de.value.timestamp=e,Fe())}),r(()=>B.value,()=>{B.value&&o.modelValue&&(ae.value.loadingTxs1=!0,Ee(),oe.value=[],re.value=[],ce.value={},X.value="all",de.value.markerAddress="",de.value.tag_type="all",Fe(),Ue())}),r(()=>o.modelValue,e=>{e&&B.value?(ae.value.loadingTxs1=!0,Ee(),Fe(),Ue()):e||(He(),Ee())});const je=Wt(async()=>{var e,a,t;try{if(ae.value.loadingTxs)return;ae.value.loadingTxs=!0;const{tag_type:n}=de.value,o={token_id:L.params.id,tag_type:["buy","sell"].includes(n)?"":n,direction:["buy","sell"].includes(n)?n:"",sender:de.value.markerAddress,target_price_u_min:de.value.minVol,target_price_u_max:de.value.maxVol,time_min:de.value.timestamp[0],time_max:de.value.timestamp[1],page_token:ae.value.page_token,sort_dir:Ne.value.sort_dir},i=await qt(l.pairAddress+"-"+Ae.value.chain,o)||[];fe.value=s(o.token_id).address;const r=(null==(e=i[i.length-1])?void 0:e.page_token)||"";ce.value={},Array.isArray(i)&&(null==i?void 0:i.length)>0?(ae.value.page_token?oe.value=[...oe.value].concat(null==(t=null==(a=i.filter)?void 0:a.call(i,e=>{var l,a;return null==(a=null==(l=oe.value)?void 0:l.every)?void 0:a.call(l,l=>l.txhash!==e.txhash)}))?void 0:t.map(e=>Oe(e))).reverse().map(e=>(ce.value[e.maker]=(ce.value[e.maker]||0)+1,{...e,count:ce.value[e.maker]})).reverse():oe.value=i.reverse().map(e=>(ce.value[e.maker]=(ce.value[e.maker]||0)+1,{...Oe(e),count:ce.value[e.maker]})).reverse(),ae.value.finished||(ae.value.page_token=r),"asc"===Ne.value.sort_dir?oe.value=[...oe.value].toSorted((e,l)=>e.time-l.time):oe.value=[...oe.value].toSorted((e,l)=>l.time-e.time)):(ae.value.page_token||(oe.value=[]),ae.value.finished=!0)}catch(n){oe.value=[],ae.value.page_token=""}finally{ae.value.loadingTxs1=!1,Le.value=!1,ae.value.loadingTxs=!1}},500);function ze(e){const l=e.wallet_tag_v2||"";let a="",t=[];return l.length>0&&(t=l.split(","),t.forEach((e,l)=>{new RegExp("^top.*$","gi").test(e)&&(a=e,t.splice(l,1))})),{topN:a,wallet_tag:t}}function qe(e){var l,a,t,n,o,s,i,r;return!(!fe.value&&!Ae.value.address||!e)&&("direction"in e&&"target"in e?"buy"===e.direction:(!("from_address"in e)||!e.from_address||(null==(a=(l=fe.value).toLowerCase)?void 0:a.call(l))!==(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))&&(!(!("to_address"in e)||!e.to_address||(null==(s=(o=fe.value).toLowerCase)?void 0:s.call(o))!==(null==(r=(i=e.to_address).toLowerCase)?void 0:r.call(i)))||void 0))}function Ge(e){if("type"in e){if("addLiquidity"===e.type)return"color-#65C4ED";if("removeLiquidity"===e.type||"CollectFee"===e.type)return"color-#EF6DE2"}return qe(e)?"color-#12B886":"color-#F6465D"}function Ye(e){var a,t,n,o,s,i;const r=l.circulation;let u=0;const d=fe.value||Ae.value.address;u="isSimple"in e&&e.isSimple&&"target_price_u"in e?Number(null==e?void 0:e.target_price_u):"direction"in e&&"target"in e?Number(e.price_u):e.from_address&&(null==(a=d.toLowerCase)?void 0:a.call(d))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t))?Number(e.from_price_usd)||0:e.to_address&&(null==(o=d.toLowerCase)?void 0:o.call(d))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s))?Number(e.to_price_usd)||0:Number(e.to_price_usd)||Number(e.from_price_usd)||0;return u*(null==r?void 0:r.toNumber())}function Qe(e,l=!1,a=!1){var t,n,o,s,i,r,u,d;return(fe.value||Ae.value.address)&&e?"direction"in e&&"target"in e?Number(e.target_amt||0)*(l?Number(a?e.price_u||e.target_price_u:e.price_m||e.target_price_m):1):"from_address"in e&&e.from_address&&(null==(n=(t=fe.value).toLowerCase)?void 0:n.call(t))===(null==(s=null==(o=e.from_address)?void 0:o.toLowerCase)?void 0:s.call(o))?e.from_amount*(l?Number(a?e.from_price_usd:e.from_price_eth):1):"to_address"in e&&e.to_address&&(null==(r=(i=fe.value).toLowerCase)?void 0:r.call(i))===(null==(d=(u=e.to_address).toLowerCase)?void 0:d.call(u))?e.to_amount*(l?Number(a?e.to_price_usd:e.to_price_eth):1):0:0}function Ke(e){const l={"true-true":"rgba(18, 184, 134, 0.10)","true-false":"rgba(246, 70, 93, 0.10)","false-false":"rgba(18, 184, 134, 0.10)","false-true":"rgba(246, 70, 93, 0.10)"};return l[`${a.isDark}-${qe(e)}`]||l["true-true"]}function Xe(e){const l=Qe(e,!0,!0);return(Math.min(l/("solana"===Ae.value.chain?10:20),100)/100).toFixed(3)}function Ze(e,l){if(isNaN(e)||0===e)return"0.00";const a=e.toFixed(l).replace(/\.?0+$/,"");return l>0&&!a.includes(".")?a+".00":a}const Je=P(window.innerWidth),el=()=>{Je.value=window.innerWidth};function ll(e,l=!1){var a,t,n,o,s,i;const r=fe.value||Ae.value.address;return r&&e?"direction"in e&&"target"in e?Number(l?e.price_u||e.target_price_u:e.price_m||e.target_price_m)||0:e.from_address&&(null==(a=r.toLowerCase)?void 0:a.call(r))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t))?Number(l?e.from_price_usd:e.from_price_eth)||0:e.to_address&&(null==(o=r.toLowerCase)?void 0:o.call(r))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s))&&Number(l?e.to_price_usd:e.to_price_eth)||0:0}function al(e,l){if(function(e){X.value=e,ce.value={},re.value.length=0,de.value.tag_type=e}(e),Fe(),Q.value){const e=Q.value,a=e.children[l];if(a){const l=e.clientWidth,t=a.getBoundingClientRect(),n=e.getBoundingClientRect(),o=t.left-n.left+e.scrollLeft+t.width/2-l/2,s=e.scrollWidth-l,i=Math.max(0,Math.min(o,s));e.scrollTo({left:i,behavior:"smooth"})}}}function tl(){if(Ve.value)de.value.markerAddress="",ge.value.markerAddress="";else{const e=R.getWalletAddress(Ae.value.chain);de.value.markerAddress=e,ge.value.markerAddress=e}re.value.length=0,Fe()}function nl(){}function ol(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"buy"===e.direction&&new Ce(e.maker_bal).eq(e.target_amt):!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===(null==e?void 0:e.type)))&&((null==(n=(t=Ae.value.address).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasNewAccount:null==(u=e.senderProfile)?void 0:u.token1HasNewAccount)}function sl(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"sell"===e.direction&&new Ce(e.maker_bal).eq(0):!qe(e)&&!(null==(a=null==(l=e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===(null==e?void 0:e.type)))&&((null==(n=(t=Ae.value.address).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasClearedAccount:null==(u=e.senderProfile)?void 0:u.token1HasClearedAccount)}function il(e){var l,a,t;return"maker_eth"in e?Number(e.maker_eth||0)>=50:!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===e.type))&&Number(null==(t=e.senderProfile)?void 0:t.solTotalHolding)>50}i(()=>{o.modelValue&&B.value&&(Fe(),Ue()),window.addEventListener("resize",el)});let rl=null,ul=null;se(()=>{var e;null==rl||rl(),null==ul||ul(),rl=null,ul=null,null==(e=j.getWSInstance())||e.offMessage("tx_history"),B.value&&He(),window.removeEventListener("resize",el)}),rl=r(()=>j.wsResult[bl.TX],e=>{if(!e||ae.value.loadingTxs)return;const{wallet_address:l,from_address:a,to_address:t}=e.tx;if(a!==fe.value&&t!==fe.value)return;const{timestamp:n,markerAddress:o}=de.value,[s,i]=n||[];if(s&&e.tx.time<Number(s))return;if(i&&e.tx.time>Number(i))return;if(o&&l!==o)return;if(re.value.find(a=>"transaction"in a&&a.transaction===e.tx.transaction&&a.wallet_address===l))return;ce.value[l]=(ce.value[l]||0)+1;const{topN:r,wallet_tag:u}=ze(e.tx),d={...e.tx,topN:r,wallet_tag:u,senderProfile:JSON.parse(e.tx.profile||"{}"),count:ce.value[l],time:Math.min(Math.floor(Date.now()/1e3),e.tx.time),uuid:Gt()};re.value.unshift(d),J.value||dl()}),ul=r(()=>j.wsResult[bl.SIMPLE_TX],e=>{if(!e||ae.value.loadingTxs)return;const l=e.msg,{maker:a,target:t}=l;if(t!==fe.value)return;const{timestamp:n,markerAddress:o}=de.value,[s,i]=n||[];if(s&&l.time<Number(s))return;if(i&&l.time>Number(i))return;if(o&&a!==o)return;ce.value[a]=(ce.value[a]||0)+1;const{topN:r,wallet_tag:u}=ze(e.msg),d={...l,topN:r,wallet_tag:u,count:ce.value[a],time:Math.min(Math.floor(Date.now()/1e3),l.time),uuid:Gt(),wallet_address:a,transaction:l.txhash,senderProfile:{solTotalHolding:l.maker_eth}};re.value.unshift(d),J.value||dl()});const dl=Wt(()=>{var e;if(0===re.value.length)return;const l=re.value.filter(e=>!oe.value.some(l=>"transaction"in l&&"transaction"in e&&l.transaction===e.transaction&&l.wallet_address===e.wallet_address));l.length>0&&(oe.value.unshift(...l),oe.value.length>1500&&(oe.value=oe.value.slice(0,1500),ae.value.page_token=(null==(e=oe.value[oe.value.length-1])?void 0:e.page_token)||"")),re.value.length=0,xt(oe)},500);function cl(){Object.keys(ge.value).forEach(e=>{de.value[e]=ge.value[e]}),ge.value.markerAddress||(X.value="all",de.value.tag_type="all"),Fe(),he.value=!1}function vl(){ge.value={...xe},cl()}return(l,a)=>{var n,o;const s=b,i=Pn,r=ke,u=Pt,d=my,T=_e,S=De,V=c("tooltip"),B=be;return e.modelValue?(f(),_("div",{key:0,class:"bg-[--d-0B0D12-l-F6F9FF] relative rounded-2px text-14px pt-12px flex flex-col overflow-hidden",style:A({height:`${e.klineHeight||200}px`})},[x("div",MC,[x("div",{ref_key:"tabsContainer",ref:Q,class:"flex-1 flex items-center gap-x-8px whitespace-nowrap overflow-x-auto scrollbar-hide"},[(f(!0),_(y,null,w(we.value,(e,l)=>(f(),_("button",{key:e.value,style:A({backgroundColor:X.value===e.value?"rgba(63, 128, 247, 0.10)":"var(--d-16181D-l-ECF3FF)"}),class:I(["shrink-0 text-12px px-8px py-4px rounded-4px border-none cursor-pointer",X.value===e.value?"color-[--primary-color]":"bg-[--d-16181D-l-ECF3FF] color-[--d-5A5E64-l-A9B0BC]"]),onClick:a=>al(e.value,l)},k(e.label),15,DC))),128))],512),x("div",EC,[(null==(o=null==(n=p(R))?void 0:n.userInfo)?void 0:o.name)?(f(),_("button",{key:0,class:I(["me-btn shrink-0 flex items-center gap-4px sticky right-0 cursor-pointer",{active:Ve.value}]),onClick:tl},[C(s,{name:"i-tdesign:user-filled",class:"text-md"}),x("span",null,k(p($)("me")),1)],2)):m("",!0),g((f(),_("span",{class:I(["flex items-center justify-center w-12px h-12px rounded-2px color-[--reverse-color] text-10px cursor-pointer",p(E).isClickKlineFilter?"bg-[--primary-color]":"bg-[--third-text] hover:bg-[--secondary-text]"]),onClick:a[0]||(a[0]=e=>p(E).isClickKlineFilter=!p(E).isClickKlineFilter)},[C(s,{name:"custom:chart"})],2)),[[V,l.$t(p(E).isClickKlineFilter?"clickChartHideFilter":"clickChartFilter")]]),C(s,{name:"custom:filter",class:I(["text-12px cursor-pointer",Te.value?"color-[--primary-color]":"color-[--third-text] hover:color-[--secondary-text]"]),onClick:a[1]||(a[1]=F(e=>he.value=!0,["self"]))},null,8,["class"])])]),x("div",PC,[de.value.timestamp.length?(f(),v(Cw,{key:0,timestamp:de.value.timestamp,"onUpdate:timestamp":[a[2]||(a[2]=e=>de.value.timestamp=e),Fe]},null,8,["timestamp"])):m("",!0),g((f(),_("div",UC,[x("div",RC,[x("div",HC,[x("div",OC,[x("span",{onClick:a[3]||(a[3]=e=>$e({asc:"",desc:"asc","":"desc"}[Se.value]||""))},k(p($)("time")),1),C(i,{defaultSort:Se.value,onSortChange:$e},null,8,["defaultSort"])]),x("div",jC,[x("div",zC,[x("span",null,k(p($)("amountU").slice(0,3)),1),C(r,{class:"p-0 px-2px border-none hover:bg-[transparent] h-auto",onClick:a[4]||(a[4]=e=>p(E).isUSDT=!p(E).isUSDT)},{default:h(()=>[p(E).isUSDT?(f(),_("svg",WC,[...a[15]||(a[15]=[x("path",{d:"M5 0C2.23884 0 0 2.23884 0 5C0 7.76116 2.23884 10 5 10C7.76116 10 10 7.76116 10 5C10 2.23884 7.76116 0 5 0ZM5.24889 7.42411L5.25112 7.7779C5.25112 7.82701 5.21094 7.8683 5.16183 7.8683H4.84486C4.79576 7.8683 4.75558 7.82812 4.75558 7.77902V7.42857C3.76451 7.35491 3.29799 6.79017 3.24777 6.17634C3.24331 6.12388 3.2846 6.07924 3.33706 6.07924H3.85268C3.89621 6.07924 3.93415 6.11049 3.94085 6.1529C3.99777 6.5067 4.27344 6.7712 4.76785 6.83705V5.24442L4.49219 5.17411C3.90848 5.0346 3.35268 4.67076 3.35268 3.9163C3.35268 3.10268 3.97098 2.66518 4.76116 2.58817V2.21986C4.76116 2.17076 4.80134 2.13058 4.85045 2.13058H5.16406C5.21317 2.13058 5.25334 2.17076 5.25334 2.21986V2.58482C6.01786 2.66183 6.59152 3.10826 6.65848 3.80357C6.66406 3.85603 6.62276 3.90179 6.56919 3.90179H6.06808C6.02343 3.90179 5.98549 3.8683 5.97991 3.82478C5.93527 3.49888 5.67411 3.23326 5.24889 3.17522V4.6741L5.53237 4.73996C6.25558 4.91852 6.74777 5.26451 6.74777 6.03907C6.74777 6.87947 6.12277 7.34822 5.24889 7.42411ZM4.04688 3.86496C4.04688 4.14843 4.2221 4.36831 4.59933 4.50446C4.65179 4.52567 4.70424 4.54241 4.76674 4.56026V3.17634C4.35491 3.2288 4.04688 3.45982 4.04688 3.86496ZM5.34709 5.37388C5.31585 5.36718 5.2846 5.35938 5.24889 5.34933V6.84152C5.72433 6.79911 6.05246 6.53795 6.05246 6.10044C6.05246 5.75782 5.875 5.53459 5.34709 5.37388Z",fill:"currentColor"},null,-1)])])):(f(),_("svg",qC,[...a[16]||(a[16]=[x("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 0C7.757 0 10 2.243 10 5C10 7.757 7.757 10 5 10C2.243 10 0 7.757 0 5C0 2.243 2.243 0 5 0ZM5.1 3C4.78 3 4.484 3.114 4.256 3.342L3.342 4.256C3.114 4.484 3 4.78 3 5.1C2.9953 5.41628 3.11864 5.72103 3.342 5.945L4.256 6.858C4.484 7.087 4.78 7.2 5.1 7.2C5.41434 7.19485 5.71531 7.07268 5.945 6.858L6.858 5.945C7.087 5.717 7.201 5.42 7.201 5.1C7.201 4.781 7.087 4.484 6.858 4.256L5.945 3.342C5.717 3.114 5.42 3 5.1 3ZM5.1 3.64C5.23799 3.64449 5.369 3.70176 5.466 3.8L6.379 4.712C6.48602 4.80272 6.54509 4.93783 6.539 5.078C6.53426 5.21564 6.477 5.34624 6.379 5.443L5.465 6.356C5.26 6.539 4.918 6.539 4.735 6.356L3.822 5.443C3.708 5.352 3.662 5.215 3.662 5.078C3.66649 4.94001 3.72376 4.80901 3.822 4.712L4.735 3.8C4.82551 3.69326 4.96018 3.63423 5.1 3.64Z",fill:"currentColor"},null,-1)])]))]),_:1})])])]),x("div",GC,[x("div",YC,[N(k(pe.value.isAmount?p($)("swapPrice"):p($)("MC"))+" ",1),C(r,{class:"p-0 px-2px border-none hover:bg-[transparent] h-auto",onClick:a[5]||(a[5]=e=>pe.value.isAmount=!pe.value.isAmount)},{default:h(()=>[pe.value.isAmount?(f(),_("svg",QC,[...a[17]||(a[17]=[x("path",{d:"M5 0C2.23884 0 0 2.23884 0 5C0 7.76116 2.23884 10 5 10C7.76116 10 10 7.76116 10 5C10 2.23884 7.76116 0 5 0ZM5.24889 7.42411L5.25112 7.7779C5.25112 7.82701 5.21094 7.8683 5.16183 7.8683H4.84486C4.79576 7.8683 4.75558 7.82812 4.75558 7.77902V7.42857C3.76451 7.35491 3.29799 6.79017 3.24777 6.17634C3.24331 6.12388 3.2846 6.07924 3.33706 6.07924H3.85268C3.89621 6.07924 3.93415 6.11049 3.94085 6.1529C3.99777 6.5067 4.27344 6.7712 4.76785 6.83705V5.24442L4.49219 5.17411C3.90848 5.0346 3.35268 4.67076 3.35268 3.9163C3.35268 3.10268 3.97098 2.66518 4.76116 2.58817V2.21986C4.76116 2.17076 4.80134 2.13058 4.85045 2.13058H5.16406C5.21317 2.13058 5.25334 2.17076 5.25334 2.21986V2.58482C6.01786 2.66183 6.59152 3.10826 6.65848 3.80357C6.66406 3.85603 6.62276 3.90179 6.56919 3.90179H6.06808C6.02343 3.90179 5.98549 3.8683 5.97991 3.82478C5.93527 3.49888 5.67411 3.23326 5.24889 3.17522V4.6741L5.53237 4.73996C6.25558 4.91852 6.74777 5.26451 6.74777 6.03907C6.74777 6.87947 6.12277 7.34822 5.24889 7.42411ZM4.04688 3.86496C4.04688 4.14843 4.2221 4.36831 4.59933 4.50446C4.65179 4.52567 4.70424 4.54241 4.76674 4.56026V3.17634C4.35491 3.2288 4.04688 3.45982 4.04688 3.86496ZM5.34709 5.37388C5.31585 5.36718 5.2846 5.35938 5.24889 5.34933V6.84152C5.72433 6.79911 6.05246 6.53795 6.05246 6.10044C6.05246 5.75782 5.875 5.53459 5.34709 5.37388Z",fill:"currentColor"},null,-1)])])):(f(),_("svg",KC,[...a[18]||(a[18]=[x("path",{d:"M9.02589 2.99465C9.33125 3.60428 9.5 4.2861 9.5 5.00802C9.5 7.48663 7.48304 9.5 5 9.5C2.51696 9.5 0.5 7.48663 0.5 5.00802C0.5 2.52941 2.50893 0.516043 5 0.516043V5.31283L9.02589 2.99465ZM5.64286 0.5V4.14171L8.69643 2.38503C7.99732 1.39037 6.90446 0.684492 5.64286 0.5Z",fill:"currentColor"},null,-1)])]))]),_:1})]),x("div",XC,k(p($)("makers")),1)])]),Me.value.length>0?(f(),v(p(po),{key:e.klineHeight,list:Me.value,options:{itemHeight:24},style:{"margin-right":"-12px","padding-right":"12px"},class:"scrollbar-hide",height:(e.klineHeight??200)-75+"px",ref_key:"scroller",ref:te},{default:h(({data:e,index:n})=>{var o,i;return[x("div",{class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px h-24px hover:bg-[rgba(255,255,255,.02)] relative z-10 overflow-hidden cursor-pointer mt-1px first:mt-0",onMouseenter:a[6]||(a[6]=e=>Z.value=!0),onMouseleave:a[7]||(a[7]=e=>Z.value=!1),onClick:l=>function({rowData:e}){if(D.value)if(Xt.includes(D.value.chain)){const{symbol:l,logo_url:a,chain:t,token:n}=D.value,{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:r,pair:u}=M.value;Y.$patch({drawerVisible:!0,tokenInfo:{id:L.params.id,symbol:l,logo_url:a,chain:t,address:n,remark:e.remark},pairInfo:{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:r,pairAddress:u},user_address:e.wallet_address})}else window.open(K(D.value.chain,e.transaction,"tx"))}({rowData:e})},[x("div",JC,[x("div",{class:"absolute inset-0 pointer-events-none",style:A({backgroundColor:Ke(e),transform:`scaleX(${Xe(e)})`,transformOrigin:"right"})},null,4),x("div",eA,[x("div",lA,[e.time&&Number(p(ye)(e.time,!0))<60?(f(),v(u,{key:`${e.time}${n}`,timestamp:e.time,"end-time":60},{default:h(({seconds:l})=>[x("span",aA,[l<60?(f(),_(y,{key:0},[N(k(l)+"s ",1)],64)):(f(),_(y,{key:1},[N(k(p(ye)(e.time)),1)],64))])]),_:2},1032,["timestamp"])):(f(),_("span",tA,k(p(ye)(e.time)),1))])]),x("div",nA,[x("div",{class:I([Ge(e),"font-medium truncate"])},[p(E).isUSDT?(f(),_("span",oA," $"+k(Ze(Qe(e,!0,!0),2)),1)):(f(),_("span",sA,[N(" $"+k(Ze(Qe(e,!0,!1),3))+" ",1),x("span",iA,k(null==(o=p(We)(e.chain))?void 0:o.main_name),1)]))],2)])]),x("div",rA,[x("div",uA,[x("div",dA,[pe.value.isAmount?(f(),_("span",cA," $"+k(("formatNumber"in l?l.formatNumber:p(G))(ll(e,!0),{decimals:3})),1)):(f(),_("span",vA," $"+k(("formatNumber"in l?l.formatNumber:p(G))(Ye(e),{decimals:2})),1))])]),x("div",mA,[x("div",pA,[Je.value>=480&&["solana","bsc"].includes(e.chain)&&e.senderProfile?(f(),_(y,{key:0},[ol(e)&&!(e.newTags||[]).map(e=>e.type).includes("47")?g((f(),v(s,{key:0,name:"custom:new-account",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[V,{content:`<span style='color: #85E12F'>${l.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):m("",!0),sl(e)&&!(e.newTags||[]).map(e=>e.type).includes("46")?g((f(),v(s,{key:1,name:"custom:cleared-account",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[V,{content:`<span style='color: #EB2B4B'>${l.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):m("",!0),il(e)?g((f(),v(s,{key:2,name:"custom:big",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[V,{content:`<span style='color: #ccc'>${l.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):m("",!0)],64)):m("",!0),Je.value>=480?(f(),v(d,{key:1,tagClass:"mr-3px",tags:(e.newTags||[]).map(e=>p(q).matchTag(e.type)||e),walletAddress:e.wallet_address,chain:e.chain},null,8,["tags","walletAddress","chain"])):m("",!0),C(Mt,{remark:e.remark,address:e.wallet_address,"show-address":!((null==(i=null==e?void 0:e.newTags)?void 0:i.length)>1),chain:e.chain,wallet_logo:e.wallet_logo,addressClass:"inline-block truncate max-w-full "+(le.value&&me.value.wallet_address===e.wallet_address?"bg-#12B88633":""),"format-address":e=>Je.value<480?null==e?void 0:e.slice(-3):"*"+(null==e?void 0:e.slice(-4)),class:"color-[--secondary-text] truncate min-w-0 !text-12px",mouseoverAddress:l=>function(e,l){var a;if(e&&t.includes(e.chain)){if(ve.value=l.currentTarget,(null==(a=me.value)?void 0:a.wallet_address)===e.wallet_address)return;me.value=e}}(e,l),canEdit:!1,onUpdateRemark:nl},null,8,["remark","address","show-address","chain","wallet_logo","addressClass","format-address","mouseoverAddress"]),e.count&&e.count>1?(f(),_("div",fA," ("+k(e.count)+") ",1)):m("",!0)])])])],40,ZC),x("div",{ref_key:"sentinel",ref:ne,style:{height:"1px"}},null,512)]}),_:1},8,["list","height"])):m("",!0),0!==Me.value.length||ae.value.loadingTxs?m("",!0):(f(),_("div",{key:1,class:"h-full flex flex-col items-center justify-center",style:A({height:(e.klineHeight??200)-105+"px"})},[...a[19]||(a[19]=[x("img",{src:ee,alt:""},null,-1)])],4))])),[[B,Ie.value]])]),x("div",hA,[g(x("div",xA,[C(s,{name:"custom:stop",class:"text-14px"}),x("span",gA,k(p($)("paused")),1)],512),[[ie,J.value]])]),C(fw,{modelValue:le.value,"onUpdate:modelValue":a[8]||(a[8]=e=>le.value=e),"virtual-ref":ve.value,currentRow:me.value,addressAndChain:Ae.value},{default:h(()=>[me.value.senderProfile?(f(),_(y,{key:0},[ol(me.value)&&!(me.value.newTags||[]).map(e=>e.type).includes("47")?g((f(),v(s,{key:0,name:"custom:new-account",class:"icon-hover"},null,512)),[[V,{content:`<span style='color: #85E12F'>${l.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):m("",!0),sl(me.value)&&!(me.value.newTags||[]).map(e=>e.type).includes("46")?g((f(),v(s,{key:1,name:"custom:cleared-account",class:"icon-hover"},null,512)),[[V,{content:`<span style='color: #EB2B4B'>${l.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):m("",!0),il(me.value)?g((f(),v(s,{key:2,name:"custom:big",class:"icon-hover"},null,512)),[[V,{content:`<span style='color: #C5842B'>${l.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):m("",!0)],64)):m("",!0),C(d,{tagClass:"mr-3px",tags:me.value.newTags,walletAddress:me.value.wallet_address,chain:me.value.chain},null,8,["tags","walletAddress","chain"])]),_:1},8,["modelValue","virtual-ref","currentRow","addressAndChain"]),he.value?(f(),v(S,{key:0,modelValue:he.value,"onUpdate:modelValue":a[14]||(a[14]=e=>he.value=e),width:440,title:l.$t("markerAddressFilter"),"destroy-on-close":""},{default:h(()=>[a[22]||(a[22]=x("div",{class:"mx--16px h-1px bg-[--border] mb-20px"},null,-1)),x("div",kA,[x("label",bA,k(l.$t("markerAddress")),1)]),C(T,{id:"markerAddress",modelValue:ge.value.markerAddress,"onUpdate:modelValue":a[9]||(a[9]=e=>ge.value.markerAddress=e),clearable:"",class:"text-12px",placeholder:l.$t("markerAddress")},null,8,["modelValue","placeholder"]),x("div",_A,[x("label",null,k(l.$t("filter")),1)]),x("div",yA,[C(T,{modelValue:ge.value.minVol,"onUpdate:modelValue":a[10]||(a[10]=e=>ge.value.minVol=e),modelModifiers:{trim:!0,number:!0},clearable:"",type:"text",class:"text-12px",placeholder:l.$t("filterSmallAmount"),style:{"--el-input-border-color":"var(--border)"},onInput:a[11]||(a[11]=e=>ge.value.minVol=e.replace(/\-|[^\d.]/g,""))},{suffix:h(()=>[...a[20]||(a[20]=[N("$",-1)])]),_:1},8,["modelValue","placeholder"]),C(T,{modelValue:ge.value.maxVol,"onUpdate:modelValue":a[12]||(a[12]=e=>ge.value.maxVol=e),modelModifiers:{trim:!0,number:!0},clearable:"",type:"text",class:"text-12px",placeholder:l.$t("filterLargeAmount"),style:{"--el-input-border-color":"var(--border)"},onInput:a[13]||(a[13]=e=>ge.value.maxVol=e.replace(/\-|[^\d.]/g,""))},{suffix:h(()=>[...a[21]||(a[21]=[N("$",-1)])]),_:1},8,["modelValue","placeholder"])]),x("div",wA,[C(r,{class:"h-30px flex-1 m-l-auto",onClick:vl},{default:h(()=>[N(k(l.$t("reset")),1)]),_:1}),C(r,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:cl},{default:h(()=>[N(k(l.$t("confirm")),1)]),_:1})])]),_:1},8,["modelValue","title"])):m("",!0)],4)):m("",!0)}}}),[["__scopeId","data-v-cec5403b"]]),CA={class:"flex bg-[--main-divider] gap-1px flex min-w-0 w-full",style:{"min-height":"calc(100vh - 92px)"}},AA={class:"flex-1 min-w-0"},SA={class:"flex gap-1px"},NA={class:"hide-scrollbar"},$A={class:"flex-1 hide-scrollbar min-w-0 relative"},FA=B(t({__name:"[[id]]",setup(l){const a=o(),t=j(),n=Pe(),c=Aw(),v=H(),k=u(()=>v.isShowWaring?"calc(100vh - 198px)":"calc(100vh - 158px)"),T=U(),S=O(),N=u(()=>{var e;const l=null==(e=S.userInfo)?void 0:e.addresses;return Array.isArray(l)?Array.from(new Set(l.map(e=>e.address))):[]}),$=Re(),V=yt("orderBookVisible",!1);cn("orderBookVisible",V);const B=P([]);cn(jt.KLINE_DATE_FILTER,B);const M=yt("kHeight",St.KLINE),D=yt("orderBookWidth",300),E=d({summary:"",headline:""});let R=!1;const z=u(()=>S.evmAddress||t.address);function W(e){e.preventDefault();let l=e.clientX;R=!0;let a=document.getElementById("tv_chart_container");a&&(a.style.pointerEvents="none");const t=document.body.style.cursor,n=document.body.style.userSelect;document.body.style.cursor="col-resize",document.body.style.userSelect="none";let o=!1,s=l;const i=e=>{R&&(s=e.clientX,o||(o=!0,requestAnimationFrame(()=>{const e=s,a=l-e,t=D.value+a;D.value=Math.min(400,Math.max(300,t)),l=e,o=!1})))},r=()=>{R=!1,window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",r),a&&(a.style.pointerEvents="auto"),a=null,document.body.style.cursor=t,document.body.style.userSelect=n};return window.addEventListener("mousemove",i),window.addEventListener("mouseup",r,{once:!0}),!1}function q(){const e=Array.isArray(a.params.id)?a.params.id[0]:a.params.id;dn(e).then(e=>{E.value=e??{summary:"",headline:""}}).catch(e=>{}).finally(()=>{})}i(()=>{q()}),r([()=>a.params.id,()=>n.locale],()=>{q()}),cn("aiSummary",E);const G=d(!0);function Y(){$t().reset();const{address:e,chain:l}=s(a.params.id);$.send({jsonrpc:"2.0",method:"unsubscribe",params:[bl.PUBLIC_PORTRAIT],id:1}),$.send({jsonrpc:"2.0",method:"subscribe",params:[bl.PUBLIC_PORTRAIT,e,l],id:1})}function Q(){v.tokenPrice=0,function(){const e=a.params.id;v.loadingToken=!0,zl(e).then(e=>{var l;v.tokenInfo=e,v.pairAddress=(null==(l=null==e?void 0:e.pairs)?void 0:l[0].pair)||""}).finally(()=>{v.loadingToken=!1})}(),function(){const e=a.params.id;Wl(e).then(e=>{v.tokenInfoExtra=e})}(),v._getTotalHolders(a.params.id),c.getTagArr(),v.twitterType=0,v.getXType(a.params.id),In().getContractCheckResult(a.params.id,z.value)}function K(){G.value=!document.hidden||"visible"===document.visibilityState}function X(){Q()}cn("documentVisible",G),r(()=>N.value,()=>{var e;(null==(e=N.value)?void 0:e.length)&&S.subBalanceChange()},{immediate:!0}),r(()=>a.params.id,()=>{Q(),Y()}),rn(()=>{Q(),Y(),document.addEventListener("visibilitychange",K)}),se(()=>{var e,l,a;null==(e=null==v?void 0:v.reset)||e.call(v),null==(l=$.clearTokenRelatedResult)||l.call($),null==(a=$.getWSInstance())||a.offMessage(["tx_update_token","kline","price"]),$.send({jsonrpc:"2.0",method:"unsubscribe",params:["asset"],id:1}),$.send({jsonrpc:"2.0",method:"unsubscribe",params:[bl.PUBLIC_PORTRAIT],id:1}),document.removeEventListener("visibilitychange",K)}),un(()=>{var e;null==(e=$.getWSInstance())||e.offMessage(["tx_update_token","kline","price"]),document.removeEventListener("visibilitychange",K)});const Z=Sl("klineContainer"),J=({scrollTop:e})=>{var l,a;null==(a=null==(l=Z.value)?void 0:l.setScrollTop)||a.call(l,e)};return(l,a)=>{const t=e,n=b;return f(),_("div",CA,[x("div",AA,[C(ev),x("div",SA,[x("div",NA,[C(t,{height:p(k)},{default:h(()=>[C(p(sy),{class:"w-292px flex flex-col flex-shrink-0"})]),_:1},8,["height"])]),x("div",$A,[g(x("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-2 cursor-pointer flex items-center justify-center left--11px hover:w-30px hover:left--31px hover:h-36px transition-all rounded-tl-4px rounded-bl-4px color-[--third-text] hover:color-[--main-text]",onClick:a[0]||(a[0]=e=>p(T).$patch({showLeft:!1}))},[C(n,{name:"material-symbols:arrow-back-ios-new-rounded",class:"text-12px"})],512),[[ie,p(T).showLeft]]),g(x("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-2 cursor-pointer flex items-center justify-center left-0 hover:w-30px hover:h-36px transition-all rounded-tr-4px rounded-br-4px color-[--third-text] hover:color-[--main-text]",onClick:a[1]||(a[1]=e=>p(T).$patch({showLeft:!0}))},[C(n,{name:"material-symbols:arrow-forward-ios",class:"text-12px"})],512),[[ie,!p(T).showLeft]]),g(x("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-1 cursor-pointer flex items-center justify-center top-0px right-0 hover:w-30px hover:h-36px transition-all rounded-tr-4px rounded-br-4px color-[--third-text] hover:color-[--main-text]",onClick:a[2]||(a[2]=e=>p(T).$patch({showRight:!0}))},[C(n,{name:"material-symbols:arrow-back-ios-new-rounded",class:"text-12px"})],512),[[ie,!p(T).showRight]]),C(t,{height:p(k),onScroll:J},{default:h(()=>[x("div",{class:I(p(V)?"grid gap-1px":"grid grid-cols-1 gap-1px"),style:A(p(V)?{gridTemplateColumns:`1fr 4px ${p(D)}px`}:{})},[x("div",null,[C(Un,{ref:"klineContainer",onRefresh:X},null,512)]),p(V)?(f(),_("div",{key:0,class:"cursor-col-resize bg-[--d-222-l-F2F2F2] hover:bg-[--d-666-l-CCC] flex flex-col items-center justify-center gap-1px w-4px",onMousedown:F(W,["stop","prevent"])},[(f(),_(y,null,w(4,e=>x("span",{key:e,class:"bg-[--d-444-l-999] w-2px h-2px rounded-full"})),64))],32)):m("",!0),C(p(TA),{modelValue:p(V),"onUpdate:modelValue":a[3]||(a[3]=e=>L(V)?V.value=e:null),"kline-height":p(M)+3},null,8,["modelValue","kline-height"])],6),C(p(BC),{class:"min-h-300px rounded-4px bg-[--d-000-l-F6F6F6]"})]),_:1},8,["height"])])])]),C(l_,{class:"w-334px flex-shrink-0"})])}}}),[["__scopeId","data-v-050e2b63"]]),IA=Object.freeze(Object.defineProperty({__proto__:null,default:FA},Symbol.toStringTag,{value:"Module"}));export{ZT as S,my as _,jm as a,IA as b,Op as u};
