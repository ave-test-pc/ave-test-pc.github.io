const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BvbcK_sL.js","./C8zCCogY.js","./entry.ZJtcXcXk.css","./7sOixxdk.js","./BV-zpxQJ.js","./BMCWR8qn.js","./draggable.inVfEAcm.css","./g7vU-j5M.js","./B6Y1KpwL.js","./radio-group.BLfk2hwF.css","./pAvqTbq1.js","./scrollbar.wwf0UyhQ.css","./DUtGqHLY.js","./3zf6s2PU.js","./2xvRo4QC.js","./dropdown.BebM7Wof.css","./C2jnsTLj.js","./C535m_7q.js","./jvqJ-lss.js","./input-number.HwP0nlBD.css","./-d3z4qYr.js","./switch.BHcx86ck.css","./DHI12vUc.js","./Dwz_iTym.js","./tag.D5zYjl71.css","./Ch2kKm0h.js","./select.bnIT0Jy1.css","./slippageSet.10-w620G.css","./D9w_6Z7_.js","./remind.B6TrAqUJ.css","./BcLlRL1h.js","./BUe6lFiz.js","./DT8qK_3J.js","./CWfe8Pzr.js","./D8kwlDkA.js","./D-MmK6ns.js","./CiE6GnGM.js","./netSelect.B1TCqw__.css","./C-cIFx6x.js","./table.Cdl6t-Uy.css","./Cuadv0W5.js","./pagination.Cu-ALQWS.css","./ffubJHUH.js","./jps9OSah.js","./perp.BdekvRhu.css","./cA_dvyYK.js","./DNd1VKJp.js","./BWc5ynOe.js","./WWWZ5U8g.js","./Bzhi185P.js","./TbcHext3.js","./slider.LN1DrOuY.css","./CW8dp4Yv.js","./B94BTbhq.js","./proPopover.BtSs7_qu.css","./CGiTXMzY.js","./index.QyGACf_n.css","./P5kewj-g.js","./default.CZhqFZg1.css","./radio-button.BKANFUc1.css","./CiUNROgy.js","./B0fK3gbi.js","./trackerPop.sGBctdvJ.css"])))=>i.map(i=>d[i]);
import{ah as e,_ as t,aw as a,dh as l,cD as i,av as n,bi as o,D as s,F as r,a7 as u,H as c,o as d,w as p,a as v,M as h,c as m,a5 as f,a6 as g,J as x,E as w,K as b,t as _,b as y,S as k,aP as C,oR as W,aa as H,T as $,d as R,L as F,bP as S,aL as V,aM as j,aU as D,aT as T,aJ as A,ff as E,de as z,bY as I,aN as O,a3 as U,bh as q,aS as L,cS as M,at as N,G as P,az as B,P as J,a4 as G,cQ as K,I as Q,a0 as Y}from"./C8zCCogY.js";import{_ as X}from"./BMCWR8qn.js";import{a as Z,E as ee}from"./C-cIFx6x.js";import"./Dwz_iTym.js";import"./pAvqTbq1.js";import{u as te,a as ae}from"./BV-zpxQJ.js";import{u as le}from"./CiUNROgy.js";function ie(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/homepage",{method:"get",query:t})}function ne(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/follow",{method:"post",body:{author_id:t}})}function oe(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/unfollow",{method:"post",body:{author_id:t}})}function se(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/follow/ids",{method:"get"})}function re(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/profile",{method:"get",query:{author_id:t}})}function ue(t,a){const{$api:l}=e();return l("/v2api/twitter/v1/kol/profile/tweets",{method:"get",query:{author_id:t,page_token:a}})}const ce={class:"px-20px pb-10px"},de={class:"flex gap-16px mb-20px"},pe=["onClick"],ve={class:"flex items-center gap-12px mb-20px"},he={class:"flex items-center gap-4px"},me={key:0,class:"flex flex-col items-center pt-60px"},fe={class:"color-[--third-text] text-12px mb-20px mt-4px lh-12px"},ge={class:"text-[--third-text] text-12px"},xe={class:"flex items-center gap-12px"},we=["onClick"],be={class:"flex items-center gap-8px"},_e={class:"color-[--main-text] text-14px lh-20px truncate max-w-140px"},ye={key:0,class:"w-14px h-14px bg-#000 rounded-full"},ke=["src"],Ce={class:"text-12px color-[--secondary-text] lh-14px"},We={class:"underline underline-dotted"},He={class:"text-[--main-text]"},$e={class:"flex justify-end items-center gap-4px text-12px"},Re={class:"flex items-center"},Fe={class:"text-[--main-text]"},Se=t({__name:"drawer",props:{visible:{type:Boolean},visibleModifiers:{}},emits:["update:visible"],setup(t){const{t:U}=a(),q=l(t,"visible"),L=te(),M=i(),N=r([]),P=r({}),B=r(!1),J=r(!1),G=r(!1),K=n(),Q=r([]),Y=r({keyword:"",cursor:"",tags:""}),X=r(!1),ae=r(!1),le=r([]),ie=r(1),se=o("twFollowIds",[]),re=1,ue=2,Se=w(()=>[{label:U("hotSub"),value:re},{label:U("mySub"),value:ue}]),Ve=w(()=>ie.value===ue);function je(e){Q.value=e?N.value.map(e=>e.tag):[],G.value=!1}function De(e){const t=e.length;J.value=t===N.value.length,G.value=t>0&&t<N.value.length}const Te=()=>{Y.value.page_token="",X.value=!1,ae.value=!1,le.value=[]},Ae=()=>{B.value=!1,Y.value.tags=Q.value.toString(),Te(),ze()},Ee=W(()=>{Te(),ze()},300),ze=async()=>{X.value=!0;try{let t=null;if(t=ie.value===re?await function(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/hot",{method:"get",query:t})}(Y.value):await function(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/follow/list",{method:"get",query:t})}(Y.value),t){Y.value.page_token=t.page_token||"";const e=t.authors||[];ae.value=!t.page_token,Y.value.page_token||ae.value?le.value=[...le.value,...e]:le.value=e,!ae.value&&le.value.length<40&&ze()}}catch(t){}finally{X.value=!1}};ze(),s(()=>q.value,e=>{e&&(Y.value.keyword="",ie.value=re,Te(),ze())});const Ie=(e,t)=>{L.list.forEach(a=>{a.author.author_id===e&&(a.author.follow_status=t)})},Oe=async()=>{try{const t=await function(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/config",{method:"get",query:{}})}();N.value=(null==t?void 0:t.tag_configs)||[],P.value=((null==t?void 0:t.tag_configs)||[]).reduce((e,t)=>(e[t.tag]=t.name,e),{})}catch(t){}};s(()=>M.locale,Oe),Oe();const Ue=(e=[])=>e.map(e=>P.value[e]).join(","),qe=()=>{I.confirm(U("deleteAllTips"),U("deleteAll"),{confirmButtonText:U("confirm"),cancelButtonText:U("cancel"),type:"warning"}).then(async()=>{await function(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/unfollow/all",{method:"post",body:{}})}(),O.success(U("success")),le.value=[],se.value=[]})},Le=()=>{ie.value=re,Te(),ze()};return(e,t)=>{const a=H,l=C,i=$,n=A,o=S,s=ee,r=D,w=T,W=V,I=Z,L=z,M=u("tooltip"),P=E;return d(),c(L,{modelValue:q.value,"onUpdate:modelValue":t[5]||(t[5]=e=>q.value=e),class:"[--el-dialog-bg-color:--dialog-bg]",title:x(U)("twitterTracker"),size:540},{default:p(()=>[v("div",ce,[v("div",de,[(d(!0),m(f,null,g(x(Se),e=>(d(),m("span",{key:e.value,class:b(["text-16px cursor-pointer",x(ie)===e.value?"color-[--main-text]":"color-[--secondary-text]"]),onClick:t=>{return a=e.value,ie.value=a,Te(),Y.value.tags="",Q.value=[],void ze();var a}},_(e.label),11,pe))),128))]),v("div",ve,[y(l,{modelValue:x(Y).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>x(Y).keyword=e),class:"[&&]:[--el-input-height:36px] [&&]:[--el-input-bg-color:--border]",placeholder:x(U)("searchAccount"),clearable:"",onInput:x(Ee)},{prefix:p(()=>[y(a,{class:"text-16px",name:"custom:search"})]),_:1},8,["modelValue","placeholder","onInput"]),2===x(ie)?(d(),c(i,{key:0,disabled:0===x(le).length,onClick:qe},{default:p(()=>[v("div",he,[y(a,{name:"custom:delete-all"}),R(" "+_(x(U)("deleteAll")),1)])]),_:1},8,["disabled"])):k("",!0)]),h((d(),c(I,{data:x(le),"header-cell-class-name":"text-12px",style:{width:"100%"},"infinite-scroll-disabled":x(ae)||x(X),"infinite-scroll-distance":20,"infinite-scroll-delay":200,fit:""},{empty:p(()=>[x(Ve)&&x(Y).keyword?(d(),m("div",me,[y(a,{name:"custom:twitter-empty",class:"text-61px mb-12px color-[--icon-color]"}),v("span",fe,_(x(U)("twitterEmpty")),1),y(i,{type:"primary",class:"text-12px w-266px h-40px",onClick:Le},{default:p(()=>[R(_(x(U)("attention")),1)]),_:1})])):(d(),c(n,{key:1,class:"pt-40px"},{default:p(()=>[v("span",ge,_(x(U)("emptyNoData")),1)]),_:1}))]),default:p(()=>[y(s,{label:"#"},{default:p(({row:e,$index:t})=>[v("div",xe,[v("span",{style:F({width:le.value.length>99?"24px":le.value.length>9?"16px":"8px"}),class:"text-[--third-text]"},_(t+1),5),v("div",{class:"flex items-center gap-12px cursor-pointer shrink-0",onClick:t=>(e=>{window.open(e.twitter_url,"_blank")})(e)},[y(o,{wallet_logo:{logo:e.profile_pic,name:e.name},"icon-size":"32px"},null,8,["wallet_logo"]),v("div",null,[v("div",be,[h((d(),m("span",_e,[R(_(e.name),1)])),[[M,e.name]]),e.chain?(d(),m("div",ye,[v("img",{class:"w-full h-full rounded-full block",src:`${x(K).token_logo_url}chain/${e.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,ke)])):k("",!0)]),v("div",Ce,"@"+_(e.username),1)])],8,we)])]),_:1}),y(s,{prop:"ave_follower_count",align:"right",width:"90"},{header:p(()=>[h((d(),m("span",We,[R(_(x(U)("subCount")),1)])),[[M,x(U)("subCountTips")]])]),default:p(({row:e})=>[v("span",He,_(e.ave_follower_count),1)]),_:1}),y(s,{width:"110",align:"right",label:x(U)("tags")},{header:p(()=>[v("div",$e,[v("span",null,_(e.$t("tags")),1),y(W,{visible:x(B),"onUpdate:visible":t[4]||(t[4]=e=>j(B)?B.value=e:null),placement:"bottom",width:164,trigger:"click","popper-class":"el-drawer-popover"},{reference:p(()=>[y(a,{name:"custom:filter",class:b((x(Q).length>0?"color-[--secondary-text]":"color-[--third-text]")+" cursor-pointer text-10px shrink-0")},null,8,["class"])]),default:p(()=>[y(r,{modelValue:x(J),"onUpdate:modelValue":t[1]||(t[1]=e=>j(J)?J.value=e:null),class:"width_100 [--el-checkbox-height:16px] mb-12px",indeterminate:x(G),onChange:je},{default:p(()=>[R(_(e.$t("all")),1)]),_:1},8,["modelValue","indeterminate"]),y(w,{modelValue:x(Q),"onUpdate:modelValue":t[2]||(t[2]=e=>j(Q)?Q.value=e:null),onChange:De},{default:p(()=>[(d(!0),m(f,null,g(x(N),(e,t)=>(d(),c(r,{key:t,class:"w-full [--el-checkbox-height:16px] mb-12px",label:e.name,value:e.tag},{default:p(()=>[R(_(e.name),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]),v("div",Re,[y(i,{class:"min-w-0 flex-1",style:{"--border":"var(--gray-button-hover)"},onClick:t[3]||(t[3]=e=>B.value=!1)},{default:p(()=>[R(_(x(U)("cancel")),1)]),_:1}),y(i,{class:"min-w-0 flex-1",type:"primary",onClick:Ae},{default:p(()=>[R(_(x(U)("confirm")),1)]),_:1})])]),_:1},8,["visible"])])]),default:p(({row:e})=>[v("span",Fe,_(Ue(e.tags||[])),1)]),_:1},8,["label"]),y(s,{width:"40",align:"right",label:""},{default:p(({row:e,$index:t})=>[1===e.follow_status||2===x(ie)?(d(),c(a,{key:0,class:"cursor-pointer",name:"custom:twitter-del",onClick:a=>(async(e,t)=>{try{await oe(e),O.success(U("cancelFollowed")),Ve.value?le.value=le.value.filter(t=>t.author_id!==e):le.value[t].follow_status=0,Ie(e,0),se.value=se.value.filter(t=>t.author_id!==e),le.value[t].ave_follower_count--}catch(a){O.error(U("failed"))}})(e.author_id,t)},null,8,["onClick"])):(d(),c(a,{key:1,class:"cursor-pointer",name:"custom:twitter-add",onClick:a=>(async(e,t)=>{try{if(se.value.length>=50)return void O.error(U("twitterMax"));await ne(e),O.success(U("followed")),le.value[t].follow_status=1,Ie(e,1),se.value=se.value.concat({author_id:e}),le.value[t].ave_follower_count++}catch(a){O.error(U("failed"))}})(e.author_id,t)},null,8,["onClick"]))]),_:1})]),_:1},8,["data","infinite-scroll-disabled"])),[[P,ze]])])]),_:1},8,["modelValue","title"])}}},[["__scopeId","data-v-cbc73c79"]]),Ve={__name:"index",setup(e){const t=K(()=>M(()=>import("./BvbcK_sL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60]),import.meta.url)),l=r(!1),i=te(),n=ae(),{t:o}=a(),{placement:u}=U(i),g=le(),b=r(0),{width:_}=q(),k=r(null);Y("twitter_author_id",k);s(()=>u.value,()=>{b.value++,F()}),L(()=>{i.visible?W():setTimeout(()=>{W()},3e3)}),s(()=>i.visible,()=>{i.visible&&W()});const C=N(null),W=async()=>{const e=await M(()=>import("./B0fK3gbi.js"),__vite__mapDeps([61,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,62]),import.meta.url);C.value=e.default},H=w(()=>({minWidth:360,minHeight:160,maxWidth:438,initialHeight:i.winHeight-95,centerScrollHeight:i.boundingRect.height-140,otherScrollHeight:i.winHeight-230})),$=w(()=>({center:{className:"top-0 left-0 fixed",initialWidth:i.boundingRect.width,initialHeight:i.boundingRect.height,x:i.boundingRect.x,y:i.boundingRect.y,minWidth:H.value.minWidth,minHeight:H.value.minHeight,parent:!0,handles:["tl","tm","tr","mr","br","bm","bl","ml"],dragHandle:".drag-handle"},left:{className:"[&&]:relative shrink-0 left fixed! top-61px",style:`left:${n.leftWidth.twitter}px`,axis:"x",x:0,minWidth:H.value.minWidth,maxWidth:H.value.maxWidth,initialWidth:i.fixedWidth,initialHeight:H.value.initialHeight,parent:!0,handles:["mr"],dragHandle:".drag-handle"},right:{className:"[&&]:relative shrink-0 right fixed! top-61px left-0",axis:"x",x:n.rightWidth.twitter,y:0,minWidth:H.value.minWidth,maxWidth:H.value.maxWidth,initialWidth:i.fixedWidth,initialHeight:H.value.initialHeight,parent:!0,handles:["ml"],dragHandle:".drag-handle"}}[u.value])),R=N(!0),F=()=>{R.value=!1,P(()=>{R.value=!0})},S=w(()=>{let e={};return e="center"===u.value?{class:"border-1px border-solid border-[--d-1A1A1A-l-F2F2F2] shadow-[0_5px_10px_0_var(--d-FFFFFF14-l-00000014)]"}:{},e});function V(e,t){(Math.abs(e)<1||e+i.boundingRect.width>=_.value)&&n.fixedCount>=3?O.warning(o("popTips")):"left"===u.value?i.onLeftDragStop(e,t):"right"===u.value?i.onRightDragStop(e,t):i.onDragStop(e,t)}function D(e,t){"center"===u.value?i.onResizing(e,t):i.onFixedResizing(e)}function T(e){if("center"!==u.value)return null;i.onDrag(e)}function A(e){g.send({jsonrpc:"2.0",method:e,params:["public_twitter","hot"],id:1})}return A("subscribe"),B(()=>{A("unsubscribe")}),(e,a)=>{const n=X,o=Se;return d(),m(f,null,[h(y(n,Q({class:{"left-drag":x(i).isLeftFixed,"right-drag":x(i).isRightFixed},shouldRenderChild:x(R)},x($),{onOnDragStop:V,onOnResizing:D,onOnDrag:T}),{default:p(()=>[(d(),c(G(x(k)?x(t):x(C)),Q(x(S),{onSetDrawerVisible:a[0]||(a[0]=e=>l.value=!0)}),null,16))]),_:1},16,["class","shouldRenderChild"]),[[J,x(i).visible]]),v("div",null,[y(o,{visible:x(l),"onUpdate:visible":a[1]||(a[1]=e=>j(l)?l.value=e:null)},null,8,["visible"])])],64)}}},je=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));export{ue as a,ie as b,se as c,ne as f,re as g,je as i,oe as u};
