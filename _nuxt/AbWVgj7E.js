import{f as e,v as l,r as a,ak as t,aD as o,y as r,g as s,d1 as n,bP as i,K as d,o as u,Q as p,w as m,O as c,ap as v,i as _,bg as h,J as g,b as f,bh as x,a as y,t as k,om as w,c as b,F as V,D as $,P as C,H as T,d as N,e2 as j,_ as z,aE as A,j as F,U as S,n as B,m as E,mD as U,aF as R,aT as H,a3 as L,aV as W,aW as O,aX as P,aY as K,B as q,s as D,C as I,a5 as G,aO as M,aI as J,aJ as X,aU as Q,bO as Y,a1 as Z,aH as ee,bw as le,G as ae,an as te,x as oe,p as re,on as se,ao as ne,oo as ie,mt as de,aN as ue,N as pe,aw as me,aR as ce,a6 as ve,aa as _e,lD as he,ab as ge,a9 as fe,au as xe}from"./C0VmCwYl.js";import{a as ye,E as ke}from"./-_IRfLaa.js";import{_ as we}from"./DG5Onu_a.js";import{_ as be}from"./WmHJlDRT.js";import{_ as Ve}from"./DSDI11qA.js";import{a as $e,E as Ce}from"./zxXvcpOJ.js";import"./zMOKQAqQ.js";import{S as Te}from"./CkM1cLlI.js";import{u as Ne}from"./CDR5IMwt.js";import{E as je}from"./C0O8vvG5.js";import{u as ze}from"./CJ5C3yTe.js";import"./B4HE3f45.js";import"./BfdQ9pQL.js";import"./CpBjShZC.js";import"./CMghWc-o.js";import"./DhhJaQUO.js";import"./c_MOOHNS.js";import"./D3syz1rJ.js";import"./C4GSAw_c.js";import"./C6Y8sTuD.js";import"./DpxIxQTC.js";import"./D2KqFhI7.js";import"./C8VmjICj.js";import"./CyDNo-31.js";import"./3K5NCXCL.js";import"./D6hHWCBQ.js";import"./DlaoFPoW.js";import"./DSXY0Md2.js";import"./vdVtd-py.js";import"./De73GS6N.js";import"./CuIiA2Mu.js";import"./rhYgSr0o.js";import"./DuMLDvSG.js";import"./96opURxL.js";const Ae={class:"flex justify-between items-center w-100%"},Fe={class:"font-500 text-12px lh-[120%] color-[--main-text]"},Se={class:"h-12px inline-flex items-center"},Be=["src"],Ee=["src"],Ue={class:"flex-between w-100%"},Re=z(e({__name:"addFavAddressPop",props:{width:{type:String,default:"248"},formData:{type:Object,required:!1,default:()=>({group_id:0,user_chain:{label:"SOL",value:"solana",id:"solana"}})},buttonRef:{type:Object,required:!0},title:{type:String,default:""}},emits:["onConfirm","onCancel"],setup(e,{expose:z,emit:A}){const{t:F}=l(),S=e,B=A,E=a(),{addressGroups:U}=t(o()),{lang:R,token_logo_url:H}=t(r()),L=a(),W=a({...S.formData}),O=a(!1),P=a(!1),K=a(""),q=(e,l,a)=>{var t;""===l?a(new Error(F("cannotBeEmpty"))):j(l,null==(t=W.value.user_chain)?void 0:t.id)?a():a(new Error(F("pleaseEnterCorrectAddress")))},D=(e,l,a)=>{var t;W.value.address&&(null==(t=L.value)||t.validateField("address")),a()},I=s((()=>({user_chain:[{validator:D,trigger:"change"}],address:[{required:!0,message:"zh-cn"==R.value||"zh-tw"==R.value?`${F("watchAddress")}${F("cannotBeEmpty")}`:`${F("watchAddress")} ${F("cannotBeEmpty")}`,trigger:["blur"]},{validator:q,trigger:"blur"}],group:[{required:!0,message:"zh-cn"==R.value||"zh-tw"==R.value?`${F("walletGroup")}${F("cannotBeEmpty")}`:`${F("walletGroup")} ${F("cannotBeEmpty")}`,trigger:["blur","change"]}],remark:[{required:!0,message:"zh-cn"==R.value||"zh-tw"==R.value?`${F("remark")}${F("cannotBeEmpty")}`:`${F("remark")} ${F("cannotBeEmpty")}`,trigger:"blur"},{pattern:/^(?!.*[!@#$%^&*(),.?":{}|<>])(.{2,50})$/,message:F("remarkError"),trigger:["blur"]}]}))),G=s((()=>n.map((e=>{const l=i(e);return{label:"solana"===e?"SOL":l.net_name.toUpperCase(),value:l.chain_id,id:l.net_name}}))));function M(){P.value=!1}function J(){var e;B("onCancel"),null==(e=L.value)||e.resetFields(),Q()}function X(){O.value=!1,K.value="",W.value={...S.formData}}function Q(){var e,l;null==(l=null==(e=_(E))?void 0:e.hide)||l.call(e)}return z({close:Q}),(e,l)=>{const a=Ce,t=$e,o=x,r=C,s=T,n=h,i=p,j=v;return u(),d(i,{ref_key:"popoverRef",ref:E,width:null==S?void 0:S.width,trigger:"click",placement:"bottom","virtual-ref":S.buttonRef,"virtual-triggering":"",title:null==S?void 0:S.title,persistent:!1,"popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--main-text)",onBeforeLeave:X},{default:m((()=>[c((u(),d(n,{ref_key:"formRef",ref:L,model:_(W),rules:_(I),onSubmit:l[4]||(l[4]=g((e=>{var l;(l=_(L))&&l.validate(((e,l)=>{var a;e&&(P.value=!0,B("onConfirm",W.value,null==(a=L.value)?void 0:a.resetFields,M))}))}),["prevent","stop"]))},{default:m((()=>[f(o,{prop:"user_chain",required:"","label-position":"top",size:"large",class:"mb-13px!"},{default:m((()=>[y("div",Ae,[y("h4",Fe,k(e.$t("addWallet")),1),f(t,{modelValue:_(W).user_chain,"onUpdate:modelValue":l[0]||(l[0]=e=>_(W).user_chain=e),placeholder:_(F)("placeholderPrefix1")+_(F)("chain"),"value-key":"value",size:"small",style:{"--el-fill-color-blank":"var(--border)"},"suffix-icon":_(w),class:"w-70px!",teleported:!1,"popper-class":"w-103px"},{prefix:m((()=>{var e;return[y("div",Se,[y("img",{src:`${_(H)}chain/${null==(e=_(W).user_chain)?void 0:e.id}.png`,class:"rd-50%",width:"12",lazy:"",alt:""},null,8,Be)])]})),default:m((()=>[(u(!0),b(V,null,$(_(G),(e=>(u(),d(a,{key:e.value,label:e.label,value:e,class:"h-26px! flex! items-center! font-500! text-14px! lh-none!"},{default:m((()=>[y("img",{src:`${_(H)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,Ee),y("span",null,k(e.label),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","placeholder","suffix-icon"])])])),_:1}),f(o,{prop:"address",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m((()=>[f(r,{modelValue:_(W).address,"onUpdate:modelValue":l[1]||(l[1]=e=>_(W).address=e),placeholder:_(F)("placeholderPrefix")+_(F)("walletAddress")},null,8,["modelValue","placeholder"])])),_:1}),f(o,{prop:"remark",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m((()=>[f(r,{modelValue:_(W).remark,"onUpdate:modelValue":l[2]||(l[2]=e=>_(W).remark=e),placeholder:_(F)("placeholderPrefix")+_(F)("remark")},null,8,["modelValue","placeholder"])])),_:1}),f(o,{prop:"group_id",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m((()=>[f(t,{modelValue:_(W).group_id,"onUpdate:modelValue":l[3]||(l[3]=e=>_(W).group_id=e),placeholder:_(F)("placeholderPrefix1")+_(F)("addrGroup"),teleported:!1,style:{"--el-fill-color-blank":"var(--border)"}},{default:m((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup")},null,8,["label"])),(u(!0),b(V,null,$(_(U),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1}),f(o,{class:"mb-0px!"},{default:m((()=>[y("div",Ue,[f(s,{class:"flex-1",onClick:g(J,["stop","prevent"])},{default:m((()=>[N(k(e.$t("cancel")),1)])),_:1}),f(s,{type:"primary",class:"flex-1","native-type":"submit"},{default:m((()=>[N(k(e.$t("confirm")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])),[[j,_(P)]])])),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-ad26cc26"]]),He={class:"flex justify-between items-center gap-8px h-54px"},Le={class:"text-12px m-table","element-loading-background":"transparent"},We=["onClick"],Oe=["src"],Pe={class:"text-12px"},Ke=["onClick"],qe={key:2,class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out"},De={key:1,class:"flex items-center mr-4px cursor-not-allowed"},Ie=z(e({__name:"walletManage",props:{scrollHeight:{type:Number,default:500},isLarge:{type:Boolean,default:!1}},setup(e){const{t:h}=l(),x=A(),w=e,{mode:C,isDark:j,token_logo_url:z}=t(r()),Z=s((()=>[{label:h("allChain"),value:"AllChains",id:"allChains"},...n.map((e=>{const l=i(e);return{label:"solana"===e?"SOL":l.net_name.toUpperCase(),value:l.net_name,id:l.net_name}}))])),ee=a(!1),le=a(),ae=a(),{selectGroupId:te,paginationParams:oe,user_chain:re,monitorList1:se}=t(Ne()),{currentAddress:ne,showBatchAddressDetails:ie,updateNum1:de,updateNum2:ue,updateNum3:pe,addressGroups:me}=t(o()),ce=F({group:te.value,activeTab:"7d",isMonitor:!1,user_chain:re.value,sort:"",sort_dir:"",keyword:"",last_tx_time_max:"",last_tx_time_min:"",last_trade_time:""}),ve=S(),_e=a(!1),he=a(!1),ge=s((()=>oe.value.loaded?h("loading"):oe.value.finished?h("noMore"):""));function fe(e,l,a){var t;Y({address:ve.evmAddress,user_chain:null==(t=null==e?void 0:e.user_chain)?void 0:t.id,user_address:e.address,remark:e.remark,group:e.group_id,is_monitored:0}).then((()=>{var e,t;null==l||l(),null==a||a(),null==(t=null==(e=ae.value)?void 0:e.close)||t.call(e),oe.value={...U,pageSize:50},we(),ue.value++})).catch((e=>{}))}B((()=>{ve.evmAddress&&(se.value.length>0||we())})),E((()=>de.value+pe.value),(()=>{oe.value={...U,pageSize:50},we()}));const xe=R((e=>{H({address:ne.value,user_chain:e.chain,user_address:e.user_address}).then((()=>{L.success(h("success")),we(),ue.value++})).catch((e=>{L.error(String(e))}))}),1e3),ye=R(((e,l=0)=>{if(1!==e.is_monitored){const{user_address:a,user_chain:t}=e;P({address:a,chain:t,user_address:ve.evmAddress}).then((()=>{se.value[l].is_monitored=0===e.is_monitored?1:0,we(),L.success(h("success")),ue.value++})).catch((e=>{L.error(String(e))}))}else{const{id:a,user_address:t}=e;(1===e.is_pause?W:O)({uid:a,address:t}).then((()=>{se.value[l].is_monitored=0===e.is_monitored?1:0,we(),ue.value++,L.success(h("success"))})).catch((e=>{L.error(String(e))}))}}),1e3);function ke(e){he.value=e<=20,e<=20&&!oe.value.loaded&&!oe.value.finished&&we()}E([()=>ce],(()=>{oe.value={...U,pageSize:50},we()}),{deep:!0});const we=R((function(){if(1===oe.value.pageNO&&(_e.value=!0),oe.value.loaded)return;oe.value.loaded=!0;const e=oe.value.pageNO,l=oe.value.pageSize;K({...ce,pageNO:e,pageSize:l}).then((a=>{var t,o;const r=(null==a?void 0:a.data)||[];Array.isArray(r)&&(null==r?void 0:r.length)>0?(1===e?(se.value=r.map((e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:ce.group}))),_e.value=!1):se.value=[...se.value].concat(null==(o=null==(t=r.filter)?void 0:t.call(r,(e=>{var l,a;return null==(a=null==(l=se.value)?void 0:l.every)?void 0:a.call(l,(l=>l.index!==`${e.user_address}-${e.user_chain}`))})))?void 0:o.map((e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:ce.group})))),oe.value.finished=(null==r?void 0:r.length)<l,oe.value.finished||oe.value.pageNO++):(1===e&&(se.value=[]),oe.value.finished=!0)})).finally((()=>{setTimeout((()=>{_e.value=!1,oe.value.loaded=!1,he.value=!1}),200)}))}),500);const be=s((()=>[{title:h("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:h("addrGroup"),dataKey:"group",key:"group",minWidth:90,align:"right"},{title:h("chain"),dataKey:"chain",key:"chain",align:"right",minWidth:55},{title:h("operate"),dataKey:"operate",key:"operate",align:"right",minWidth:40}]));return(e,l)=>{const a=Ce,t=$e,o=I,r=T,s=J,n=X,j=p,A=Ve,F=Re,S=v;return u(),b("div",null,[y("div",He,[f(t,{modelValue:_(te),"onUpdate:modelValue":l[0]||(l[0]=e=>D(te)?te.value=e:null),style:{"--el-fill-color-blank":"var(--dialog-list-hover)"},mode:_(C),onClick:l[1]||(l[1]=g((()=>{}),["stop"])),onChange:l[2]||(l[2]=e=>function(e){ce.group=e}(e))},{default:m((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup"),class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label"])),(u(!0),b(V,null,$(_(me),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label","value"])))),128))])),_:1},8,["modelValue","mode"]),f(r,{ref_key:"addButtonRef",ref:le,class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","font-size":"12px"}},{default:m((()=>[f(o,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),N(" "+k(e.$t("addWallet")),1)])),_:1},512),f(r,{class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","margin-left":"0px","font-size":"12px"},onClick:l[3]||(l[3]=g((e=>ie.value=!0),["stop","prevent"]))},{default:m((()=>[f(o,{name:"mingcute:new-folder-fill",class:"text-12px mr-5px"}),N(" "+k(e.$t("bulkImport")),1)])),_:1})]),c((u(),b("div",Le,[f(A,{ref:"aveTableRef",rowKey:"index",fixed:"",data:_(se),showFooter:_(he),footText:_(ge),columns:_(be),headerHeight:36,rowHeight:40,headerClass:"bg-transparent",style:G({height:w.scrollHeight-50+"px","--el-table-bg-color":"transparent",overflow:"visible",paddingBottom:_(he)?"20px":"0px"}),"row-class":"cursor-pointer group",rowEventHandlers:{onClick:({rowData:e})=>{return l=e,void x.push({path:`/address/${l.user_address}/${l.user_chain}`});var l}},onEndReached:ke},{"header-wallet":m((()=>[y("span",null,k(e.$t("wallet")),1)])),"cell-wallet":m((({row:e})=>[(u(),d(s,{key:e.user_address+e.user_chain,class:"mr-10px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"24px"},null,8,["wallet_logo","address","chain"])),y("div",null,[(u(),d(n,{key:e.user_address+e.user_chain,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis",addressStyle:"max-width: 60px;font-size: 14px;color:var(--main-text)",iconEditColor:"var(--third-text)",iconEditSize:"10px",showAddressTitle:""},null,8,["remark","address","chain"]))])])),"header-group":m((()=>[y("span",null,k(e.$t("addrGroup")),1)])),"cell-group":m((({row:o})=>[f(t,{modelValue:o.group_id,"onUpdate:modelValue":e=>o.group_id=e,size:"small","suffix-icon":Te,filterable:"","popper-class":"w-addrGroup",class:"[&&]:[--el-text-color-regular:--main-text] [&&]:[--el-fill-color-blank:--dialog-list-hover]",onClick:l[4]||(l[4]=g((()=>{}),["stop"])),onChange:e=>(async(e,l)=>{oe.value={...U,pageSize:50},await Q({user_chain:l.user_chain,user_address:l.user_address,group:e}),ue.value++,we()})(e,o)},{default:m((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup"),filterable:"",class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label"])),(u(!0),b(V,null,$(_(me),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),"header-chain":m((()=>[y("span",null,k(e.$t("chain")),1),f(j,{visible:_(ee),"onUpdate:visible":l[5]||(l[5]=e=>D(ee)?ee.value=e:null),"popper-style":"width: 133px;min-width: 133px;",trigger:"click"},{reference:m((()=>[f(o,{id:"custom-filter",name:"custom:filter",style:G({color:"AllChains"!==_(ce).user_chain?"var(--secondary-text)":"var(--third-text)"}),class:"text-10px cursor-pointer ml-2px"},null,8,["style"])])),default:m((()=>[y("ul",null,[(u(!0),b(V,null,$(_(Z),(e=>(u(),b("li",{key:e.value,class:"rounded-2px hover:bg-[--dialog-list-hover] h-26px! flex! items-center! font-500! text-14px! lh-20px! clickable px-8px py-5px",onClick:g((l=>{_(ce).user_chain=e.value,re.value=e.value,ee.value=!1}),["stop"])},["AllChains"==e.value?(u(),d(o,{key:0,name:"icon-park-outline:link-one",class:"text-15px mr-4px rd-50%"})):(u(),b("img",{key:1,src:`${_(z)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,Oe)),y("span",null,k(e.label),1)],8,We)))),128))])])),_:1},8,["visible"])])),"cell-chain":m((({row:l})=>[y("span",Pe,k(("getChainInfo"in e?e.getChainInfo:_(i))(l.user_chain).name),1)])),"header-operate":m((()=>[y("span",null,k(e.$t("operate")),1)])),"cell-operate":m((({row:a,rowIndex:t})=>[y("div",{class:"flex justify-end items-center",onClick:l[6]||(l[6]=g((()=>{}),["stop"]))},[("SupportMonitorChain"in e?e.SupportMonitorChain:_(M)).includes(null==a?void 0:a.user_chain)?(u(),b("div",{key:0,class:"flex items-center mr-4px cursor-pointer color-[--third-text]",onClick:g((e=>_(ye)(a,t)),["stop","prevent"])},[1===(null==a?void 0:a.is_monitored)?(u(),d(o,{key:0,name:"custom:monitor2-icon",class:"text-12px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})):(u(),d(o,{key:1,name:"custom:monitor-icon",class:"text-14px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})),w.isLarge?(u(),b("span",qe,k(1===(null==a?void 0:a.is_monitored)?_(h)("pause"):_(h)("enable")),1)):q("",!0)],8,Ke)):(u(),b("div",De,[f(o,{name:"custom:monitor-icon",class:"text-14px mr-2px color-[var(--d-666-l-CCC)]"})])),f(o,{name:"bx:bxs-trash-alt",class:"text-13px color-[--third-text]",onClick:g((e=>_(xe)(a)),["stop","prevent"])},null,8,["onClick"])])])),_:1},8,["data","showFooter","footText","columns","style","rowEventHandlers"])])),[[S,_(_e)]]),_(le)?(u(),d(F,{key:0,ref_key:"addFavAddressPopRef",ref:ae,buttonRef:_(le),onOnConfirm:fe},null,8,["buttonRef"])):q("",!0)])}}}),[["__scopeId","data-v-620e40de"]]),Ge=e({__name:"quickBuyInput",props:{modelValue:{type:String,default:"0.01"},size:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=l,o=s({get:()=>a.modelValue,set(e){t("update:modelValue",e)}});function r(e){o.value=e.replace(/-|[^\d.]/g,"")}function n(){var e;const l=null==(e=new Z(o.value||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,4})?")))?void 0:e[0];String(o.value)!==String(l)&&(""===o.value?o.value="":0===Number(l)?o.value="0":o.value=l||"0")}return(l,a)=>{const t=I,s=C;return u(),d(s,{modelValue:_(o),"onUpdate:modelValue":a[0]||(a[0]=e=>D(o)?o.value=e:null),modelModifiers:{trim:!0},size:e.size,clearable:"",placeholder:"0",class:"[&&]:[--el-input-bg-color:--dialog-list-hover] [--el-component-size-small:22px] [&&]:[--el-input-width:88px] [--el-text-color-regular:--secondary-text] [--el-input-icon-color:--secondary-text] [--el-text-color-placeholder:--secondary-text] [--el-border-color:transparent]",onInput:r,onBlur:n},{prefix:m((()=>[f(t,{name:"mynaui:lightning-solid"})])),_:1},8,["modelValue","size"])}}}),Me=e({__name:"checkboxGroup",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},inline:{type:Boolean,default:!1},all:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,o=s({get:()=>t.modelValue,set:e=>r("update:modelValue",e)}),r=l,n=a(!1),i=a(!0),p=e=>{o.value=e?t.options.map((e=>e.value)):[],i.value=!1},c=e=>{if(!t.all)return;const l=e.length;n.value=l===t.options.length,i.value=l>0&&l<t.options.length};return(e,l)=>{const a=ee,r=le;return u(),b(V,null,[t.options.length&&t.all?(u(),d(a,{key:0,modelValue:_(n),"onUpdate:modelValue":l[0]||(l[0]=e=>D(n)?n.value=e:null),indeterminate:_(i),disabled:_(n),onChange:p},{default:m((()=>[N(k(e.$t("all")),1)])),_:1},8,["modelValue","indeterminate","disabled"])):q("",!0),f(r,{modelValue:_(o),"onUpdate:modelValue":l[1]||(l[1]=e=>D(o)?o.value=e:null),min:1,class:ae([t.inline?"flex flex-row":"flex flex-col"]),onChange:c},{default:m((()=>[(u(!0),b(V,null,$(t.options,(e=>(u(),d(a,{key:e.value,label:e.label,value:e.value},{default:m((()=>[N(k(e.label),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","class"])],64)}}}),Je=e({__name:"filterType",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=s({get:()=>a.modelValue,set:e=>o("update:modelValue",e)}),o=l;return(e,l)=>{const o=I,r=Me,s=je;return u(),d(s,{trigger:"click","popper-class":"w-filterType"},{dropdown:m((()=>[f(r,{modelValue:_(t),"onUpdate:modelValue":l[0]||(l[0]=e=>D(t)?t.value=e:null),options:a.options},null,8,["modelValue","options"])])),default:m((()=>[f(o,{id:"custom-filter",name:"custom:filter",class:"text-12px cursor-pointer color-[--secondary-text]"})])),_:1})}}}),Xe={class:"text-12px mt-10px color-[--third-text]"},Qe={key:0,class:"text-12px m-table","element-loading-background":"transparent"},Ye={key:0},Ze={key:1},el={class:"color-#FFA622"},ll={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},al={key:1,class:"text-12px m-table","element-loading-background":"transparent"},tl={class:"flex-between w-100%"},ol={class:"flex-start gap-8px"},rl={class:"flex flex-col w-100% gap-8px"},sl={class:"flex-between"},nl={class:"flex-between"},il={class:"flex-start gap-4px"},dl={class:"color-[--third-text]"},ul={class:"color-[--main-text]"},pl={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},ml={class:"color-[--third-text]"},cl={class:"color-[--main-text]"},vl={key:0},_l={key:1},hl={class:"color-#FFA622"},gl={class:"text-12px mt-10px"},fl={class:"m-op flex-end gap-8px w-100% h-100%"},xl=z(e({__name:"index",props:{scrollHeight:{type:Number,default:0},isLarge:{type:Boolean,default:!1}},setup(e){const{t:n}=l(),{hasRing:i,monitorList2:p,visible:h,activeName:x,txType:w,isLeftFixed:$,isRightFixed:C}=t(Ne()),{updateNum3:j}=t(o()),{isDark:z,audioSettings:A}=t(r()),F=e,U=a([]),H=a(!1),L=S(),W=te(),O=a(null),P=a(!0),K=a(),M=a(!1),J=a(),Q=oe("quickBuyValue","0.01"),ee=s((()=>[{label:n("buy"),value:0},{label:n("sell"),value:1}])),le=s((()=>({scrollHeight:F.scrollHeight})));function $e(e){1===e&&Ae()}function Ce(e,l,a){var t;Y({address:L.evmAddress,user_chain:null==(t=null==e?void 0:e.user_chain)?void 0:t.id,user_address:null==e?void 0:e.address,remark:null==e?void 0:e.remark,group:null==e?void 0:e.group_id,is_monitored:0}).then((()=>{var e,t;null==l||l(),null==a||a(),null==(t=null==(e=J.value)?void 0:e.close)||t.call(e),j.value++})).catch((e=>{}))}B((async()=>{re((()=>{})),Fe()})),ze((()=>{L.bot_subscribe(),h.value&&1===x.value&&Ae()})),E((()=>w.value),(e=>{const l=[];e.includes(0)&&l.push("buy"),e.includes(1)&&l.push("sell"),se(l).then((()=>{Se()}))})),E((()=>h.value),(e=>{e&&1===x.value&&(Ae(),re((()=>{!P.value&&O.value&&O.value.scrollToTop(0),P.value=!1})))}));const Te=s((()=>F.isLarge?[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:n("type"),dataKey:"type",key:"type",minWidth:110,align:"right"},{title:n("value"),dataKey:"amount",key:"amount",align:"right",minWidth:80},{title:n("token"),dataKey:"symbol",key:"symbol",align:"right",minWidth:150},{title:n("mcap"),dataKey:"mc",key:"mc",align:"right",minWidth:70},{title:n("time"),dataKey:"time",key:"time",align:"right",minWidth:40},{title:"",dataKey:"operate",key:"operate",align:"right",minWidth:100}]:[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:240}]));E((()=>W.wsResult[ne.MONITOR]),(e=>{je(e),h.value&&1===x.value&&Ae()}));const je=e=>{var l,a,t,o,r;if((null==e?void 0:e.length)>0){const s=(null==p?void 0:p.value)||[],n=[...(null==(t=null==(a=null==(l=null==e?void 0:e.filter)?void 0:l.call(e,(e=>!s.some((l=>l.id===e.id)))))?void 0:a.map)?void 0:t.call(a,(e=>({...e,...Ue(e)}))))||[],...s];n.length>200&&(null==(o=null==n?void 0:n.splice)||o.call(n,100)),p.value.splice(0,null==(r=p.value)?void 0:r.length,...n)}},Ae=R((function(){var e;h.value&&1===x.value&&U.value.splice(0,null==(e=U.value)?void 0:e.length,...p.value)}),500);function Fe(){Se()}function Se(){if(!L.evmAddress)return;H.value=!0;let e="";w.value.length!==ee.value.length&&(e=w.value.join(",")),ie(e?{filtered_type:e}:{}).then((e=>{var l;let a=e||(null==e?void 0:e.data)||[];const t=[],o={};a=Array.isArray(a)?a:[],null==(l=null==a?void 0:a.forEach)||l.call(a,(e=>{const l=JSON.parse(e.msg_content);o[l.id]||(t.push({...l,...Ue(l)}),o[l.id]=!0)})),p.value=t.filter((e=>w.value.includes(e.tx_type))),Ae()})).catch((e=>{})).finally((()=>{H.value=!1}))}function Be(e){return void 0!==e.position_type?0===e.position_type||1===e.position_type:0===e.tx_type}function Ee(e){if(void 0!==e.position_type){const l=[n("createPosition"),n("addPosition"),n("reducePosition"),n("closePosition")];return(null==l?void 0:l[Number(null==e?void 0:e.position_type)])||""}{const l=[n("buy"),n("sell")];return(null==l?void 0:l[Number(e.tx_type)])||""}}E((()=>L.evmAddress),(e=>{e?Fe():U.value=[]}));const Ue=function(e){const l=Be(e),a={...e,_marker:{maker_address:(null==e?void 0:e.maker_address)||(null==e?void 0:e.wallet_address),maker_alias:null==e?void 0:e.maker_alias,maker_logo:null==e?void 0:e.maker_logo,maker_tags:null==e?void 0:e.maker_tags,isBuy:l},_profit:"--"==(null==e?void 0:e.pnl_usd)?"--":"$"+ue(Math.abs((null==e?void 0:e.pnl_usd)||0)||0,2),_profit_ratio:"--"==(null==e?void 0:e.pnl_usd)?"--":ue(100*((null==e?void 0:e.pnl_ratio)||0)||0,2,4,4)+"%",_mc:Number(null==e?void 0:e.target_mcap)?"$"+de((null==e?void 0:e.target_mcap)||0,{decimals:0,limit:3}):"--",_type:Ee(e),_rise:"--"==(null==e?void 0:e.pnl_usd)||(null==e?void 0:e.pnl_usd)>=0};return a._main_Token={amount:ue(e[l?"from_amount":"to_amount"]||0,1),price:"$"+ue(e[l?"from_price_usd":"to_price_usd"]||0),symbol:e[l?"from_symbol":"to_symbol"],total:"$"+ue(new Z(e[l?"from_amount":"to_amount"]||0).times(e[l?"from_price_usd":"to_price_usd"]||0).toFixed(0)||0,2,4,4),address:e[l?"from_address":"to_address"],tags:e[l?"from_tags":"to_tags"],signals:e[l?"from_signals":"to_signals"]},a._target_Token={amount:ue(e[l?"to_amount":"from_amount"]||0,1),price:"$"+ue(e[l?"to_price_usd":"from_price_usd"]||0),total:"",symbol:e[l?"to_symbol":"from_symbol"],address:e[l?"to_address":"from_address"],tags:e[l?"to_tags":"from_tags"],signals:e[l?"to_signals":"from_signals"],logo_url:e[l?"to_logo":"from_logo"]},a};function He(e,l){var a;l&&l.stopPropagation();const t=(null==e?void 0:e.chain)||"eth",o=(null==(a=null==e?void 0:e._marker)?void 0:a.maker_address)||(null==e?void 0:e.wallet_address);o&&xe(`/address/${o}/${t}`)}function Le({e:e,rowData:l}){var a;e&&e.stopPropagation();const t=(null==(a=null==l?void 0:l._target_Token)?void 0:a.address)+"-"+l.chain;xe(`/token/${t}`,{replace:!0})}return(l,a)=>{const t=I,o=T,r=ce,s=ye,n=X,i=we,p=ge,j=ve,S=be,B=Ve,E=ke,R=Re,W=pe("tooltip"),P=v;return u(),b("div",{class:ae(["w-monitor bg-[--secondary-bg] w-100% h-100% pl-12px pr-6px relative overflow-hidden",{"pr-10px!":_($),"pl-10px!":_(C)}])},[f(t,{name:"custom:drag2",class:"absolute top-3px left-50% ml--6px text-6px bg-[--dialog-list-hover] drag-handle"}),f(E,{modelValue:_(x),"onUpdate:modelValue":a[12]||(a[12]=e=>D(x)?x.value=e:null),style:{},class:"m-tabs",onTabChange:$e},{default:m((()=>[f(s,{label:l.$t("walletManage"),name:0,lazy:""},{default:m((()=>[_(L).evmAddress?(u(),d(Ie,me({key:0},_(le),{isLarge:F.isLarge}),null,16,["isLarge"])):(u(),d(r,{key:1,style:G({height:F.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:m((()=>[y("span",Xe,k(l.$t("noBotWalletTip")),1),f(o,{type:"primary",class:"mt-10px",onClick:a[0]||(a[0]=e=>_(L).$patch({connectVisible:!0}))},{default:m((()=>[N(k(l.$t("connectWallet")),1)])),_:1})])),_:1},8,["style"]))])),_:1},8,["label"]),f(s,{label:l.$t("monitored"),name:1,lazy:""},{default:m((()=>[_(L).evmAddress?(u(),b(V,{key:0},[F.isLarge?c((u(),b("div",Qe,[f(B,{ref_key:"aveTableRef",ref:O,rowKey:"id",data:_(U),columns:_(Te),fixed:"",style:G({height:F.scrollHeight+"px"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Le(e)}},{"header-wallet":m((()=>[y("span",null,k(l.$t("wallet")),1)])),"cell-wallet":m((({row:e})=>[(u(),d(n,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Se,onClick:l=>He(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"]))])),"header-type":m((()=>[y("span",null,k(l.$t("type")),1)])),"cell-type":m((({row:e})=>[f(i,{type:e._marker.isBuy?"success":"danger"},{default:m((()=>[N(k(Ee(e)),1)])),_:2},1032,["type"])])),"header-amount":m((()=>[y("span",null,k(l.$t("value")),1)])),"cell-amount":m((({row:e})=>{var l,a;return[y("span",{class:ae(Be(e)?"color-[--up-color]":"color-[--down-color]}")},k(_(M)?null==e?void 0:e._main_Token.total:(null==(l=null==e?void 0:e._main_Token)?void 0:l.amount)+(null==(a=null==e?void 0:e._main_Token)?void 0:a.symbol)),3)]})),"header-mc":m((()=>[y("span",null,k(_(M)?l.$t("price"):l.$t("mcap")),1)])),"cell-mc":m((({row:e})=>{var l;return[y("span",null,k(_(M)?null==(l=null==e?void 0:e._target_Token)?void 0:l.price:null==e?void 0:e._mc),1)]})),"header-time":m((()=>[y("span",null,k(l.$t("time")),1)])),"cell-time":m((({row:e})=>[c((u(),b("div",{class:"time",style:G({color:Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<=600?"#FFA622":"#12B886"})},[(null==e?void 0:e.created_at)||(null==e?void 0:e.time)?Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))>=60?(u(),b("span",Ze,k(("formatCountdown"in l?l.formatCountdown:_(he))(1e3*Number(null==e?void 0:e.created_at)||1e3*Number(null==e?void 0:e.time),!1)),1)):((null==e?void 0:e.created_at)||(null==e?void 0:e.time))&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<60?(u(),d(p,{key:`${e.created_at}`,timestamp:e.created_at,"end-time":60},{default:m((({seconds:a})=>[y("span",el,[a<60?(u(),b(V,{key:0},[N(k(a)+"s ",1)],64)):(u(),b(V,{key:1},[N(k(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(e.created_at)),1)],64))])])),_:2},1032,["timestamp"])):q("",!0):(u(),b("span",Ye,"-"))],4)),[[W,("formatDate"in l?l.formatDate:_(fe))((null==e?void 0:e.created_at)||(null==e?void 0:e.time))]])])),"header-symbol":m((()=>[y("span",null,k(l.$t("token")),1)])),"cell-symbol":m((({row:e})=>{var l,a;return[f(j,{row:{logo_url:null==(l=null==e?void 0:e._target_Token)?void 0:l.logo_url,chain:null==e?void 0:e.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),y("span",null,k(null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol),1),"pump"==(null==e?void 0:e.amm)?(u(),b("img",ll)):q("",!0)]})),"header-operate":m((()=>a[13]||(a[13]=[y("span",null,null,-1)]))),"cell-operate":m((({row:e})=>{var l;return[f(S,{quickBuyValue:_(Q),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(l=null==e?void 0:e._target_Token)?void 0:l.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]})),_:1},8,["data","columns","style","rowEventHandlers"])])),[[P,_(H)]]):c((u(),b("div",al,[f(B,{ref_key:"aveTableRef",ref:O,rowKey:"id",fixed:"",data:_(U),columns:_(Te),headerHeight:54,rowHeight:70,headerClass:"bg-transparent",style:G({height:F.scrollHeight+"px","--el-table-border":"1px solid #333"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Le(e)}},{"header-wallet":m((()=>[y("div",tl,[y("div",ol,[f(Je,{modelValue:_(w),"onUpdate:modelValue":a[1]||(a[1]=e=>D(w)?w.value=e:null),options:_(ee)},null,8,["modelValue","options"]),f(t,{name:_(A).audio.monitor?"custom:ad":"custom:admute",class:"cursor-pointer text-16px color-[--secondary-text]",onClick:a[2]||(a[2]=e=>_(A).active="audio")},null,8,["name"]),f(i,{size:"small",class:"cursor-pointer w-55px",onClick:a[3]||(a[3]=e=>M.value=!_(M))},{default:m((()=>[N(k(_(M)?"C/MC":"U/Pri"),1),f(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})])),_:1})]),f(Ge,{modelValue:_(Q),"onUpdate:modelValue":a[4]||(a[4]=e=>D(Q)?Q.value=e:null),size:"small"},null,8,["modelValue"])])])),"cell-wallet":m((({row:e})=>{var a,t,o,r,s,i;return[y("div",rl,[y("div",sl,[(u(),d(n,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Se,onClick:l=>He(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"])),f(S,{quickBuyValue:_(Q),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]),y("div",nl,[y("div",il,[y("div",dl,k(Ee(e)),1),y("span",{class:ae(Be(e)?"color-[--up-color]":"color-[--down-color]")},k(_(M)?null==e?void 0:e._main_Token.total:(null==(t=null==e?void 0:e._main_Token)?void 0:t.amount)+(null==(o=null==e?void 0:e._main_Token)?void 0:o.symbol)),3),f(j,{row:{logo_url:null==(r=null==e?void 0:e._target_Token)?void 0:r.logo_url,chain:null==e?void 0:e.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),y("span",ul,k(null==(s=null==e?void 0:e._target_Token)?void 0:s.symbol),1),"pump"==(null==e?void 0:e.amm)?(u(),b("img",pl)):q("",!0),y("span",ml,k(_(M)?l.$t("price"):l.$t("mcap")),1),y("span",cl,k(_(M)?null==(i=null==e?void 0:e._target_Token)?void 0:i.price:null==e?void 0:e._mc),1)]),c((u(),b("div",{class:"time",style:G({color:Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<=600?"#FFA622":"#12B886"})},[(null==e?void 0:e.created_at)||(null==e?void 0:e.time)?Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))>=60?(u(),b("span",_l,k(("formatCountdown"in l?l.formatCountdown:_(he))(1e3*Number(null==e?void 0:e.created_at)||1e3*Number(null==e?void 0:e.time),!1)),1)):((null==e?void 0:e.created_at)||(null==e?void 0:e.time))&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<60?(u(),d(p,{key:`${e.created_at}`,timestamp:e.created_at,"end-time":60},{default:m((({seconds:a})=>[y("span",hl,[a<60?(u(),b(V,{key:0},[N(k(a)+"s ",1)],64)):(u(),b(V,{key:1},[N(k(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(e.created_at)),1)],64))])])),_:2},1032,["timestamp"])):q("",!0):(u(),b("span",vl,"-"))],4)),[[W,("formatDate"in l?l.formatDate:_(fe))((null==e?void 0:e.created_at)||(null==e?void 0:e.time))]])])])]})),_:1},8,["data","columns","style","rowEventHandlers"])])),[[P,_(H)]])],64)):(u(),d(r,{key:1,style:G({height:F.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:m((()=>[y("span",gl,k(l.$t("noBotWalletTip")),1),f(o,{class:"mt-10px",onClick:a[5]||(a[5]=e=>_(L).$patch({connectVisible:!0}))},{default:m((()=>[N(k(l.$t("connectWallet")),1)])),_:1})])),_:1},8,["style"]))])),_:1},8,["label"]),f(s,{disabled:""},{label:m((()=>a[14]||(a[14]=[y("div",{class:"cursor-move w-100% h-100% drag-handle"},null,-1)]))),_:1}),f(s,{disabled:""},{label:m((()=>[y("div",fl,[1===_(x)&&F.isLarge?(u(),b(V,{key:0},[f(Je,{modelValue:_(w),"onUpdate:modelValue":a[6]||(a[6]=e=>D(w)?w.value=e:null),options:_(ee)},null,8,["modelValue","options"]),f(t,{name:_(A).audio.monitor?"custom:ad":"custom:admute",class:"cursor-pointer color-[--secondary-text]",onClick:a[7]||(a[7]=e=>_(A).active="audio")},null,8,["name"]),f(i,{size:"small",class:"cursor-pointer w-55px",onClick:a[8]||(a[8]=e=>M.value=!_(M))},{default:m((()=>[N(k(_(M)?"C/MC":"U/Pri"),1),f(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})])),_:1})],64)):q("",!0),1===_(x)&&_(L).evmAddress?(u(),d(o,{key:1,ref:e=>K.value=e,size:"small",style:{height:"20px"},class:"dialog-button",dark:_(z)},{default:m((()=>[f(t,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),N(" "+k(l.$t("addWallet")),1)])),_:1},8,["dark"])):q("",!0),1===_(x)&&e.isLarge?(u(),d(Ge,{key:2,modelValue:_(Q),"onUpdate:modelValue":a[9]||(a[9]=e=>D(Q)?Q.value=e:null),size:"small"},null,8,["modelValue"])):q("",!0),f(t,{class:"text-14px color-[--secondary-text] hover:color-[--main-text] cursor-pointer",name:"custom:pump-setting",onClick:a[10]||(a[10]=g((e=>("navigateTo"in l?l.navigateTo:_(xe))("/follow/addr",{replace:!0})),["stop","prevent"]))}),f(t,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--main-text]",onClick:a[11]||(a[11]=g((e=>h.value=!1),["self"]))})])])),_:1})])),_:1},8,["modelValue"]),_(K)?(u(),d(R,{key:0,ref_key:"addFavAddressPopRef",ref:J,buttonRef:_(K),onOnConfirm:Ce},null,8,["buttonRef"])):q("",!0)],2)}}}),[["__scopeId","data-v-18af3998"]]);export{xl as default};
