import{F as e,D as l,c as o,o as t,b as a,ak as n,K as r,J as i,aa as s,n as u,aw as c,aS as d,az as p,H as v,S as m,w as x,a as f,a5 as b,a6 as h,E as g,aU as k,aP as y,aM as _,T as w,d as C,t as $,aL as S,cL as V,aN as P,bu as N,cD as T,br as F,bv as M,a2 as B,bi as A,fJ as D,fK as E,fl as L,av as U,a8 as I,ad as R,_ as j,aG as Y,a3 as H,au as O,bM as W,at as z,dK as K,aj as G,M as q,dY as X,bO as Z,e as J,cK as Q,cA as ee,bY as le,fL as oe,fM as te,dz as ae,fr as ne,d6 as re,fN as ie,fO as se,fP as ue,fQ as ce,fR as de,fS as pe,c9 as ve,cC as me,fT as xe,fU as fe,fV as be,fW as he,ae as ge,fX as ke,fY as ye,fZ as _e,bz as we,dj as Ce,cG as $e,f_ as Se,f$ as Ve,g0 as Pe,g1 as Ne,g2 as Te,aO as Fe,fp as Me,ap as Be,g3 as Ae,ca as De,g4 as Ee,bB as Le,fk as Ue,bh as Ie,bC as Re,g5 as je,cd as Ye,L as He,P as Oe,W as We,g6 as ze,g7 as Ke,g8 as Ge}from"./C8zCCogY.js";import{E as qe}from"./-d3z4qYr.js";import{E as Xe}from"./BGkjShqg.js";import{u as Ze,d as Je}from"./Bo7zwPAw.js";import{E as Qe}from"./B-JdZO_T.js";import{E as el}from"./jvqJ-lss.js";import{E as ll}from"./pAvqTbq1.js";import{u as ol,d as tl,e as al}from"./D9w_6Z7_.js";import{u as nl}from"./Bzhi185P.js";const rl={__name:"headSort",props:{defaultSort:{type:String,default:"",validator:e=>["asc","desc",""].includes(e)}},emits:["sort-change"],setup(u,{emit:c}){const d=u,p=c,v=e(d.defaultSort);l(()=>d.defaultSort,e=>{e?d.defaultSort!==v.value&&(v.value=d.defaultSort):v.value=""});const m=e=>{e?v.value===e?v.value="":v.value=e:v.value?"asc"===v.value?v.value="desc":v.value="":v.value="asc",p("sort-change",v.value)};return(e,l)=>{const u=s;return t(),o("span",{class:"flex flex-col items-center justify-center",onClick:l[2]||(l[2]=e=>m(""))},[a(u,{name:"custom:sort-up",class:r(["text-4px cursor-pointer","asc"===i(v)?"color-[--secondary-text]":"color-[--third-text]"]),onClick:l[0]||(l[0]=n(e=>m("asc"),["self","stop"]))},null,8,["class"]),a(u,{name:"custom:sort-up",class:r(["text-4px mt-1px rotate-180 cursor-pointer","desc"===i(v)?"color-[--secondary-text]":"color-[--third-text]"]),onClick:l[1]||(l[1]=n(e=>m("desc"),["self","stop"]))},null,8,["class"])])}}},il={class:"flex mt-4px"},sl=u({__name:"collect",props:{iconClass:{},isCollected:{type:Boolean},userFavoriteGroups:{}},emits:["collect","newGroupAndCollect"],setup(l,{emit:u}){const N=l,T=u,F=e(0),M=e(""),B=e(!1),A=e(!1),D=e(!1),{t:E}=c(),L=g(()=>[{name:E("defaultGroup"),group_id:0}].concat(N.userFavoriteGroups));const U=()=>{if(M.value){if(L.value.find(e=>e.name===M.value))return void P.error(E("groupNameAlreadyExists"));T("newGroupAndCollect",M.value)}else T("collect",F.value);R()},I=e(!1);function R(){A.value=!1,M.value="",B.value=!1}return d(()=>{I.value=!0}),p(()=>{I.value=!1}),(e,u)=>{const c=s,d=k,p=y,g=w,P=S;return i(I)?(t(),v(P,{key:0,visible:i(A),"onUpdate:visible":u[3]||(u[3]=e=>function(e){if(e){if(!V())return;N.isCollected?T("collect"):A.value=!0}else A.value=!1}(e)),teleported:!0,persistent:!1,"popper-class":"[&&]:[--el-popover-padding:0]",trigger:"click",width:"248px"},{reference:x(()=>[a(c,{name:"custom:star",class:r(`${l.iconClass} ${l.isCollected?"color-[--yellow]":"color-[--icon-color]"}`)},null,8,["class"])]),default:x(()=>[f("div",{class:"flex flex-col gap-8px p-12px",onClick:u[2]||(u[2]=n(()=>{},["stop"]))},[(t(!0),o(b,null,h(i(L),e=>(t(),o("div",{key:e.group_id},[a(d,{class:"[--el-checkbox-height:14px]",label:e.name,modelValue:i(F)===e.group_id,onChange:l=>{return o=e.group_id,F.value=o,void(M.value="");var o}},null,8,["label","modelValue","onChange"])]))),128)),i(B)?(t(),v(p,{key:0,modelValue:i(M),"onUpdate:modelValue":u[0]||(u[0]=e=>_(M)?M.value=e:null),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("enterGroupName"),maxlength:20},null,8,["modelValue","placeholder"])):m("",!0),a(g,{disabled:i(B),class:"w-full",onClick:u[1]||(u[1]=e=>B.value=!0)},{default:x(()=>[a(c,{name:"material-symbols:add-circle",class:"mr-4px"}),C($(e.$t("newGroup")),1)]),_:1},8,["disabled"]),f("div",il,[a(g,{class:"flex-1",onClick:R},{default:x(()=>[C($(e.$t("cancel")),1)]),_:1}),a(g,{loading:i(D),class:"flex-1",type:"primary",onClick:U},{default:x(()=>[C($(e.$t("confirm")),1)]),_:1},8,["loading"])])])]),_:1},8,["visible"])):m("",!0)}}});function ul(){const{t:e}=c(),o=N(),t=T(),a=F(),n=M(),r=B(),i=g(()=>{var l,r,i,s;return((null==a?void 0:a.evmAddress)||(null==n?void 0:n.address)?[{id:"trade",name:e("mine")}]:[]).concat(null==(s=null==(i=null==(r=null==(l=o.totalHolders)?void 0:l.filter)?void 0:r.call(l,e=>{var l;return((null==e?void 0:e.total_address)||0)>0&&(null==(l=["16","19","25","30","31"])?void 0:l.includes(e.type))}))?void 0:i.map)?void 0:s.call(i,e=>({id:e.type,name:null==e?void 0:e[L(t.locale)]})))}),s=A("tv_markTabsVisible",!0),u=A("tv_markTabsChecked",{trade:!0,16:!1,19:!1,25:!0,30:!1,31:!0});let d=null;const v=()=>{d&&(d.onclick=null,d=null)};const m=new Map,x=new Map,f=(e,l)=>{if(!e.has(l))return;const o=e.get(l);return e.delete(l),e.set(l,o),o},b=(e,l,o)=>{if(e.has(l)&&e.delete(l),e.set(l,o),e.size>50){const l=e.keys().next().value;l&&e.delete(l)}};function h({el:e,side:l,type:o,urlPrefix:t,name:a,bucketTime:n}){var r;const i="buy"===l,s="31"===o;let u=i?`${t}signals/marks/mark-buy-${o}.png`:`${t}signals/marks/mark-sell-${o}.png`;(null==(r=e.wallet_logo)?void 0:r.logo)&&e.wallet_logo.logo.includes(".webp")&&(u=e.wallet_logo.logo);let c="transparent",d=0;return s&&(d=2,c=i?"#12B886":"#F6465D"),{id:`${e.tx_time}-${l}-${o}`,time:n,color:{background:"transparent",border:c},imageUrl:u,label:i?"B":"S",labelFontColor:"#fff",minSize:Number(e.volume)>=2e3?30:25,hoveredBorderWidth:d,borderWidth:d,text:k(a,o,e,i,n),showLabelWhenImageLoaded:!1,user_address:e.wallet_address,tx_time:e.tx_time}}function k(l,o,t,a,n){var r;const i=e(a?"bought":"sold"),s=null==l?void 0:l.replace(/\(.*\)$/,"");if(30===Number(o)){const l=e(a?"netInflow":"netOutflow"),o=e(a?"inflow":"outflow"),r=e(a?"campaignBuyAvg":"campaignSellAvg");return`${s} ${l}\n        ${o}: ${I(t.volume,2)}(${I(t.txns,0)})\n        ${r}: $${I(Number(t.volume)/(Number(t.amount)||1),4)}\n        ${l}: ${I(t.volume,2)}\n        ${R(n,"YYYY-MM-DD HH:mm")}\n      `}return`${(null==(r=t.wallet_logo)?void 0:r.name)||`${s}`} ${i}\n        ${e("amountB")}: ${I(t.amount,2)}\n        ${e("amountU")}: $${I(t.volume,2)}\n        ${e("price")}: $${I(Number(t.volume)/(Number(t.amount)||1),4)}\n        ${e("Txs")}: ${I(t.txns)}\n        ${R(n,"YYYY-MM-DD HH:mm")}\n        `}function y(e,l,o,t){var a,n,r,i,s,u,c,d,p;const v=[],m={},x=(null==(a=U().globalConfig)?void 0:a.token_logo_url)||"https://www.iconaves.com/",f=Number(l);for(const b of e){const e=Math.floor(b.time/f)*f;if(30===Number(o)){const l=(null==(n=null==b?void 0:b.buy)?void 0:n.volume)||0,o=(null==(r=null==b?void 0:b.sell)?void 0:r.volume)||0,t=`${e}-${l>o?"buy":"sell"}`,a=m[t]??(m[t]={time:e,side:l>o?"buy":"sell",amount:0,txns:0,volume:0,buyAmount:0,sellAmount:0,buyTxns:0});a.buyAmount=(null==(i=null==b?void 0:b.buy)?void 0:i.amount)||0,a.sellAmount=(null==(s=null==b?void 0:b.sell)?void 0:s.amount)||0,a.amount=Math.abs(a.buyAmount-a.sellAmount),a.buyTxns=(null==(u=null==b?void 0:b.buy)?void 0:u.txns)||0,a.sellTxns=(null==(c=null==b?void 0:b.sell)?void 0:c.txns)||0,a.txns=a.buyTxns+a.sellTxns,a.volume=Math.abs(l-o),a.buyVolume=(null==(d=null==b?void 0:b.buy)?void 0:d.volume)||0,a.sellVolume=(null==(p=null==b?void 0:b.sell)?void 0:p.volume)||0}else{if(b.buy){const l=`${e}-buy`,o=m[l]??(m[l]={time:e,side:"buy",amount:0,txns:0,volume:0});o.amount+=b.buy.amount,o.txns+=b.buy.txns,o.volume+=b.buy.volume}if(b.sell){const l=`${e}-sell`,o=m[l]??(m[l]={time:e,side:"sell",amount:0,txns:0,volume:0});o.amount+=b.sell.amount,o.txns+=b.sell.txns,o.volume+=b.sell.volume}}}for(const b of Object.values(m)){const e="buy"===b.side;v.push({id:`${b.time}-${b.side}-${o}`,time:b.time,color:{background:"transparent",border:"transparent"},imageUrl:e?`${x}signals/marks/mark-buy-${o}.png`:`${x}signals/marks/mark-sell-${o}.png`,label:e?"B":"S",labelFontColor:"#fff",minSize:20,hoveredBorderWidth:0,borderWidth:0,text:_(b,o,t),showLabelWhenImageLoaded:!1})}return v.sort((e,l)=>e.time-l.time)}function _(l,o,t){const a="buy"===l.side;if(30===Number(o)){const o=e(a?"netInflow":"netOutflow"),{buyVolume:n,sellVolume:r,buyTxns:i,sellTxns:s,volume:u}=l,c=(n||0)>0?`\n${e("inflow")}: ${I(n||0,2)}(${I(i||0,0)})\n${e("campaignBuyAvg")}: $${I((n||0)/(l.buyAmount||1),2)}`:"",d=(r||0)>0?`\n${e("outflow")}: $${I(r||0,4)}(${I(s||0,0)})\n${e("campaignSellAvg")}: $${I((r||0)/(l.sellAmount||1),2)}`:"";return`${null==t?void 0:t.replace(/\(.*\)$/,"")} ${o}${c}${d}\n${e(a?"netInflow":"netOutflow")}: ${I(u,2)}\n${R(l.time,"YYYY-MM-DD HH:mm")}\n`}const n=e(a?"bought":"sold"),{amount:r,txns:i,volume:s}=l;return`${null==t?void 0:t.replace(/\(.*\)$/,"")} ${n}\n${e("amountB")}: ${I(r,2)}\n${e("amountU")}: $${I(s,2)}\n${e("price")}: $${I(s/(r||1),4)}\n${e("Txs")}: ${I(i)}\n${R(l.time,"YYYY-MM-DD HH:mm")}\n`}return l(()=>{var e;return null==(e=o.token)?void 0:e.token},()=>{m.clear(),x.clear()}),p(()=>{v()}),{marksTabs:i,markTabsChecked:u,createMarkButton:function(e,l){var o;const t=null==e?void 0:e.createButton();t&&(null==(o=i.value)||o.forEach(l=>{var o;const a=document.createElement("button");a.style.display="flex",a.style.alignItems="center",a.style.cursor="pointer",a.style.backgroundColor="transparent",a.style.border="none",a.style.outline="none",a.style.fontSize="12px",(null==(o=u.value)?void 0:o[null==l?void 0:l.id])&&(a.style.color="#3F80F7"),a.innerText=l.name,t.appendChild(a),a.onclick=()=>{var o,t,n,r,i,s;u.value[l.id]?(u.value[l.id]=!1,a.style.color="inherit",null==(n=null==(t=null==(o=null==e?void 0:e.activeChart)?void 0:o.call(e))?void 0:t.clearMarks)||n.call(t)):(u.value[l.id]=!0,a.style.color="#3F80F7"),null==(s=null==(i=null==(r=null==e?void 0:e.activeChart)?void 0:r.call(e))?void 0:i.refreshMarks)||s.call(i)}}),l.push(t))},getMarks:function({from:e,to:l,interval:o,onDataCallback:t,pair:a,chain:n,token:r,user:s}){i.value.forEach(i=>{var c,d,p,v;const g=a+"-"+n+"-"+s+"-"+o+"-"+i.id+"-"+e+"-"+l;if(m.has(g)&&(null==(c=u.value)?void 0:c[i.id])){const e=y(f(m,g)||[],o,i.id,i.name);return void t(e||[])}if(x.has(g)&&(null==(d=u.value)?void 0:d[i.id])){const e=f(x,g)||[];return void t(e)}"trade"===i.id&&(null==(p=u.value)?void 0:p[i.id])?D({from:e,to:l,interval:o,pair:a+"-"+n,token_address:r,user_address:s}).then(e=>{const l=y(e,o,i.id,i.name);b(m,g,e||[]),t(l||[])}):(null==(v=u.value)?void 0:v[i.id])&&E({from:e,to:l,interval:o,pair_id:a+"-"+n,type:i.id}).then(e=>{if(Array.isArray(e)){const l=function(e,l,o,t){var a;const n=[],r=(null==(a=U().globalConfig)?void 0:a.token_logo_url)||"https://www.iconaves.com/",i=Number(l);for(const s of e){const e=Math.floor(s.time/i)*i;for(const l of s.holders){const{wallet_address:a,wallet_logo:i}=l;l.buy&&n.push(h({el:{...l.buy,wallet_address:a,wallet_logo:i},side:"buy",type:o,name:t,bucketTime:e,urlPrefix:r})),l.sell&&n.push(h({el:{...l.sell,wallet_address:a,wallet_logo:i},side:"sell",type:o,name:t,bucketTime:e,urlPrefix:r}))}}return n}(e||[],o,i.id,i.name);b(x,g,l),t(l||[])}})})},wsTxUpdateMarks:function({tx:e,interval:l,user:t},a){var n,r,i,s,u,c;const d=null==(n=null==o?void 0:o.token)?void 0:n.token,p=null==(r=null==o?void 0:o.token)?void 0:r.chain,v=null==o?void 0:o.pairAddress,x={time:e.time};if("maker"in e){if(d!==e.target||e.maker!==t)return;const l=e.direction;"buy"===l&&(x.buy={amount:Number((null==e?void 0:e.target_amt)||0),txns:1,volume:Number((null==e?void 0:e.price_u)||0)*Number((null==e?void 0:e.target_amt)||0)}),"sell"===l&&(x.sell={amount:Number((null==e?void 0:e.target_amt)||0),txns:1,volume:Number((null==e?void 0:e.price_u)||0)*Number((null==e?void 0:e.target_amt)||0)})}else{if(d!==e.from_address&&d!==e.to_address||e.wallet_address!==t)return;const l=(null==(i=null==o?void 0:o.token)?void 0:i.token)===e.to_address?"buy":"sell";e.time,"buy"===l&&(Number((null==e?void 0:e.to_amount)||0),Number((null==e?void 0:e.to_price_usd)||0),Number((null==e?void 0:e.to_amount)||0)),"sell"===l&&(Number((null==e?void 0:e.from_amount)||0),Number((null==e?void 0:e.from_price_usd)||0),Number((null==e?void 0:e.from_amount)||0))}m.forEach((e,o)=>{o.startsWith(v+"-"+p+"-"+t+"-"+l+"-trade")&&e.push(x)}),null==(c=null==(u=null==(s=null==a?void 0:a.activeChart)?void 0:s.call(a))?void 0:u.refreshMarks)||c.call(u)},profilingMarksCache:x,createDisplayButton:function(l,o){const t=null==l?void 0:l.createButton();if(t)return t.innerHTML=`<div style="cursor:pointer;display:flex;gap:8px;align-items:center">${e("display")}<svg xmlns="http://www.w3.org/2000/svg" width="9" height="6" viewBox="0 0 9 6" fill="#C8C7D8">\n<path d="M0.801296 0C0.123025 0 -0.2475 0.791086 0.186718 1.31215L3.47869 5.26251C3.79852 5.64631 4.388 5.64631 4.70784 5.26251L7.99981 1.31215C8.43402 0.791085 8.0635 0 7.38523 0H0.801296Z" fill="#C8C7D8"/>\n<script xmlns=""/></svg></div>`,t.onclick=e=>{v();const l=t.getBoundingClientRect(),o=l.left-320+44,a=l.top+34;r.klineSettingPop.position=[o,a],r.klineSettingPop.visible=!r.klineSettingPop.visible;let n=e.target;for(;n&&!n.classList.contains("chart-page");)n=n.parentElement;n&&(d=n,d.onclick=l=>{l.currentTarget!==e.currentTarget&&(r.klineSettingPop.visible=!1,v())})},o.push(t),t.getBoundingClientRect()},markTabsVisible:s}}const cl={key:0,class:"time"},dl={key:0,class:"text-center"},pl={class:"color-[--d-F5F5F5-l-111] text-14px mb-12px block"},vl={class:"color-[--d-F5F5F5-l-111] text-28px flex items-center"},ml={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},xl={class:""},fl={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},bl={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},hl={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},gl={key:1,class:"flex items-center bg-[--d-151A22-l-E8F1FF] py-8px px-24px radius-4px"},kl={key:0,class:"color-[--d-8CA0C3-l-566275] text-36px"},yl=j({__name:"unknownRisk",props:{isRank:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{emit:l}){const a=l,n=e.isRank?Ze():N(),r=g(()=>n.price),s=g(()=>{var e;return(null==(e=n.token)?void 0:e.opening_at)||0});function u(){a("refresh")}return(e,l)=>{var a;const c=Y;return i(r)?m("",!0):(t(),o("div",cl,[i(s)>0?(t(),o("div",dl,[f("span",pl,$(e.$t("countdown2Opening")),1),(t(),v(c,{key:i(s),timestamp:i(s),"end-time":0,onDone:u},{default:x(({formattedData:e})=>[f("div",vl,[f("div",ml,[f("span",xl,$((e.days<10?"0":"")+e.days),1),l[0]||(l[0]=f("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"D",-1))]),f("div",fl,[f("span",null,$((e.hours<10?"0":"")+e.hours),1),l[1]||(l[1]=f("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"H",-1))]),f("div",bl,[f("span",null,$((e.minutes<10?"0":"")+e.minutes),1),l[2]||(l[2]=f("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"M",-1))]),f("div",hl,[f("span",null,$((e.seconds<10?"0":"")+e.seconds),1),l[3]||(l[3]=f("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"S",-1))])])]),_:1},8,["timestamp"]))])):(t(),o("div",gl,[(null==(a=i(n))?void 0:a.loadingToken)?m("",!0):(t(),o("span",kl,$(e.$t("unknownRisk")),1))]))]))}}},[["__scopeId","data-v-66a26bf4"]]),_l={class:"flex-start items-center"},wl={class:"text-20px font-500 cursor-pointer"},Cl={key:0,class:"content text-center"},$l={class:"mt-25px text-center"},Sl={key:1},Vl={class:"flex-between mt-16px"},Pl={class:"title block"},Nl={key:0,class:"mr-4px"},Tl={key:1,class:"mr-4px"},Fl={class:"py-4px [&&]:m--12px flex flex-col"},Ml={class:"ml-4px mr-4px"},Bl={class:"ml-4px mr-4px"},Al={class:"flex-between mt-24px"},Dl={class:"text-14px"},El={class:"text-12px color-[--third-text]"},Ll={class:"ml-5px text-12px"},Ul={class:"flex mt-20px"},Il={class:"ml-4px mr-4px"},Rl={class:"ml-4px mr-4px"},jl={class:"py-4px [&&]:m--12px flex flex-col"},Yl={class:"ml-4px mr-4px"},Hl={class:"ml-4px mr-4px"},Ol={class:"flex items-center justify-center mt-10px gap-10px"},Wl=["id","value"],zl=["for"],Kl={class:"slippage-input flex-1"},Gl={class:"color-[--main-text] mr-5px"},ql={key:0,class:"flex-between mt-24px"},Xl={class:"title block"},Zl={class:"list mt-32px"},Jl=["keys","onClick"],Ql={class:"flex-between parent cursor-pointer"},eo={class:"text-16px font-500 ml-8px"},lo={key:0,class:"py-4px flex flex-col mt-16px"},oo=["onClick"],to={class:"ml-4px color-[--secondary-text]"},ao={class:"ml-4px"},no={key:0,class:"color-[--third-text] ml-4px"},ro={key:1,class:"color-[--down-color] ml-4px"},io={key:0,class:"empty text-14px color-[--icon-color] flex items-center justify-center flex-col mt-200px"},so={class:"mt-10px"},uo={class:"text-14px color-[--third-text] mt-20px"},co={class:"color-[--main-text]"},po=j(u({__name:"dialogRemind",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:u}){const p=e,V=u,T=F(),{t:M}=c(),{mode:A}=H(B()),D=ol(),{remindList:E,loadingRemind:L,len:U,remindCount:R}=H(D),{getNotifyList:j}=D;O();const Y=g({get:()=>p.modelValue??!1,set:e=>V("update:modelValue",e)}),ae=N(),ne=z(!1),re=z(0),ie=z(null),se=z(!1),ue=W(),ce=G({direction:"up",is_repeatable:0,warning_price:0}),de=z(!1),pe=z(!1),ve=z(!1),me=g(()=>ue.currentAddress||""),xe=g(()=>"up"==ce.direction?[25,50,100]:[50,30,15]),fe=g(()=>null==ae?void 0:ae.token),be=g(()=>{var e;return se.value?null==(e=E.value)?void 0:e.filter(e=>{var l;return e.token==(null==(l=fe.value)?void 0:l.token)}):E.value||[]});function he(){ce.warning_price=K((null==ae?void 0:ae.price)||0,4),ce.direction="up",ce.is_repeatable=0,window.Notification&&"granted"==Notification.permission?!1===ne.value&&me.value&&j():ne.value=!0}function ge(){window.Notification&&"denied"!==Notification.permission?Notification.requestPermission().then(e=>{"granted"===e&&(ne.value=!1)}):window.Notification&&"denied"==Notification.permission?window.open("https://support.google.com/chrome/answer/3220216?hl=en&co=GENIE.Platform%3DDesktop"):window.location.href.startsWith("https")?P.error(M("unSupportNotify")):P.error(M("domainSafe"))}function ke(){var e,l,o;if(U.value>=100)return void P.error(M("alertTip2"));if(!ce.warning_price)return void P.error(M("alertTip1"));let t={...ce,user_address:me.value,token:(null==(e=null==fe?void 0:fe.value)?void 0:e.token)||"",symbol:(null==(l=null==fe?void 0:fe.value)?void 0:l.symbol)||"",chain:(null==(o=null==fe?void 0:fe.value)?void 0:o.chain)||"",current_price:Number(null==ae?void 0:ae.price),warning_price:Number(ce.warning_price||0)};ve.value=!0,tl(t,me.value).then(e=>{P.success(M("success")),j()}).catch(e=>{P.error(M("fail"))}).finally(()=>{ve.value=!1})}function ye(e,l=0){le.confirm(M(1==l?"deleteGroupAlert":"deleteAlert"),M("tips"),{type:"warning",icon:oe(te),confirmButtonText:M("confirm"),cancelButtonText:M("cancel"),customClass:`${A.value} delete_confirm`}).then(()=>{al(e,me.value).then(e=>{P.success(M("success")),j()}).catch(e=>{P.error(M("fail"))}).finally(()=>{})}).catch(e=>{})}function _e(e){ce.direction=e,de.value=!1,ie.value=0,re.value=0}function we(e){ce.is_repeatable=e,pe.value=!1}function Ce(){let e=0;e=re.value?"up"==ce.direction?(1+re.value/100)*Number((null==ae?void 0:ae.price)||0):(1-re.value/100)*Number((null==ae?void 0:ae.price)||0):Number((null==ae?void 0:ae.price)||0),ce.warning_price=K(e||0,4)}function $e(){ie.value?"up"==ce.direction?ce.warning_price=(1+ie.value/100)*Number((null==ae?void 0:ae.price)||0):ce.warning_price=(1-ie.value/100)*Number((null==ae?void 0:ae.price)||0):ce.warning_price=Number((null==ae?void 0:ae.price)||0),ce.warning_price=K(ce.warning_price||0,4)}l(R,e=>{e&&Y.value&&he()}),l(()=>Y.value,e=>{e?he():(pe.value=!1,de.value=!1)}),l(()=>me.value,e=>{e&&!ne.value?he():E.value=[]}),l(()=>ne.value,e=>{e?E.value=[]:he()}),d(()=>{});const Se=e=>{const l=e.replace(/[^0-9.]/g,"").replace(/^0+(\d)/,"$1").replace(/(\..*?)\..*/g,"$1");ce.warning_price=l},Ve=()=>{const e=Number(ce.warning_price);ce.warning_price=isNaN(e)?0:e},Pe=()=>{T.changeConnectVisible(!0)},Ne=()=>{0==Number(ce.warning_price)&&(ce.warning_price="")},Te=()=>{0!==ie.value&&null!==ie.value||(ie.value=null)};return(e,l)=>{const u=s,c=Qe,d=S,p=y,g=w,V=el,P=k,N=Q,T=J,F=ll,M=ee,B=Z;return i(Y)?(t(),v(M,{key:0,modelValue:i(Y),"onUpdate:modelValue":l[11]||(l[11]=e=>_(Y)?Y.value=e:null),width:"640px",class:"dialog-box dialog-max dialog-remind dialog",onClose:l[12]||(l[12]=e=>Y.value=!1),"destroy-on-close":"","append-to-body":""},{header:x(()=>[f("div",_l,[f("span",wl,$(e.$t("alerts")),1)])]),default:x(()=>{var s,k;return[i(ne)?(t(),o("div",Cl,[a(u,{class:"text-30px",name:"custom:bell-close"}),f("div",$l,[C($(e.$t("notifyDenyTipBefore"))+" ",1),f("a",{class:"set",href:"",onClick:n(ge,["stop","prevent"])},$(e.$t("notifyDenyTip")),1),C(" "+$(e.$t("notifyDenyTipAfter")),1)])])):(t(),o("div",Sl,[a(c,{type:"warning",title:e.$t("remindTip"),closable:!1,"show-icon":"",style:{backgroundColor:"#FFA6221A",color:"#FFA622",border:"none",fontSize:"12px"}},null,8,["title"]),f("div",Vl,[f("span",Pl,$(e.$t("alertFrequency")),1),a(d,{"popper-class":"[--el-popover-bg-color:--border]",placement:"bottom-end",trigger:"click",visible:i(pe)},{reference:x(()=>[f("div",{class:"flex-start items-center cursor-pointer text-12px bg-[--border] px-8px py-8px",onClick:l[0]||(l[0]=n(e=>pe.value=!i(pe),["stop"]))},[1==i(ce).is_repeatable?(t(),o("span",Nl,$(e.$t("duplicate")),1)):(t(),o("span",Tl,$(e.$t("once")),1)),a(u,{name:i(pe)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px color-[--main-text]"},null,8,["name"])])]),default:x(()=>[f("div",Fl,[f("div",{class:"flex-start items-center text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[1]||(l[1]=n(e=>we(1),["stop"]))},[f("span",Ml,$(e.$t("duplicate")),1)]),f("div",{class:"flex-start items-center text-12px py-4px px-8px color hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[2]||(l[2]=n(e=>we(0),["stop"]))},[f("span",Bl,$(e.$t("once")),1)])])]),_:1},8,["visible"])]),f("div",Al,[f("span",Dl,$(e.$t("triggerCondition")),1),l[13]||(l[13]=f("div",{class:"flex-1"},null,-1)),f("span",El,$(null==(s=i(fe))?void 0:s.symbol)+" "+$(e.$t("currentPrice")),1),f("span",Ll,"$"+$(("formatNumber"in e?e.formatNumber:i(I))((null==(k=i(ae))?void 0:k.price)||0,{decimals:4,limit:6})),1)]),f("div",Ul,[a(d,{"popper-class":"[--el-popover-bg-color:--border]",placement:"bottom-start",trigger:"click",visible:i(de)},{reference:x(()=>[f("div",{class:"flex-start items-center cursor-pointer text-12px bg-[--border] px-8px",onClick:l[3]||(l[3]=n(e=>de.value=!i(de),["stop"]))},["up"==i(ce).direction?(t(),o(b,{key:0},[a(u,{class:"text-16px color-[--up-color]",name:"custom:arrow-up"}),f("span",Il,$(e.$t("gtPrice")),1)],64)):(t(),o(b,{key:1},[a(u,{class:"text-16px color-[--down-color]",name:"custom:arrow-down"}),f("span",Rl,$(e.$t("ltPrice")),1)],64)),a(u,{name:i(de)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px color-[--main-text]"},null,8,["name"])])]),default:x(()=>[f("div",jl,[f("div",{class:"flex-start items-center text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[4]||(l[4]=n(e=>_e("up"),["stop"]))},[a(u,{class:"text-16px",name:"custom:arrow-up"}),f("span",Yl,$(e.$t("gtPrice")),1)]),f("div",{class:"flex-start items-center text-12px py-4px px-8px color hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[5]||(l[5]=n(e=>_e("down"),["stop"]))},[a(u,{class:"text-16px",name:"custom:arrow-down"}),f("span",Hl,$(e.$t("ltPrice")),1)])])]),_:1},8,["visible"]),a(p,{class:"ml-8px mr-8px flex-1 h-32px",modelValue:i(ce).warning_price,"onUpdate:modelValue":l[6]||(l[6]=e=>i(ce).warning_price=e),placeholder:e.$t("placeholderNotify"),onInput:Se,onFocus:Ne,onBlur:Ve},null,8,["modelValue","placeholder"]),i(me)?(t(),v(g,{key:0,type:"primary",onClick:n(ke,["stop","prevent"]),loading:i(ve)},{default:x(()=>[C($(e.$t("createNotify")),1)]),_:1},8,["loading"])):(t(),v(g,{key:1,type:"primary",onClick:Pe},{default:x(()=>[C($(e.$t("connectWallet")),1)]),_:1}))]),f("div",Ol,[(t(!0),o(b,null,h(i(xe),(e,a)=>(t(),o("div",{key:a,class:"radio-group flex-1"},[q(f("input",{id:`radio-buy-${e}`,"onUpdate:modelValue":l[7]||(l[7]=e=>_(re)?re.value=e:null),type:"radio",value:e,class:"radio-input",onChange:n(Ce,["stop"])},null,40,Wl),[[X,i(re)]]),f("label",{for:`radio-buy-${e}`,class:r(["radio-item",{"no-checked":i(ie)}]),style:{"border-radius":"4px"}},$("up"==i(ce).direction?"+":"-")+$(e)+"%",11,zl)]))),128)),f("div",Kl,[f("span",Gl,$("up"==i(ce).direction?"+":"-"),1),a(V,{modelValue:i(ie),"onUpdate:modelValue":l[8]||(l[8]=e=>_(ie)?ie.value=e:null),class:"bg-[--border] rounded-4px",name:"slippage",type:"number",placeholder:e.$t("custom"),max:"up"==i(ce).direction?1/0:99,min:0,step:.01,"controls-position":"right",controls:!1,clearable:"",onFocus:Te,onChange:$e},null,8,["modelValue","placeholder","max"]),l[14]||(l[14]=f("span",{class:"color-[--main-text]"},"%",-1))])]),i(E).length>0?(t(),o("div",ql,[f("span",Xl,$(e.$t("createRecord")),1),a(P,{modelValue:i(se),"onUpdate:modelValue":l[9]||(l[9]=e=>_(se)?se.value=e:null),label:e.$t("currentToken")},null,8,["modelValue","label"])])):m("",!0),q((t(),v(F,{class:"hidden-scrollbar",height:"600px"},{default:x(()=>{var r;return[f("div",Zl,[(t(!0),o(b,null,h(i(be),(r,s)=>{var c;return t(),o("div",{class:"item",keys:s,onClick:n(e=>ye(r.ids,1),["stop","prevent"])},[f("div",Ql,[a(T,{to:`/token/${r.token}-${r.chain}`,class:"flex no-underline items-center",onClick:l[10]||(l[10]=n(e=>Y.value=!1,["stop","prevent"]))},{default:x(()=>[a(N,{row:r,tokenClass:"w-32px h-32px"},null,8,["row"]),f("span",eo,$(r.symbol),1)]),_:2},1032,["to"]),l[15]||(l[15]=f("div",{class:"flex-1"},null,-1)),a(u,{class:"delete text-16px cursor-pointer",name:"ic:baseline-delete"})]),(null==(c=r.children)?void 0:c.length)>0?(t(),o("ul",lo,[(t(!0),o(b,null,h(null==r?void 0:r.children,(r,s)=>(t(),o("li",{class:"flex-start items-center text-14px py-8px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",key:s,onClick:n(e=>ye([r.id],0),["stop","prevent"])},[a(u,{class:"text-16px",name:"custom:"+("up"==r.direction?"arrow-up":"arrow-down")},null,8,["name"]),f("span",to,"("+$("up"==r.direction?e.$t("gtPrice"):e.$t("ltPrice"))+")",1),f("span",ao,"$"+$(("formatNumber"in e?e.formatNumber:i(I))(r.warning_price||0,{decimals:4,limit:6})),1),0==r.is_repeatable&&(null==r?void 0:r.notified_times)>=1?(t(),o("span",no,$(e.$t("expired2")),1)):(t(),o("span",ro,$(0==r.is_repeatable?e.$t("once"):e.$t("duplicate")),1)),l[16]||(l[16]=f("div",{class:"flex-1"},null,-1)),a(u,{class:"delete-children text-14px cursor-pointer",name:"ic:baseline-delete"})],8,oo))),128))])):m("",!0)],8,Jl)}),256)),0!=(null==(r=i(be))?void 0:r.length)||i(L)?m("",!0):(t(),o("div",io,[a(u,{class:"text-40px",name:"custom:bell"}),f("span",so,$(e.$t("emptyAlert")),1)]))])]}),_:1})),[[B,i(L)]]),f("div",uo,[f("span",co,$(i(U)),1),C("/100 "+$(e.$t("alerts1")),1)])]))]}),_:1},8,["modelValue"])):m("",!0)}}}),[["__scopeId","data-v-ddd8ca94"]]),vo={id:"tv_chart_container",ref:"kline",style:{width:"100%",height:"100%"}},mo={class:"flex justify-between items-center mb-16px"},xo={class:"flex flex-wrap gap-row-16px"},fo={class:"flex flex-col gap-16px"},bo={class:"flex items-center gap-7px"},ho={class:"flex justify-between"},go={class:"flex justify-between"},ko={class:"flex justify-between"},yo={class:"flex flex-col gap-16px"},_o={class:"flex items-center gap-7px"},wo={class:"flex justify-between"},Co={class:"flex justify-between"},$o={class:"flex justify-between items-center mt-16px"},So=j(u({__name:"index",props:{isRank:{type:Boolean}},emits:["refresh"],setup(r,{expose:u,emit:y}){const w=r,{t:S}=c(),V=ae(ne.KLINE_DATE_FILTER),P=w.isRank?Ze():N(),D=F(),E=re(),L=B(),R=O(),j=M(),Y=e(0),H=g(()=>[{id:"trade",name:S("mine")},{id:"16",name:S("insiders")},{id:"19",name:S("sniper2")},{id:"25",name:S("DEV")},{id:"30",name:S("smarter")},{id:"31",name:"KOL"}]),W=A("tv_markLines1",{buy:{checked:!0,color:"#12B886"},sell:{checked:!1,color:"#F6465D"},top100Buy:{checked:!1,color:"#0D6EFD"},top100Sell:{checked:!1,color:"#FD3E3E"},kol:{checked:!1,color:"#9CA1A8"}}),K=e({}),G=g(()=>{var e;return w.isRank&&"klineRow"in P?null==(e=P.klineRow)?void 0:e.id:R.params.id}),X=Je(()=>G.value),Z=e(""),J=e(!1);let Q=!1,ee=!1;const le=e(!1),oe=g(()=>{var e,l;return(null==(e=ge(G.value))?void 0:e.chain)||(null==(l=null==P?void 0:P.token)?void 0:l.chain)||""}),te=g(()=>{var e,l;return(null==(e=ge(G.value))?void 0:e.address)||(null==(l=null==P?void 0:P.token)?void 0:l.token)}),Qe=g(()=>{var e,l,o,t,a;return(null==(t=null==(o=null==(l=null==(e=D.userInfo)?void 0:e.addresses)?void 0:l.find)?void 0:o.call(l,e=>e.chain===oe.value))?void 0:t.address)||(null==(a=null==D?void 0:D.userInfo)?void 0:a.evmAddress)||(null==j?void 0:j.address)}),el=g(()=>{var e;return(null==(e=null==P?void 0:P.token)?void 0:e.symbol)||"-"}),ll=g(()=>null==P?void 0:P.pairAddress),ol=g(()=>{var e;return(null==(e=null==P?void 0:P.pair)?void 0:e.amm)||""});let tl=!1;function al(){var e,l,o,t,a,n;Q=!1;const r=ll.value;if(J.value&&"token-id"===R.name){Il(),jl(),Yl(),Hl();const i=oe.value&&de.includes(oe.value)||!1,s="tradingview.IntervalWidget.quicks";localStorage.getItem(s),pl.value=pe(pl.value,oe.value,i),localStorage.getItem(s),ml&&(null==(e=null==ml?void 0:ml.activeChart)?void 0:e.call(ml))?(null==(l=null==ml?void 0:ml.resetCache)||l.call(ml),null==(a=null==(t=null==(o=null==ml?void 0:ml.activeChart)?void 0:o.call(ml))?void 0:t.clearMarks)||a.call(t),null==(n=null==ml?void 0:ml.setSymbol)||n.call(ml,el.value+"---"+G.value+r+(P.selectedToken?"1":"0"),pl.value,()=>{X.loadKlineLine(ml),setTimeout(()=>{Q=!0},100)})):Fl()}}l(()=>G.value,e=>{var l,o,t,a;e&&(null==(l=null==ml?void 0:ml.activeChart)?void 0:l.call(ml))&&(null==(a=null==(t=null==(o=null==ml?void 0:ml.activeChart)?void 0:o.call(ml))?void 0:t.removeAllShapes)||a.call(t))}),l(ll,e=>{e!==Z.value&&al()}),l(()=>P.selectedToken,()=>{al()}),l(Qe,()=>{var e,l,o,t,a,n;J.value&&"token-id"===R.name&&(null==(o=null==(l=null==(e=null==ml?void 0:ml.activeChart)?void 0:e.call(ml))?void 0:l.clearMarks)||o.call(l),null==(n=null==(a=null==(t=null==ml?void 0:ml.activeChart)?void 0:t.call(ml))?void 0:a.refreshMarks)||n.call(a))});const rl=ve(),il=T();let sl=null,cl=0;const dl=new Map,pl=z(localStorage.getItem("tv_resolution")||"15"),vl=me();let ml=null;const xl=A("tv_showMarket",!1);function fl(){var e;Q=!1,ee=!1,sl=null,cl=0,Il(),Yl(),Hl(),jl(),null==(e=null==ml?void 0:ml.remove)||e.call(ml),Fl()}l(()=>vl.theme,e=>{ml&&(null==ml||ml.changeTheme(e).then(()=>{var e;Ol(),null==(e=null==ml?void 0:ml.applyOverrides)||e.call(ml,{"scalesProperties.textColor":vl.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":Fe("--secondary-bg")})}))}),l(()=>il.locale,()=>{fl()});let bl=[];function hl(){ee&&(bl.forEach(e=>{var l;null==(l=null==ml?void 0:ml.removeButton)||l.call(ml,e)}),bl=[],function(){const e=null==ml?void 0:ml.createButton();if(!e)return;const l=()=>{const l=xl.value;e.innerHTML=`\n        <span style="font-size: 12px; cursor: pointer;">\n          ${l?'Price / <span style="color:#286DFF">MCap</span>':'<span style="color:#286DFF">Price</span> / MCap'}\n        </span>`};e.onclick=()=>{var e,o,t,a;xl.value=!xl.value,l(),null==(e=null==ml?void 0:ml.resetCache)||e.call(ml),null==(a=null==(t=null==(o=null==ml?void 0:ml.activeChart)?void 0:o.call(ml))?void 0:t.resetData)||a.call(t),setTimeout(()=>{var e,l,o;null==(o=null==(l=null==(e=null==ml?void 0:ml.activeChart)?void 0:e.call(ml))?void 0:l.executeActionById)||o.call(l,"chartReset")},300)},l(),bl.push(e)}(),function(){const e=null==ml?void 0:ml.createButton({align:"right",useTradingViewStyle:!1});if(!e)return;const l=()=>{e.innerHTML='<div style="display: flex;align-items: center;cursor:pointer;padding: 7px 5px 7px 0;border-radius: 6px;" onMouseOver="this.style.background=\'none\'"  onMouseLeave="this.style.background=\'none\'"><img width="18" height="18" src="https://ave.s3.ap-east-1.amazonaws.com/im/alert.png" /></div>'};e.onclick=()=>{var e,l,o,t;le.value=!le.value,null==(e=null==ml?void 0:ml.resetCache)||e.call(ml),null==(t=null==(l=null==ml?void 0:ml.activeChart)?void 0:(o=l.call(ml)).resetData)||t.call(o)},l(),bl.push(e)}(),function(){const e=null==ml?void 0:ml.createButton({align:"right",useTradingViewStyle:!1});if(!e)return;e.innerHTML='<div style="cursor:pointer"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n<path d="M15.2182 3.04349C13.7649 1.95145 11.9578 1.30436 10 1.30436C5.19744 1.30436 1.30437 5.197 1.30437 9.99998C1.30437 11.3595 1.61643 12.646 2.17263 13.7925L1.09227 14.549C0.394018 13.1844 0 11.6381 0 9.99998C0 4.47692 4.47711 0 9.99999 0C12.2907 0 14.4009 0.770215 16.0869 2.0652V0.650475C16.0869 0.29128 16.3765 0 16.7391 0C17.0996 0 17.3913 0.292122 17.3913 0.650475V3.69649C17.3913 3.87652 17.3191 4.03871 17.2015 4.15676C17.0822 4.27482 16.9195 4.34783 16.7404 4.34783H13.6944C13.3352 4.34783 13.0435 4.05826 13.0435 3.69567C13.0435 3.33563 13.3356 3.04351 13.6944 3.04351H15.2182V3.04349ZM4.78177 16.9565C6.23513 18.0486 8.04198 18.6957 9.99999 18.6957C14.8026 18.6957 18.6956 14.8021 18.6956 10C18.6956 8.89779 18.4906 7.84394 18.1169 6.87417L19.2136 6.1065C19.7202 7.30301 20 8.61839 20 10C20 15.5222 15.5227 20 10 20C7.70955 20 5.59912 19.2298 3.91308 17.9348V19.3487C3.91308 19.7087 3.62348 20 3.26089 20C2.90065 20 2.60873 19.7079 2.60873 19.3487V16.3026C2.60873 16.1235 2.68093 15.9605 2.79832 15.8432C2.91783 15.7252 3.08045 15.6521 3.25964 15.6521H6.30566C6.66508 15.6521 6.95657 15.9417 6.95657 16.3043C6.95657 16.6644 6.66444 16.9565 6.30566 16.9565H4.78177V16.9565Z" fill="#9CA1A8"/>\n</svg></div>',e.onclick=()=>{var e,l,o,t;Dl.value=Ue.KLINE,null==(e=null==ml?void 0:ml.resetCache)||e.call(ml),null==(t=null==(l=null==ml?void 0:ml.activeChart)?void 0:(o=l.call(ml)).resetData)||t.call(o)},bl.push(e)}(),$l(ml,bl))}const{getMarks:gl,marksTabs:kl,markTabsChecked:_l,wsTxUpdateMarks:wl,profilingMarksCache:Cl,createDisplayButton:$l,markTabsVisible:Sl}=ul();l(kl,()=>{Pl()}),l(Sl,e=>{var l,o,t,a,n,r;e?null==(t=null==(o=null==(l=null==ml?void 0:ml.activeChart)?void 0:l.call(ml))?void 0:o.refreshMarks)||t.call(o):null==(r=null==(n=null==(a=null==ml?void 0:ml.activeChart)?void 0:a.call(ml))?void 0:n.clearMarks)||r.call(n)});let Vl=0;function Pl(){if(J.value)Vl=0,hl();else{if(Vl>3)return;setTimeout(()=>{Vl++,Pl()},500)}}let Nl=!1,Tl=0;async function Fl(){var e,l,o;const t=(null==(l=null==(e=el.value)?void 0:e.toUpperCase)?void 0:l.call(e))||"-",a=oe.value&&de.includes(oe.value)||!1;pl.value=pe(pl.value,oe.value,a);const n=(null==(o=U().globalConfig)?void 0:o.token_logo_url)||"https://www.iconaves.com/",r=await xe();ml=new r({symbol:t.replace("<","＜")||" ",debug:!1,width:"100%",height:"100%",interval:pl.value,theme:vl.theme,container:"tv_chart_container",library_path:`${n}charting_library-29.4.0/charting_library/`,locale:be(il.locale),disabled_features:["header_symbol_search","header_screenshot","header_compare","volume_force_overlay","header_undo_redo","header_settings","header_saveload","timeframes_toolbar","symbol_search_hot_key","show_interval_dialog_on_key_press"],enabled_features:["request_only_visible_range_on_reset","seconds_resolution","saveload_separate_drawings_storage"],auto_save_delay:1,charts_storage_url:location.host,charts_storage_api_version:"1.1",timezone:fe(),time_frames:[],loading_screen:{backgroundColor:vl.isDark?"#0B0D12":"#F6F9FF",foregroundColor:"#3F80F7"},custom_css_url:`${location.origin}/tv_custom_1.css`,custom_formatters:{priceFormatterFactory:()=>({format:e=>xl.value?I(e,{decimals:2,locale:"en"}):String(I(e,{decimals:4,limit:6,locale:"en"}))})},overrides:{volumePaneSize:"small","paneProperties.topMargin":"10","scalesProperties.textColor":vl.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":vl.isDark?"#0B0D12":"#F6F9FF","paneProperties.vertGridProperties.style":2,"paneProperties.legendProperties.showLegend":!1,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.linewidth":2,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"},datafeed:{onReady:e=>{const l={supported_resolutions:Se,supports_marks:!0,supports_timescale_marks:!0,supports_time:!0};Ol(),setTimeout(()=>e(l),50)},resolveSymbol:(e,l,o)=>{var t,a,n,r,i,s,u,c,d,p;try{const e=!(!oe.value||!(null==(a=null==(t=de)?void 0:t.includes)?void 0:a.call(t,oe.value))),o=(null==(r=null==(n=el.value)?void 0:n.toUpperCase)?void 0:r.call(n))||(null==(i=null==P?void 0:P.token)?void 0:i.symbol)||"-",p=Number(null==P?void 0:P.price)||0,v={name:o,ticker:o,description:(null==(u=null==(s=null==o?void 0:o.split)?void 0:s.call(o,"---"))?void 0:u[0])||"",exchange:"Ave.ai",timezone:fe(),format:xl.value?"volume":"price",minmov:1,minmove2:0,pricescale:p>0?10**Pe(p).precision:1e10,volume_precision:2,fractional:!1,session:"24x7",has_intraday:!0,intraday_multipliers:["1","5","15","30","60","120","240"],has_seconds:!0,seconds_multipliers:["1","5","15","30"],has_daily:!0,has_weekly_and_monthly:!0,supported_resolutions:e?Se:Ve,data_status:"streaming",visible_plots_set:"ohlcv",type:"crypto",listed_exchange:(null==(d=null==(c=$e)?void 0:c(oe.value||"",ol.value))?void 0:d.show_name)||""};setTimeout(()=>l(v),0)}catch(v){o((null==(p=null==v?void 0:v.toString)?void 0:p.call(v))||"resolveSymbol err")}},getBars:(e,l,o,t,a)=>{var n,r,i;const{from:s,to:u,firstDataRequest:c}=o;try{if(c)Nl=!1,sl=null,cl=0;else if(Nl)return void t([],{noData:!0});const e={interval:he(l),token_id:G.value,from:s,to:c?0:Math.max(u,Tl||0)},o=(null==(r=null==(n=ke)?void 0:n.includes)?void 0:r.call(n,oe.value))&&!w.isRank&&"tokenAllPair"in P&&(null==P?void 0:P.tokenAllPair)&&(null==P?void 0:P.selectedToken);o||(e.pair_id=ll.value+"-"+oe.value,delete e.token_id),tl=!0;(o?ye:_e)(e).then(e=>{var l,o;const a=(null==e?void 0:e.kline_data)||[],n=(null==(l=null==a?void 0:a.map)?void 0:l.call(a,e=>({time:1e3*e.time,open:xl.value?new we(e.open||0).times((null==P?void 0:P.circulation)||0).toNumber():e.open,high:xl.value?new we(e.high||0).times((null==P?void 0:P.circulation)||0).toNumber():e.high,low:xl.value?new we(e.low||0).times((null==P?void 0:P.circulation)||0).toNumber():e.low,close:xl.value?new we(e.close||0).times((null==P?void 0:P.circulation)||0).toNumber():e.close,volume:e.volume})))||[];Z.value=(null==e?void 0:e.pair)||"",c&&(sl=(null==a?void 0:a[(null==a?void 0:a.length)-1])||null,cl=Number((null==sl?void 0:sl.close)||0),sl&&(sl.time=1e3*sl.time),Nl=(null==n?void 0:n.length)<100),(null==a?void 0:a.length)>0&&(Tl=(null==(o=null==a?void 0:a[0])?void 0:o.time)||0),t(n,{noData:!(null==n?void 0:n.length)}),setTimeout(()=>{Ce("klineDataReady").emit()},10)}).finally(()=>{tl=!1})}catch(d){a((null==(i=null==d?void 0:d.toString)?void 0:i.call(d))||"getBars err")}},subscribeBars:(e,l,o,t)=>{if(dl.has(G.value))return void Bl(l,o);const{address:a,chain:n}=ge(G.value);let r=["multi_tx",a,n];Ke.includes(n)&&(r=["simple_tx",{tks:[{ch:n,tk:a}],rt:"json"}]);const i={jsonrpc:"2.0",method:"subscribe",params:r,id:1};Bl(l,o,rl.send(i)),dl.set(G.value,i)},unsubscribeBars:e=>{var l;if(e){const e=dl.get(G.value)||{};if((null==(l=null==e?void 0:e.params)?void 0:l[1])===te.value)return;dl.forEach(e=>{var l;(null==(l=null==e?void 0:e.params)?void 0:l[1])!==te.value&&rl.send({...e,method:"unsubscribe"})}),null==dl||dl.clear()}},searchSymbols:(e,l,o,t)=>{},getMarks:(e,l,o,t,a)=>{const n=he(a);gl({from:l,to:o,interval:n,pair:ll.value,token:G.value,chain:oe.value||"",user:Qe.value,onDataCallback:t})}}}),Ne(),ml.onChartReady(()=>{var e,l,o,t,a;J.value=!0,Q=!0,vl.isDark?null==(e=null==ml?void 0:ml.applyOverrides)||e.call(ml,{"scalesProperties.textColor":"#d5d5d5"}):null==(l=null==ml?void 0:ml.applyOverrides)||l.call(ml,{"scalesProperties.textColor":"#333"}),null==(t=null==(o=null==ml?void 0:ml.activeChart)?void 0:o.call(ml))||t.onIntervalChanged().subscribe(null,e=>{var l;pl.value!==e&&(pl.value=e,localStorage.setItem("tv_resolution",e),null==(l=null==ml?void 0:ml.resetCache)||l.call(ml))}),Te(ml),Rl(),null==(a=null==ml?void 0:ml.applyOverrides)||a.call(ml,{"scalesProperties.textColor":vl.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":Fe("--secondary-bg")}),X.loadKlineLine(ml),X.saveKlineState(ml)}),null==ml||ml.headerReady().then(()=>{ee=!0,hl()}),null==ml||ml.subscribe("onMarkClick",e=>{var l,o;const{token:t,symbol:a,logo_url:n,chain:r}=(null==(l=P.tokenInfo)?void 0:l.token)||{},{target_token:i,token0_address:s,token0_symbol:u,token1_symbol:c,pair:d}=P.pair||{};let p=Qe.value;for(const[,m]of Cl){const l=null==(o=m.find(l=>l.id===e))?void 0:o.user_address;if(l){p=l;break}}const v={drawerVisible:!0,tokenInfo:{id:R.params.id,symbol:a,logo_url:n,chain:r,address:t},pairInfo:{target_token:i,token0_address:s,token0_symbol:u,token1_symbol:c,pairAddress:d},user_address:p};E.$patch(v)});let i=0;ml.subscribe("mouse_down",()=>{i=performance.now()}),ml.subscribe("mouse_up",e=>{var l,o,t;if(performance.now()-i>=200)return;const a=null==(t=null==(o=null==(l=null==ml?void 0:ml.activeChart)?void 0:l.call(ml))?void 0:o.getTimeScale)?void 0:t.call(o).coordinateToTime(e.clientX-56);if(a&&pl.value){const e=Me[pl.value]||{val:pl.value,unit:"m"},l=Be(1e3*a).add(e.val,e.unit).unix();L.isClickKlineFilter&&(null==V?void 0:V.value)&&(V.value=[String(a),String(l)])}}),null==ml||ml.subscribe("study_event",(e,l)=>{"create"!==l&&"remove"!==l||Ml||function(){var e,l,o,t;if(null==(e=null==ml?void 0:ml.activeChart)?void 0:e.call(ml)){let e=(null==(t=null==(o=null==(l=null==ml?void 0:ml.activeChart)?void 0:l.call(ml))?void 0:o.getAllStudies)?void 0:t.call(o))||[];e=e.filter((l,o)=>e.findIndex(e=>e.name===l.name)===o),localStorage.setItem(ze,JSON.stringify(e.filter(e=>"Volume"!==e.name)))}}()}),window.onbeforeunload=()=>{Ml=!0}}let Ml=!1;function Bl(e,l,o=rl.getWSInstance()){null==o||o.onmessage(o=>{var t,a,n,r,i,s;const u=Ae(o);if(!u)return;const{event:c,data:d}=u;if(c===De.SIMPLE_TX||c===De.TX){const o=(null==d?void 0:d.msg)||(null==d?void 0:d.tx),u=he(e),c=null==(t=ge(G.value))?void 0:t.address;let p="";if(p="target"in o?o.target:[o.from_address,o.to_address].find(e=>e===c)||"",p===c&&!tl){const e="pair"in o?o.pair:o.pair_address,t="price_u"in o?Number(o.price_u||0):Number((null==(n=null==(a=o.from_address)?void 0:a.toLowerCase)?void 0:n.call(a))===(null==(s=null==(i=null==(r=P.token)?void 0:r.token)?void 0:i.toLowerCase)?void 0:s.call(i))?o.from_price_usd:o.to_price_usd)||0;if(e===ll.value&&(cl=t),e!==ll.value){const e=t;if(!cl&&Math.abs(e-cl)>.35*cl)return}P.tokenPrice=t;const d=Ee(o,c,sl,u);d&&(sl={...d});const p={...d};xl.value&&p&&(p.open=new we(p.open||0).times((null==P?void 0:P.circulation)||0).toNumber(),p.high=new we(p.high||0).times((null==P?void 0:P.circulation)||0).toNumber(),p.low=new we(p.low||0).times((null==P?void 0:P.circulation)||0).toNumber(),p.close=new we(p.close||0).times((null==P?void 0:P.circulation)||0).toNumber()),p&&(null==p?void 0:p.time)&&l(p)}wl({tx:o,interval:Number(u),user:Qe.value},ml)}},"kline")}let Al=!1;const Dl=Le("kHeight",Ue.KLINE),El=Ie().height,Ll=Re("kline");function Ul(e){let l=e.clientY;if(Al=!0,!Ll)return;const{height:o}=Ge(Ll);return Dl.value=o.value,document.onmousemove=e=>{if(!Al)return;if(e.clientY>El.value)return void(Al=!1);document.getElementById("tv_chart_container").style.pointerEvents="none";const o=e.clientY<l?Dl.value-(l-e.clientY):Dl.value+e.clientY-l;o<=El.value-164&&(Dl.value=o),l=e.clientY},document.onmouseup=()=>{document.getElementById("tv_chart_container").style.pointerEvents="auto",Al=!1,document.onmousemove=null,document.onmouseup=null,(null==P?void 0:P.centerTopHeight)&&(P.centerTopHeight=Dl.value)},!1}const{resetLimitPriceLineId:Il,subscribePriceMove:Rl}=ie(()=>ml,()=>Q,xl),{resetAvgPriceLineId:jl}=se(()=>ml,()=>Q,xl,W);je(()=>ml,()=>Q,xl);const{resetBotAvgLineId:Yl}=ue(()=>ml,()=>Q,xl,W),{resetKOLLine:Hl}=ce(()=>ml,()=>Q,xl,W,(e,l=20)=>{const o=Me[pl.value]||{val:pl.value,unit:"m"};return Be(1e3*e).subtract(o.val*l,o.unit).unix()});function Ol(){var e;const l=document.querySelector("#tv_chart_container iframe"),o=null==(e=null==l?void 0:l.contentWindow)?void 0:e.document.documentElement;o&&o.style.setProperty("--secondary-bg",Fe("--secondary-bg"))}Ye(()=>{Ml=!0});const Wl=()=>{L.klineSettingPop.visible=!1};d(()=>{Fl(),nl(()=>{var e,l,o,t;null==(e=null==ml?void 0:ml.resetCache)||e.call(ml),null==(t=null==(l=null==ml?void 0:ml.activeChart)?void 0:(o=l.call(ml)).resetData)||t.call(o)}),document.addEventListener("click",Wl)}),p(()=>{var e;document.removeEventListener("click",Wl),dl.forEach(e=>{rl.send({...e,method:"unsubscribe"})}),null==dl||dl.clear(),null==(e=null==ml?void 0:ml.remove)||e.call(ml),ml=null});const zl=y;function Kl(){zl("refresh"),fl()}const Gl=e=>{var l,o,t;e||null==(t=null==(o=null==(l=null==ml?void 0:ml.activeChart)?void 0:l.call(ml))?void 0:o.clearMarks)||t.call(o),setTimeout(()=>{var e,l,o;null==(o=null==(l=null==(e=null==ml?void 0:ml.activeChart)?void 0:e.call(ml))?void 0:l.refreshMarks)||o.call(l)},20)};l(()=>L.klineSettingPop.visible,e=>{e||(K.value={buy:!1,sell:!1,kol:!1,top100Buy:!1,top100Sell:!1})});const ql=()=>{W.value.top100Buy.color="#0D6EFD",W.value.top100Sell.color="#FD3E3E"},Xl=()=>{W.value.buy.color="#19d92f",W.value.sell.color="#f6465d",W.value.kol.color="#424ADF"};return u({setScrollTop:e=>{Y.value=e}}),(e,l)=>{const u=qe,c=k,d=s,p=Xe,g=We;return t(),o(b,null,[f("div",{class:"relative",style:He({height:`${r.isRank?390:i(Dl)}px`})},[f("div",vo,null,512),q(a(yl,{isRank:r.isRank,onRefresh:Kl},null,8,["isRank"]),[[Oe,i(J)]]),a(po,{modelValue:i(le),"onUpdate:modelValue":l[0]||(l[0]=e=>_(le)?le.value=e:null)},null,8,["modelValue"])],4),r.isRank?m("",!0):(t(),o("div",{key:0,class:"w-full cursor-row-resize bg-[--border] gap-1px hover:bg-[--third-text] flex items-center justify-center h-4px",onMousedown:n(Ul,["stop","prevent"])},[(t(),o(b,null,h(4,e=>f("span",{key:e,class:"bg-[--icon-color] w-2px h-2px rounded-full"})),64))],32)),q(f("div",{style:He({transform:`translate3d(${i(L).klineSettingPop.position[0]}px,${i(L).klineSettingPop.position[1]-i(Y)}px,0)`}),class:"absolute top-0 left-0 p-20px bg-[--dialog-bg] rounded-8px w-320px text-14px z-10",onClick:l[19]||(l[19]=n(()=>{},["stop"]))},[f("div",mo,[C($(e.$t("chainToken"))+" ",1),a(u,{modelValue:i(Sl),"onUpdate:modelValue":l[1]||(l[1]=e=>_(Sl)?Sl.value=e:null),class:"[&&]:h-20px"},null,8,["modelValue"])]),q(f("div",xo,[a(c,{key:"all",class:"flex-basis-1/3 [&&]:mr-0 [&&]:[--el-checkbox-height:16px]","model-value":!Object.values(i(_l)).some(e=>!e),onChange:l[2]||(l[2]=e=>{Object.keys(i(_l)).forEach(l=>{i(_l)[l]=e}),Gl(e)})},{default:x(()=>[C($(i(S)("all")),1)]),_:1},8,["model-value"]),(t(!0),o(b,null,h(i(H),e=>(t(),v(c,{key:e.id,modelValue:i(_l)[e.id],"onUpdate:modelValue":l=>i(_l)[e.id]=l,class:"flex-basis-1/3 [&&]:mr-0 [&&]:[--el-checkbox-height:16px]",onChange:Gl},{default:x(()=>[C($(e.name),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))],512),[[Oe,i(Sl)]]),l[20]||(l[20]=f("div",{class:"my-24px h-1px border-t-solid border-t-[--dialog-divider]"},null,-1)),f("div",fo,[f("div",bo,[C($(e.$t("indicatorLine"))+" ",1),a(d,{name:"custom:reset2",class:"cursor-pointer color-[--third-text] text-10px",onClick:Xl})]),f("div",ho,[a(c,{modelValue:i(W).buy.checked,"onUpdate:modelValue":l[3]||(l[3]=e=>i(W).buy.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:x(()=>[C($(e.$t("buyMa")),1)]),_:1},8,["modelValue"]),a(g,{visible:i(K).buy,"onUpdate:visible":l[5]||(l[5]=e=>i(K).buy=e),trigger:"click",teleported:!1,persistent:!1},{content:x(()=>[a(p,{modelValue:i(W).buy.color,"onUpdate:modelValue":l[4]||(l[4]=e=>i(W).buy.color=e)},null,8,["modelValue"])]),default:x(()=>[f("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:He({background:i(W).buy.color})},null,4)]),_:1},8,["visible"])]),f("div",go,[a(c,{modelValue:i(W).sell.checked,"onUpdate:modelValue":l[6]||(l[6]=e=>i(W).sell.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:x(()=>[C($(e.$t("sellMa")),1)]),_:1},8,["modelValue"]),a(g,{visible:i(K).sell,"onUpdate:visible":l[8]||(l[8]=e=>i(K).sell=e),trigger:"click",teleported:!1,persistent:!1},{content:x(()=>[a(p,{modelValue:i(W).sell.color,"onUpdate:modelValue":l[7]||(l[7]=e=>i(W).sell.color=e)},null,8,["modelValue"])]),default:x(()=>[f("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:He({background:i(W).sell.color})},null,4)]),_:1},8,["visible"])]),f("div",ko,[a(c,{modelValue:i(W).kol.checked,"onUpdate:modelValue":l[9]||(l[9]=e=>i(W).kol.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:x(()=>[C($(e.$t("kolPosition")),1)]),_:1},8,["modelValue"]),a(g,{visible:i(K).kol,"onUpdate:visible":l[11]||(l[11]=e=>i(K).kol=e),trigger:"click",teleported:!1,persistent:!1},{content:x(()=>[a(p,{modelValue:i(W).kol.color,"onUpdate:modelValue":l[10]||(l[10]=e=>i(W).kol.color=e)},null,8,["modelValue"])]),default:x(()=>[f("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:He({background:i(W).kol.color})},null,4)]),_:1},8,["visible"])])]),l[21]||(l[21]=f("div",{class:"my-24px h-1px border-t-solid border-t-[--dialog-divider]"},null,-1)),f("div",yo,[f("div",_o,[C($(e.$t("top100"))+" ",1),a(d,{name:"custom:reset2",class:"cursor-pointer color-[--third-text] text-10px",onClick:ql})]),f("div",wo,[a(c,{modelValue:i(W).top100Buy.checked,"onUpdate:modelValue":l[12]||(l[12]=e=>i(W).top100Buy.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:x(()=>[C($(e.$t("whaleBuy")),1)]),_:1},8,["modelValue"]),a(g,{visible:i(K).top100Buy,"onUpdate:visible":l[14]||(l[14]=e=>i(K).top100Buy=e),trigger:"click",teleported:!1,persistent:!1},{content:x(()=>[a(p,{modelValue:i(W).top100Buy.color,"onUpdate:modelValue":l[13]||(l[13]=e=>i(W).top100Buy.color=e)},null,8,["modelValue"])]),default:x(()=>[f("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:He({background:i(W).top100Buy.color})},null,4)]),_:1},8,["visible"])]),f("div",Co,[a(c,{modelValue:i(W).top100Sell.checked,"onUpdate:modelValue":l[15]||(l[15]=e=>i(W).top100Sell.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:x(()=>[C($(e.$t("whaleSell")),1)]),_:1},8,["modelValue"]),a(g,{visible:i(K).top100Sell,"onUpdate:visible":l[17]||(l[17]=e=>i(K).top100Sell=e),trigger:"click",teleported:!1,persistent:!1},{content:x(()=>[a(p,{modelValue:i(W).top100Sell.color,"onUpdate:modelValue":l[16]||(l[16]=e=>i(W).top100Sell.color=e)},null,8,["modelValue"])]),default:x(()=>[f("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:He({background:i(W).top100Sell.color})},null,4)]),_:1},8,["visible"])])]),f("div",$o,[C($(e.$t("clickChartFilter"))+" ",1),a(u,{modelValue:i(L).isClickKlineFilter,"onUpdate:modelValue":l[18]||(l[18]=e=>i(L).isClickKlineFilter=e),class:"[&&]:h-20px"},null,8,["modelValue"])])],4),[[Oe,i(L).klineSettingPop.visible]])],64)}}}),[["__scopeId","data-v-4571b2ef"]]);export{So as K,rl as _,sl as a};
