import{n as e,au as r,a2 as t,D as a,E as s,F as n,bM as l,aS as i,at as o,qc as u,c as d,o as c,b as m,J as p,q1 as v,bu as f,aw as b,qd as _,a as A,M as h,t as j,bO as y,H as k,w as T,S as g,a5 as N,a6 as x,ak as $,d as w,aa as S,bQ as C,a8 as F,L as O,bS as R,bT as L,aJ as M,aM as U,ae as q,c3 as H,aN as V,_ as E,fw as J}from"./C8zCCogY.js";import{L as K,_ as P}from"./CxMvX8-5.js";import{E as Q}from"./pAvqTbq1.js";import"./C-4uyLwj.js";import"./B-JdZO_T.js";import"./HK4-8ipE.js";import"./DHI12vUc.js";import"./Dwz_iTym.js";import"./Ch2kKm0h.js";import"./BcLlRL1h.js";import"./D9w_6Z7_.js";import"./3zf6s2PU.js";import"./2xvRo4QC.js";import"./Ca6upjXL.js";import"./C535m_7q.js";import"./jvqJ-lss.js";import"./-d3z4qYr.js";import"./Bo7zwPAw.js";import"./CLZzqSQq.js";import"./BGkjShqg.js";import"./Bzhi185P.js";import"./D9paliCs.js";import"./Q01_-I3Q.js";import"./DKYpiC1k.js";import"./DDNWRfdP.js";import"./DUtGqHLY.js";import"./TbcHext3.js";import"./B6VsYDNj.js";import"./BWc5ynOe.js";import"./C-cIFx6x.js";import"./CiE6GnGM.js";import"./CuEu_puv.js";import"./DT8qK_3J.js";import"./DjDWeJrl.js";import"./B6Y1KpwL.js";import"./WWWZ5U8g.js";import"./DLGHj_Zr.js";const z=e({__name:"index",props:{currentActiveTab:{type:String,default:"Transactions"}},setup(e){const f=e,b=r(),_=o(!1),A=o(!0),h=n([]),j=o({sort_by:"",order:""}),y=o(""),k=o(""),T=o(""),g=n([]),N=t(),x=s(()=>{var e;return null==(e=b.params)?void 0:e.id}),$=s(()=>{const e=T.value?g.value||[]:h.value||[];return y.value?"sol"==k.value?(null==e?void 0:e.filter(e=>e.sol_first_transfer_in_from==y.value))||[]:(null==e?void 0:e.filter(e=>e.token_first_transfer_in_from==y.value))||[]:e||[]});function w(e){if(!l().currentAddress)return;const r={sort_by:null==e?void 0:e.sort_by,order:null==e?void 0:e.order},t={token_id:x.value,self_address:l().currentAddress,...r};j.value=r,_.value=!0,u(t).then(e=>{const r=(null==e?void 0:e.holderStats)||[];h.value=r||[]}).catch(()=>{h.value=[]}).finally(()=>{_.value=!1})}function S(e){var r;w({sort_by:e.prop,order:null==(r=e.order)?void 0:r.replace("ending","")})}function C(e){if(T.value=e||"",!T.value)return void w(j.value);const r={token_id:x.value,self_address:l().currentAddress,keyword:T.value};_.value=!0,v(r).then(e=>{g.value=Array.isArray(e)?e:[]}).catch(()=>{g.value=[]}).finally(()=>{_.value=!1})}function F(e){y.value?(y.value="",k.value=""):(y.value=e.address||"",k.value=e.type||"")}return a(()=>N.headFollowsNum.all,()=>{"Attention"==f.currentActiveTab&&w()}),a(x,()=>{"Attention"==f.currentActiveTab&&w()}),a(()=>l().currentAddress,e=>{e?"Attention"==f.currentActiveTab&&w():h.value=[]}),i(()=>{"Attention"==f.currentActiveTab&&w()}),(e,r)=>(c(),d("div",null,[m(K,{ref:"holdersRef",tableList:p($),loading:p(_),searchOriginKeyword:p(y),searchOriginType:p(k),isAttention:p(A),onHandleSortChange:S,onFilterAddress:C,onFilterOriginAddress:F},null,8,["tableList","loading","searchOriginKeyword","searchOriginType","isAttention"])]))}}),B={class:"histrory"},D={class:"top"},I={key:0,class:"content"},Y=["onClick"],Z=E(e({__name:"index",props:{currentActiveTab:{type:String,default:"Transactions"}},setup(e){const u=e,v=f(),{t:E}=b(),J=r(),K=o(!1),z=n([]),Z=s(()=>{var e;return null==(e=J.params)?void 0:e.id}),G=t(),W=o(!1),X=n(),ee=s(()=>v.token),re=s(()=>{var e;const r=q(J.params.id);return(null==r?void 0:r.chain)||(null==(e=ee.value)?void 0:e.chain)||""}),te=s(()=>Math.max(v.commonHeight-150,450));function ae(){if(!l().currentAddress)return;const e={token_id:Z.value,address:l().currentAddress};K.value=!0,_(e).then(e=>{z.value=e||[]}).finally(()=>{K.value=!1})}return a(()=>G.headFollowsNum.all,()=>{"Attention"==u.currentActiveTab&&ae()}),a(Z,()=>{"Attention"==u.currentActiveTab&&ae()}),a(()=>l().currentAddress,e=>{e?"Attention"==u.currentActiveTab&&ae():z.value=[]}),i(()=>{"Attention"==u.currentActiveTab&&ae()}),(e,r)=>{const t=S,a=C,s=M,n=Q,i=y;return c(),d("div",B,[A("div",D,[A("span",null,j(e.$t("address")),1),A("span",null,j(e.$t("remark")),1),A("span",null,j(e.$t("buy")),1),A("span",null,j(e.$t("sell")),1),A("span",null,j(e.$t("Txs"))+" ("+j(e.$t("buy1"))+")",1),A("span",null,j(e.$t("Txs"))+" ("+j(e.$t("sell1"))+")",1),A("span",null,j(e.$t("currentPosition")),1),A("span",null,j(e.$t("balance")),1),A("span",null,j(e.$t("profit")),1)]),h((c(),k(n,{height:p(te)},{default:T(()=>{var n;return[p(z).length>0?(c(),d("ul",I,[(c(!0),d(N,null,x(p(z),(s,n)=>{var i;return c(),d("li",{key:n,class:"flex",onClick:$(e=>function(e){var r;W.value=!0,null==(r=X.value)||r.getUserTxs(e.address)}({address:s.user_address}),["stop"])},[A("span",null,[m(t,{ref_for:!0,ref:"attentionTriggerRef",name:"custom:attention",class:"h-16px w-16px clickable shrink-0 color-[#F45469] align-middle",onClick:$(e=>function(e,r){const t={address:l().currentAddress,user_address:e.user_address,user_chain:re.value};H(t).then(()=>{var e;G.getFollowsNum(),V.success(E("attention1Canceled")),null==(e=z.value)||e.splice(r,1)}).catch(e=>{}).finally(()=>{})}(s,n),["stop","prevent"])},null,8,["onClick"]),w(" *"+j(null==(i=s.user_address)?void 0:i.slice(-6)),1)]),A("div",{class:"flex-end",onClick:r[0]||(r[0]=$(()=>{},["stop","prevent"]))},[m(a,{addressClass:"token-symbol ellipsis",addressStyle:"max-width: 70px",showAddressTitle:"",address:s.user_address,chain:p(re),remark:s.remark,onUpdateRemark:({remark:e})=>s.remark=e},null,8,["address","chain","remark","onUpdateRemark"])]),A("div",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.bug_amount||0,2)),1),A("div",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.sell_amount||0,2)),1),A("span",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.bug_count||0,0)),1),A("span",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.sell_count||0,0)),1),A("span",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.current_position||0,2)),1),A("span",null,"$"+j(("formatNumber"in e?e.formatNumber:p(F))(s.position_value||0,2)),1),A("div",null,[A("span",{class:"value",style:O({color:s.profit>=0?p(R)[0]:p(L)[0]})}," $"+j(("formatNumber"in e?e.formatNumber:p(F))(s.profit||0,2)),5)])],8,Y)}),128))])):g("",!0),p(z)&&0!==(null==(n=p(z))?void 0:n.length)||p(K)?g("",!0):(c(),k(s,{key:1,class:"mt-200px"}))]}),_:1},8,["height"])),[[i,p(K)]]),m(P,{ref_key:"profitLossRef1",ref:X,modelValue:p(W),"onUpdate:modelValue":r[1]||(r[1]=e=>U(W)?W.value=e:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-444be805"]]),G=e({__name:"index",props:{currentActiveTab:{type:String,default:"Transactions"}},setup(e){const t=e,a=r(),n=f(),l=s(()=>{var e;const r=q(a.params.id);return(null==r?void 0:r.chain)||(null==(e=n.token)?void 0:e.chain)||""});return(e,r)=>p(J).includes(p(l))?(c(),k(z,{key:0,currentActiveTab:t.currentActiveTab},null,8,["currentActiveTab"])):(c(),k(Z,{key:1,currentActiveTab:t.currentActiveTab},null,8,["currentActiveTab"]))}});export{G as default};
