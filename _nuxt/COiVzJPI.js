import{n as a,bv as l,gg as e,aw as t,D as r,F as i,at as s,a7 as o,M as n,ff as d,c,o as p,b as m,a as f,w as u,J as b,t as g,E as h,d as v,a8 as x,K as y,aa as w,ap as N,H as _,aJ as D,S as I,ql as P}from"./C8zCCogY.js";import{E as S,a as F}from"./C-cIFx6x.js";import"./Dwz_iTym.js";import"./pAvqTbq1.js";import"./2xvRo4QC.js";const j=["infinite-scroll-disabled"],E={class:"text-12px"},L={key:1},T={class:"text-14px"},Y={class:"flex items-center justify-end gap-4px"},k={class:"mt-[2px] mb-[5px] py-[10px] text-[12px] text-center color-[--third-text]"},z={key:0},A=a({__name:"orderDetail",props:{searchParams:{}},setup(a){const A=l(),H=e(),{t:M}=t(),O=a,U=s([]),B=i({loading:!1,finished:!1,error:!1}),C=i(""),G=h(()=>{var a,l,e;const t=(null==(e=null==(l=null==(a=H.metadata)?void 0:a.contractList)?void 0:l.reduce)?void 0:e.call(l,(a,l)=>(a[l.contractId]=l.contractName,a),{}))||{};return t.ALL=M("all"),t}),J=async()=>{if(B.value.loading||B.value.finished)return;const a={filterStatusList:"CANCELING,OPEN,PENDING",...O.searchParams};C.value&&(a.offsetData=C.value);try{B.value.loading=!0;const l=await P(a);let e=l.dataList||[];C.value&&(e=U.value.concat(e)),l.nextPageOffsetData||(B.value.finished=!0),C.value=l.nextPageOffsetData,U.value=e}catch(l){B.value.error=!0}finally{B.value.loading=!1}};return A.address&&J(),r(()=>[O.searchParams,A.address],()=>{C.value="",U.value=[],B.value.finished=!1,B.value.error=!1,B.value.loading=!1,J()}),(a,l)=>{const e=D,t=S,r=w,i=F,s=o("copy"),h=d;return n((p(),c("div",{class:"relative min-h-400px bg-[--secondary-bg]","infinite-scroll-delay":200,"infinite-scroll-disabled":b(B).loading||b(B).finished||b(B).error,"infinite-scroll-immediate":!1,"infinite-scroll-distance":300},[m(i,{fit:"",data:b(U),"header-row-class-name":"text-12px sticky top-0 z-10 font-500","cell-class-name":"color-[--main-text] text-12px"},{empty:u(()=>{var l;return[b(B).loading||0!==(null==(l=b(U))?void 0:l.length)?(p(),c("span",L)):(p(),_(e,{key:0,class:"pt-[40px]"},{default:u(()=>[f("span",E,g(a.$t("emptyNoData")),1)]),_:1}))]}),default:u(()=>[m(t,{label:b(M)("markets1"),prop:"contractId"},{default:u(({row:a})=>[f("span",T,g(b(G)[a.contractId]),1)]),_:1},8,["label"]),m(t,{width:100,label:b(M)("filledQty"),prop:"fillSize"},{default:u(({row:l})=>[v(g(("formatNumber"in a?a.formatNumber:b(x))(l.fillSize))+" "+g(b(G)[l.contractId].replace("USD","")),1)]),_:1},8,["label"]),m(t,{width:100,align:"right",label:b(M)("filledPrice"),prop:"fillPrice"},{default:u(({row:l})=>[v(g(("formatNumber"in a?a.formatNumber:b(x))(l.fillPrice,{decimals:2,limit:20})),1)]),_:1},8,["label"]),m(t,{align:"right",label:b(M)("role"),prop:"direction"},null,8,["label"]),m(t,{align:"right",label:b(M)("fee"),prop:"fillFee"},{default:u(({row:l})=>[v(g(("formatNumber"in a?a.formatNumber:b(x))(l.fillFee,{decimals:3,limit:20})),1)]),_:1},8,["label"]),m(t,{align:"right",label:b(M)("tradeType"),prop:"orderSide"},{default:u(({row:a})=>[f("span",{class:y("BUY"===a.orderSide?"color-[--up-color]":"color-[--down-color]")},g("BUY"===a.orderSide?b(M)("buy"):b(M)("sell")),3)]),_:1},8,["label"]),m(t,{align:"right",label:b(M)("filledType"),prop:"tradeType2"},{default:u(({row:a})=>[v(g(b(M)("trades")),1)]),_:1},8,["label"]),m(t,{align:"right",label:b(M)("tradeNo"),prop:"matchFillId"},{default:u(({row:a})=>[f("div",Y,[v(g(a.matchFillId.slice(0,4))+"..."+g(a.matchFillId.slice(-4)),1),n(m(r,{name:"bxs:copy",class:"color-[#5A5E64]"},null,512),[[s,a.matchFillId]])])]),_:1},8,["label"]),m(t,{align:"right",label:b(M)("tradeTime"),prop:"matchTime"},{default:u(({row:a})=>[v(g(b(N)(Number(a.matchTime)).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1},8,["label"])]),_:1},8,["data"]),f("div",k,[b(B).loading&&b(C)?(p(),c("span",z,g(b(M)("loading")),1)):I("",!0)])],8,j)),[[h,J]])}}});export{A as default};
