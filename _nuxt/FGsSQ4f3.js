import{f as t,z as e,U as l,M as a,bW as n,bR as s,bS as i,V as o,y as u,I as r,r as p,g as c,bV as x,N as d,c as m,o as v,O as g,B as h,b as f,K as b,C as y,t as k,P as w,c0 as S,i as $,s as V,w as B,a as T,F as _,D as q,J as F,G as A,c1 as C,Q as j,c2 as L,d as M,a1 as Q,c3 as P,bP as G,a0 as N}from"./C0VmCwYl.js";import{S as U}from"./C6Y8sTuD.js";const D={class:"items-center inline-flex"},H={key:0,class:"w-14px h-14px bg-[--secondary-text] rounded-full flex items-center justify-center mr-5px"},I={key:1,class:"w-14px h-14px bg-[--secondary-text] rounded-full flex items-center justify-center mr-5px"},K={key:2,class:"mr-5px color-[--secondary-text] text-12px"},O=["src"],R={key:3,class:"ml-20px flex justify-end items-center text-12px"},z={class:"color-[--secondary-text] mr-5px"},E={class:"flex items-center justify-between p-1px rounded-4px text-12px h-28px bg-[--main-input-button-bg] px-2px py-2px"},J=["id","onClick","onMouseenter"],W={class:"text-14px mt-4px mb-4px flex-start"},X={class:"mr-4px color-[--third-text] text-14px"},Y={key:0},Z={key:1},tt={key:0,class:"text-14px mt-4px mb-4px flex-start"},et={class:"mr-4px color-[--third-text] text-14px"},lt={key:1,class:"text-14px mt-4px mb-4px flex-start"},at={class:"mr-4px color-[--third-text] text-14px whitespace-nowrap block"},nt={class:"whitespace-nowrap"},st={class:"text-14px mt-4px mb-4px flex-start"},it={class:"mr-4px color-[--third-text] text-14px whitespace-nowrap"},ot={class:"text-14px mt-4px mb-4px flex-start"},ut={class:"mr-4px color-[--third-text] text-14px"},rt=t({__name:"quickSwapSet",props:{chain:{},quickBuyValue:{default:"0.01"},showQuickAmount:{type:Boolean},settingsButtonVisible:{type:Boolean,default:!0},quickTextVisible:{type:Boolean,default:!0}},emits:["update:quickBuyValue"],setup(t,{emit:rt}){e();const pt=l(),ct=a(),xt=n(),dt=s(),mt=i(),vt=o(),gt=rt,ht=t,ft=u(),bt=r(0),yt=p(!1),kt=p("s1"),wt=p({}),St=p(null),$t=c((()=>vt.provider&&vt.address&&!pt.evmAddress)),Vt=c((()=>ht.chain&&pt.isSupportChains.includes(ht.chain)&&!$t.value)),Bt=c((()=>ht.settingsButtonVisible&&!$t.value)),Tt=c((()=>{var t,e;const l=ht.chain;if(!pt.isSupportChains.includes(l))return"";const a=null==(e=null==(t=dt.botSettings)?void 0:t[l])?void 0:e[kt.value],n=null==a?void 0:a.mev,{gasTip1List:s,gasTip2List:i}=x(xt.gasTip,l),o=n?s:i,u=n?0:1,r=null==a?void 0:a.gas[u];return(null==r?void 0:r.customFee)||(null==o?void 0:o[null==r?void 0:r.level])})),_t=c({get:()=>ht.quickBuyValue,set(t){gt("update:quickBuyValue",t)}});function qt(t){t&&(null==t?void 0:t.id)&&(wt.value[null==t?void 0:t.id]=t)}function Ft(t){kt.value=t,St.value=wt.value[t]||null,yt.value=!0,function(){var t;const e=ht.chain;if(!L(e))return;null==(t=P(e))||t.getFeeData().then((t=>{t&&(bt.value=new Q(t.gasPrice||0).toNumber())}))}()}function At(){var t,e,l,a,n,s,i,o;const u=ht.chain;if(L(u)&&(null==(t=null==pt?void 0:pt.isSupportChains)?void 0:t.includes(u))){const t=null==(l=null==(e=dt.botSettings)?void 0:e[u])?void 0:l[kt.value],r=null==t?void 0:t.mev,p=(null==(n=null==(a=xt.mainTokensPrice)?void 0:a.find((t=>{var e;return t.chain===u&&t.token===(null==(e=G(u))?void 0:e.wmain_wrapper)})))?void 0:n.current_price_usd)||mt.swap.native.price||0,{gasTip1List:c,gasTip2List:d}=x(xt.gasTip,u),m=r?c:d,v=r?null==t?void 0:t.gas[0]:null==t?void 0:t.gas[1],g=(null==v?void 0:v.customFee)||(null==m?void 0:m[null==v?void 0:v.level])||"3",h=(null==(o=null==(i=null==(s=xt.gasTip)?void 0:s.find)?void 0:i.call(s,(t=>t.chain===u&&t.mev===!!r)))?void 0:o.gasLimit)||2e5;return N(new Q(bt.value).plus(new Q(g).times(String(10**9))).times(h).times(p).div(String(10**18)).toFixed(),2)}return 0}return(t,e)=>{var l;const a=y,n=w,s=j,i=d("tooltip");return v(),m("div",D,[t.quickTextVisible?(v(),m("span",H,[f(a,{class:"color-[--main-bg] text-10px",name:"mynaui:lightning-solid"})])):g((v(),m("span",I,[f(a,{class:"color-[--main-bg] text-10px",name:"mynaui:lightning-solid"})])),[[i,t.$t("quick")]]),t.quickTextVisible?(v(),m("span",K,k(t.$t("quick")),1)):h("",!0),f(n,{modelValue:$(_t),"onUpdate:modelValue":e[0]||(e[0]=t=>V(_t)?_t.value=t:null),modelModifiers:{trim:!0},style:{"--el-input-text-color":"var(--main-text)","border-radius":"4px",width:"88px",height:"28px"},placeholder:"0",clearable:"",type:"text",onInput:e[1]||(e[1]=t=>{_t.value=t.replace(/\-|[^\d.]/g,"")}),onBlur:e[2]||(e[2]=t=>function(t){var e,l,a;const n=t,s=(null==(a=null==(l=null==(e=new Q(n||0))?void 0:e.toFixed)?void 0:l.call(e).match(new RegExp("[0-9]*(\\.[0-9]{0,4})?")))?void 0:a[0])||"";String(n)!==String(s)&&(""===n?_t.value="":0===Number(s)?_t.value="0":_t.value=s)}($(_t))),onKeydown:e[3]||(e[3]=S((t=>{var e;return null==(e=null==t?void 0:t.target)?void 0:e.blur()}),["enter"]))},{prefix:B((()=>[t.chain?(v(),m("img",{key:0,class:"rounded-full w-14px h-14px mr-4px!",src:`${$(ct).token_logo_url}chain/${t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,O)):h("",!0)])),_:1},8,["modelValue"]),$(Vt)&&$(Bt)?(v(),m("div",R,[T("span",z,k(t.$t("default")),1),T("div",E,[(v(!0),m(_,null,q("BotSettingsArr"in t?t.BotSettingsArr:$(C),(l=>{var a,n;return v(),m("button",{id:l.value,key:l.value,ref_for:!0,ref:qt,class:A(["cursor-pointer border-none font-400 rounded-4px min-w-36px py-5px px-10px text-center",""+(l.value===(null==(n=null==(a=$(dt).botSettings)?void 0:a[t.chain])?void 0:n.selected)?"color-[--main-text] bg-[--tab-active-bg]":"color-[--secondary-text] bg-transparent")]),type:"button",onClick:F((e=>$(dt).botSettings[t.chain].selected=l.value),["stop"]),onMouseenter:t=>Ft(l.value),onMouseleave:e[4]||(e[4]=t=>yt.value=!1)},k(l.label),43,J)})),128))])])):h("",!0),$(Vt)?(v(),b(U,{key:4,class:"ml-12px",chain:t.chain,setting:null==(l=$(dt))?void 0:l.botSettings[t.chain],showQuickAmount:t.showQuickAmount},null,8,["chain","setting","showQuickAmount"])):h("",!0),f(s,{visible:$(yt),"onUpdate:visible":e[5]||(e[5]=t=>V(yt)?yt.value=t:null),"popper-class":"new-popover","virtual-ref":$(St),"virtual-triggering":"",trigger:"contextmenu",placement:"bottom","popper-style":"min-width: auto; width: auto;"},{default:B((()=>{var e,l,n,s,o,u,r,p,c,x;return[T("ul",null,[T("li",W,[g(f(a,{name:"custom:slippage",class:"text-14px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,512),[[i,t.$t("slippage")]]),T("span",X,k(t.$t("slippage")),1),"auto"!==(null==(n=null==(l=null==(e=$(dt).botSettings)?void 0:e[t.chain])?void 0:l[$(kt)])?void 0:n.slippage)?(v(),m("span",Y,k(null==(u=null==(o=null==(s=$(dt).botSettings)?void 0:s[t.chain||""])?void 0:o[$(kt)])?void 0:u.slippage)+"%",1)):(v(),m("span",Z,k(t.$t("auto")),1))]),$(L)(t.chain||"")?(v(),m("li",tt,[g(f(a,{name:"custom:gas",class:"text-14px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,512),[[i,t.$t("estimatedGas")]]),T("span",et,k(t.$t("estimatedGas")),1),M(" $"+k(At()),1)])):h("",!0),"solana"===t.chain?(v(),m("li",lt,[g(f(a,{name:"custom:gas",class:"text-14px color-[--third-text] mr-6px cursor-pointer ml-0"},null,512),[[i,t.$t("priorityFee")]]),T("span",at,k(t.$t("priorityFee")),1),T("span",nt,k($(Tt))+" SOL",1)])):h("",!0),T("li",st,[g(f(a,{name:`custom:half-${$(ft).mode}`,class:"text-18px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,8,["name"]),[[i,t.$t("autoSellHalf")]]),T("span",it,k(t.$t("autoSellHalf")),1),M(" "+k((null==(r=$(dt).autoSellConfigs)?void 0:r.autoSell)?t.$t("on"):t.$t("off")),1)]),T("li",ot,[g(f(a,{name:"custom:mev",class:"text-16px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,512),[[i,t.$t("mev")]]),T("span",ut,k(t.$t("mev")),1),M(" "+k((null==(x=null==(c=null==(p=$(dt).botSettings)?void 0:p[t.chain])?void 0:c[$(kt)])?void 0:x.mev)?t.$t("on"):t.$t("off")),1)])])]})),_:1},8,["visible","virtual-ref"])])}}});export{rt as _};
