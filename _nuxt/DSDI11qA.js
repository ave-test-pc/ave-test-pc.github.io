import{g as e,i as t,e4 as l,r as o,m as r,l as a,I as n,dN as s,cv as i,p as c,et as d,k as u,dZ as h,eI as m,ex as f,cd as w,cb as p,e3 as g,dS as y,c5 as x,f as v,ct as R,el as b,eP as S,b as T,eO as H,n as C,ce as I,eQ as E,aq as M,dM as O,F as K,eR as W,c4 as D,al as L,dh as A,aw as z,bT as k,eS as j,bA as F,ec as V,eT as G,eU as N,ej as $,b4 as P,ch as B,v as q,ca as U,eV as _,z as X,T as Y,eW as Q,K as Z,o as J,w as ee,a2 as te,D as le,ar as oe,as as re,c as ae,B as ne,aP as se,aQ as ie,t as ce,a as de,G as ue,_ as he}from"./C0VmCwYl.js";import{v as me,d as fe,e as we,I as pe,S as ge,F as ye,f as xe,B as ve,A as Re,g as be,R as Se,h as Te,i as He,j as Ce,k as Ie,l as Ee,m as Me,D as Oe,C as Ke,n as We,o as De,p as Le,E as Ae}from"./CJ5C3yTe.js";import{c as ze,r as ke}from"./BfdQ9pQL.js";import"./zMOKQAqQ.js";var je=(e=>(e.ASC="asc",e.DESC="desc",e))(je||{}),Fe=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(Fe||{}),Ve=(e=>(e.LEFT="left",e.RIGHT="right",e))(Ve||{});const Ge={asc:"desc",desc:"asc"},Ne=Symbol("placeholder");const $e=(l,{mainTableRef:r,leftTableRef:d,rightTableRef:u,tableInstance:h,ns:m,isScrolling:f})=>{const w=a(),{emit:p}=w,g=n(!1),y=o(l.defaultExpandedRowKeys||[]),x=o(-1),v=n(null),R=o({}),b=o({}),S=n({}),T=n({}),H=n({}),C=e((()=>s(l.estimatedRowHeight)));function I({hovered:e,rowKey:t}){if(f.value)return;h.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach((t=>{e?t.classList.add(m.is("hovered")):t.classList.remove(m.is("hovered"))}))}const E=i((()=>{var e,l,o,a;g.value=!0,R.value={...t(R),...t(b)},M(t(v),!1),b.value={},v.value=null,null==(e=r.value)||e.forceUpdate(),null==(l=d.value)||l.forceUpdate(),null==(o=u.value)||o.forceUpdate(),null==(a=w.proxy)||a.$forceUpdate(),g.value=!1}),0);function M(e,l=!1){t(C)&&[r,d,u].forEach((o=>{const r=t(o);r&&r.resetAfterRowIndex(e,l)}))}return{expandedRowKeys:y,lastRenderedRowIndex:x,isDynamic:C,isResetting:g,rowHeights:R,resetAfterIndex:M,onRowExpanded:function({expanded:e,rowData:o,rowIndex:r,rowKey:a}){var n,s;const i=[...t(y)],d=i.indexOf(a);e?-1===d&&i.push(a):d>-1&&i.splice(d,1),y.value=i,p("update:expandedRowKeys",i),null==(n=l.onRowExpand)||n.call(l,{expanded:e,rowData:o,rowIndex:r,rowKey:a}),null==(s=l.onExpandedRowsChange)||s.call(l,i),h.vnode.el.querySelector(`.${m.is("hovered")}[rowkey="${String(a)}"]`)&&c((()=>I({hovered:!0,rowKey:a})))},onRowHovered:I,onRowsRendered:function(e){var o;null==(o=l.onRowsRendered)||o.call(l,e),e.rowCacheEnd>t(x)&&(x.value=e.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:l,rowIndex:o},r){r?r===Ve.RIGHT?H.value[e]=l:S.value[e]=l:T.value[e]=l;const a=Math.max(...[S,H,T].map((t=>t.value[e]||0)));t(R)[e]!==a&&(!function(e,l,o){const r=t(v);(null===r||r>o)&&(v.value=o),b.value[e]=l}(e,a,o),E())}}},Pe=(e,t)=>e+t,Be=e=>d(e)?e.reduce(Pe,0):e,qe=(e,t,l={})=>f(e)?e(t):null!=e?e:l,Ue=e=>(["width","maxWidth","minWidth","height"].forEach((t=>{e[t]=h(e[t])})),e),_e=e=>m(e)?t=>u(e,t):e;function Xe(i){const c=o(),u=o(),m=o(),{columns:f,columnsStyles:g,columnsTotalWidth:y,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,hasFixedColumns:R,mainColumns:b,onColumnSorted:S}=function(o,r,a){const n=e((()=>t(r).map(((e,t)=>{var l,o;return{...e,key:null!=(o=null!=(l=e.key)?l:e.dataKey)?o:t}})))),s=e((()=>t(n).filter((e=>!e.hidden)))),i=e((()=>t(s).filter((e=>"left"===e.fixed||!0===e.fixed)))),c=e((()=>t(s).filter((e=>"right"===e.fixed)))),d=e((()=>t(s).filter((e=>!e.fixed)))),u=e((()=>{const e=[];return t(i).forEach((t=>{e.push({...t,placeholderSign:Ne})})),t(d).forEach((t=>{e.push(t)})),t(c).forEach((t=>{e.push({...t,placeholderSign:Ne})})),e})),h=e((()=>t(i).length||t(c).length)),m=e((()=>t(n).reduce(((e,l)=>(e[l.key]=((e,t,l)=>{var o;const r={flexGrow:0,flexShrink:0,...l?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};l||(r.flexShrink=1);const a={...null!=(o=e.style)?o:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a})(l,t(a),o.fixed),e)),{}))),f=e((()=>t(s).reduce(((e,t)=>e+t.width),0))),w=e=>t(n).find((t=>t.key===e));return{columns:n,columnsStyles:m,columnsTotalWidth:f,fixedColumnsOnLeft:i,fixedColumnsOnRight:c,hasFixedColumns:h,mainColumns:u,normalColumns:d,visibleColumns:s,getColumn:w,getColumnStyle:e=>t(m)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(e){var t;const{key:r}=e.currentTarget.dataset;if(!r)return;const{sortState:a,sortBy:n}=o;let s=je.ASC;s=l(a)?Ge[a[r]]:Ge[n.order],null==(t=o.onColumnSort)||t.call(o,{column:w(r),key:r,order:s})}}}(i,w(i,"columns"),w(i,"fixed")),{scrollTo:T,scrollToLeft:H,scrollToTop:C,scrollToRow:I,onScroll:E,onVerticalScroll:M,scrollPos:O}=((e,{mainTableRef:l,leftTableRef:a,rightTableRef:n,onMaybeEndReached:s})=>{const i=o({scrollLeft:0,scrollTop:0});function c(e){var t,o,r;const{scrollTop:s}=e;null==(t=l.value)||t.scrollTo(e),null==(o=a.value)||o.scrollToTop(s),null==(r=n.value)||r.scrollToTop(s)}function d(e){i.value=e,c(e)}function u(e){i.value.scrollTop=e,c(t(i))}return r((()=>t(i).scrollTop),((e,t)=>{e>t&&s()})),{scrollPos:i,scrollTo:d,scrollToLeft:function(e){var o,r;i.value.scrollLeft=e,null==(r=null==(o=l.value)?void 0:o.scrollTo)||r.call(o,t(i))},scrollToTop:u,scrollToRow:function(e,t="auto"){var o;null==(o=l.value)||o.scrollToRow(e,t)},onScroll:function(t){var l;d(t),null==(l=e.onScroll)||l.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:l}=t(i);e!==l&&u(e)}}})(i,{mainTableRef:c,leftTableRef:u,rightTableRef:m,onMaybeEndReached:function(){const{onEndReached:e}=i;if(!e)return;const{scrollTop:l}=t(O),o=t(q),r=t(Z),a=o-(l+r)+i.hScrollbarSize;!ae.value&&t(A)>=0&&o<=l+t(X)-t(le)?(ae.value=!0,e(a)):ae.value=!1}}),K=p("table-v2"),W=a(),D=n(!1),{expandedRowKeys:L,lastRenderedRowIndex:A,isDynamic:z,isResetting:k,rowHeights:j,resetAfterIndex:F,onRowExpanded:V,onRowHeightChange:G,onRowHovered:N,onRowsRendered:$}=$e(i,{mainTableRef:c,leftTableRef:u,rightTableRef:m,tableInstance:W,ns:K,isScrolling:D}),{data:P,depthMap:B}=((l,{expandedRowKeys:a,lastRenderedRowIndex:n,resetAfterIndex:s})=>{const i=o({}),c=e((()=>{const e={},{data:o,rowKey:r}=l,n=t(a);if(!n||!n.length)return o;const s=[],c=new Set;n.forEach((e=>c.add(e)));let u=o.slice();for(u.forEach((t=>e[t[r]]=0));u.length>0;){const t=u.shift();s.push(t),c.has(t[r])&&d(t.children)&&t.children.length>0&&(u=[...t.children,...u],t.children.forEach((l=>e[l[r]]=e[t[r]]+1)))}return i.value=e,s})),u=e((()=>{const{data:e,expandColumnKey:o}=l;return o?t(c):e}));return r(u,((e,t)=>{e!==t&&(n.value=-1,s(0,!0))})),{data:u,depthMap:i}})(i,{expandedRowKeys:L,lastRenderedRowIndex:A,resetAfterIndex:F}),q=e((()=>{const{estimatedRowHeight:e,rowHeight:l}=i,o=t(P);return s(e)?Object.values(t(j)).reduce(((e,t)=>e+t),0):o.length*l})),{bodyWidth:U,fixedTableHeight:_,mainTableHeight:X,leftTableWidth:Y,rightTableWidth:Q,windowHeight:Z,footerHeight:J,emptyStyle:ee,rootStyle:te,headerHeight:le}=((l,{columnsTotalWidth:o,rowsHeight:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:n})=>{const i=e((()=>{const{fixed:e,width:r,vScrollbarSize:a}=l,n=r-a;return e?Math.max(Math.round(t(o)),n):n})),c=e((()=>{const{height:e=0,maxHeight:o=0,footerHeight:a,hScrollbarSize:n}=l;if(o>0){const e=t(p),l=t(r),s=t(w)+e+l+n;return Math.min(s,o-a)}return e-a})),d=e((()=>{const{maxHeight:e}=l,o=t(c);if(s(e)&&e>0)return o;const a=t(r)+t(w)+t(p);return Math.min(o,a)})),u=e=>e.width,m=e((()=>Be(t(a).map(u)))),f=e((()=>Be(t(n).map(u)))),w=e((()=>Be(l.headerHeight))),p=e((()=>{var e;return((null==(e=l.fixedData)?void 0:e.length)||0)*l.rowHeight})),g=e((()=>t(c)-t(w)-t(p))),y=e((()=>{const{style:e={},height:t,width:o}=l;return Ue({...e,height:t,width:o})})),x=e((()=>Ue({height:l.footerHeight}))),v=e((()=>({top:h(t(w)),bottom:h(l.footerHeight),width:h(l.width)})));return{bodyWidth:i,fixedTableHeight:d,mainTableHeight:c,leftTableWidth:m,rightTableWidth:f,windowHeight:g,footerHeight:x,emptyStyle:v,rootStyle:y,headerHeight:w}})(i,{columnsTotalWidth:y,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,rowsHeight:q}),oe=o(),re=e((()=>{const e=0===t(P).length;return d(i.fixedData)?0===i.fixedData.length&&e:e}));const ae=o(!1);return r((()=>t(q)),(()=>ae.value=!1)),r((()=>i.expandedRowKeys),(e=>L.value=e),{deep:!0}),{columns:f,containerRef:oe,mainTableRef:c,leftTableRef:u,rightTableRef:m,isDynamic:z,isResetting:k,isScrolling:D,hasFixedColumns:R,columnsStyles:g,columnsTotalWidth:y,data:P,expandedRowKeys:L,depthMap:B,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,mainColumns:b,bodyWidth:U,emptyStyle:ee,rootStyle:te,footerHeight:J,mainTableHeight:X,fixedTableHeight:_,leftTableWidth:Y,rightTableWidth:Q,showEmpty:re,getRowHeight:function(e){const{estimatedRowHeight:l,rowHeight:o,rowKey:r}=i;return l?t(j)[t(P)[e][r]]||l:o},onColumnSorted:S,onRowHovered:N,onRowExpanded:V,onRowsRendered:$,onRowHeightChange:G,scrollTo:T,scrollToLeft:H,scrollToTop:C,scrollToRow:I,onScroll:E,onVerticalScroll:M}}const Ye=Symbol("tableV2"),Qe="tableV2GridScrollLeft",Ze=String,Je={type:y(Array),required:!0},et={type:y(Array)},tt={...et,required:!0},lt=String,ot={type:y(Array),default:()=>g([])},rt={type:Number,required:!0},at={type:y([String,Number,Symbol]),default:"id"},nt={type:y(Object)},st=x({class:String,columns:Je,columnsStyles:{type:y(Object),required:!0},depth:Number,expandColumnKey:lt,estimatedRowHeight:{...me.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:y(Function)},onRowHover:{type:y(Function)},onRowHeightChange:{type:y(Function)},rowData:{type:y(Object),required:!0},rowEventHandlers:{type:y(Object)},rowIndex:{type:Number,required:!0},rowKey:at,style:{type:y(Object)}}),it={type:Number,required:!0},ct=x({class:String,columns:Je,fixedHeaderData:{type:y(Array)},headerData:{type:y(Array),required:!0},headerHeight:{type:y([Number,Array]),default:50},rowWidth:it,rowHeight:{type:Number,default:50},height:it,width:it}),dt=x({columns:Je,data:tt,fixedData:et,estimatedRowHeight:st.estimatedRowHeight,width:rt,height:rt,headerWidth:rt,headerHeight:ct.headerHeight,bodyWidth:rt,rowHeight:rt,cache:fe.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:me.scrollbarAlwaysOn,scrollbarStartGap:me.scrollbarStartGap,scrollbarEndGap:me.scrollbarEndGap,class:Ze,style:nt,containerStyle:nt,getRowHeight:{type:y(Function),required:!0},rowKey:st.rowKey,onRowsRendered:{type:y(Function)},onScroll:{type:y(Function)}}),ut=x({cache:dt.cache,estimatedRowHeight:st.estimatedRowHeight,rowKey:at,headerClass:{type:y([String,Function])},headerProps:{type:y([Object,Function])},headerCellProps:{type:y([Object,Function])},headerHeight:ct.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:y([String,Function])},rowProps:{type:y([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:y([Object,Function])},columns:Je,data:tt,dataGetter:{type:y(Function)},fixedData:et,expandColumnKey:st.expandColumnKey,expandedRowKeys:ot,defaultExpandedRowKeys:ot,class:Ze,fixed:Boolean,style:{type:y(Object)},width:rt,height:rt,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:me.hScrollbarSize,vScrollbarSize:me.vScrollbarSize,scrollbarAlwaysOn:we.alwaysOn,sortBy:{type:y(Object),default:()=>({})},sortState:{type:y(Object),default:void 0},onColumnSort:{type:y(Function)},onExpandedRowsChange:{type:y(Function)},onEndReached:{type:y(Function)},onRowExpand:st.onRowExpand,onScroll:dt.onScroll,onRowsRendered:dt.onRowsRendered,rowEventHandlers:st.rowEventHandlers});var ht=v({name:"ElTableV2Header",props:ct,setup(l,{slots:r,expose:a}){const n=p("table-v2"),s=R(Qe),i=o(),d=e((()=>Ue({width:l.width,height:l.height}))),u=e((()=>Ue({width:l.rowWidth,height:l.height}))),h=e((()=>b(t(l.headerHeight)))),m=e=>{const l=t(i);c((()=>{(null==l?void 0:l.scroll)&&l.scroll({left:e})}))},f=()=>{const e=n.e("fixed-header-row"),{columns:t,fixedHeaderData:o,rowHeight:a}=l;return null==o?void 0:o.map(((l,o)=>{var n;const s=Ue({height:a,width:"100%"});return null==(n=r.fixed)?void 0:n.call(r,{class:e,columns:t,rowData:l,rowIndex:-(o+1),style:s})}))},w=()=>{const e=n.e("dynamic-header-row"),{columns:o}=l;return t(h).map(((t,l)=>{var a;const n=Ue({width:"100%",height:t});return null==(a=r.dynamic)?void 0:a.call(r,{class:e,columns:o,headerIndex:l,style:n})}))};return S((()=>{(null==s?void 0:s.value)&&m(s.value)})),a({scrollToLeft:m}),()=>{if(!(l.height<=0))return T("div",{ref:i,class:l.class,style:t(d),role:"rowgroup"},[T("div",{style:t(u),class:n.e("header")},[w(),f()])])}}});const mt=({name:l,clearCache:r,getColumnPosition:n,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:d,getEstimatedTotalHeight:h,getEstimatedTotalWidth:m,getColumnOffset:f,getRowOffset:w,getRowPosition:g,getRowStartIndexForOffset:y,getRowStopIndexForStartIndex:x,initCache:R,injectToInstance:b,validateProps:S})=>v({name:null!=l?l:"ElVirtualList",props:me,emits:[pe,ge],setup(l,{emit:v,expose:T,slots:D}){const L=p("vl");S(l);const A=a(),z=o(R(l,A));null==b||b(A,z);const k=o(),j=o(),F=o(),V=o(null),G=o({isScrolling:!1,scrollLeft:s(l.initScrollLeft)?l.initScrollLeft:0,scrollTop:s(l.initScrollTop)?l.initScrollTop:0,updateRequested:!1,xAxisScrollDir:ye,yAxisScrollDir:ye}),N=xe(),$=e((()=>Number.parseInt(`${l.height}`,10))),P=e((()=>Number.parseInt(`${l.width}`,10))),B=e((()=>{const{totalColumn:e,totalRow:o,columnCache:r}=l,{isScrolling:a,xAxisScrollDir:n,scrollLeft:s}=t(G);if(0===e||0===o)return[0,0,0,0];const c=i(l,s,t(z)),u=d(l,c,s,t(z)),h=a&&n!==ve?1:Math.max(1,r),m=a&&n!==ye?1:Math.max(1,r);return[Math.max(0,c-h),Math.max(0,Math.min(e-1,u+m)),c,u]})),q=e((()=>{const{totalColumn:e,totalRow:o,rowCache:r}=l,{isScrolling:a,yAxisScrollDir:n,scrollTop:s}=t(G);if(0===e||0===o)return[0,0,0,0];const i=y(l,s,t(z)),c=x(l,i,s,t(z)),d=a&&n!==ve?1:Math.max(1,r),u=a&&n!==ye?1:Math.max(1,r);return[Math.max(0,i-d),Math.max(0,Math.min(o-1,c+u)),i,c]})),U=e((()=>h(l,t(z)))),_=e((()=>m(l,t(z)))),X=e((()=>{var e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:l.direction,height:s(l.height)?`${l.height}px`:l.height,width:s(l.width)?`${l.width}px`:l.width},null!=(e=l.style)?e:{}]})),Y=e((()=>{const e=`${t(_)}px`;return{height:`${t(U)}px`,pointerEvents:t(G).isScrolling?"none":void 0,width:e}})),Q=()=>{const{totalColumn:e,totalRow:o}=l;if(e>0&&o>0){const[e,l,o,r]=t(B),[a,n,s,i]=t(q);v(pe,{columnCacheStart:e,columnCacheEnd:l,rowCacheStart:a,rowCacheEnd:n,columnVisibleStart:o,columnVisibleEnd:r,rowVisibleStart:s,rowVisibleEnd:i})}const{scrollLeft:r,scrollTop:a,updateRequested:n,xAxisScrollDir:s,yAxisScrollDir:i}=t(G);v(ge,{xAxisScrollDir:s,scrollLeft:r,yAxisScrollDir:i,scrollTop:a,updateRequested:n})},Z=e=>{const{clientHeight:o,clientWidth:r,scrollHeight:a,scrollLeft:n,scrollTop:s,scrollWidth:i}=e.currentTarget,d=t(G);if(d.scrollTop===s&&d.scrollLeft===n)return;let u=n;if(Ee(l.direction))switch(Te()){case Ce:u=-n;break;case Me:u=i-r-n}G.value={...d,isScrolling:!0,scrollLeft:u,scrollTop:Math.max(0,Math.min(s,a-o)),updateRequested:!0,xAxisScrollDir:be(d.scrollLeft,u),yAxisScrollDir:be(d.scrollTop,s)},c((()=>re())),ae(),Q()},J=(e,l)=>{const o=t($),r=(U.value-o)/l*e;le({scrollTop:Math.min(U.value-o,r)})},ee=(e,l)=>{const o=t(P),r=(_.value-o)/l*e;le({scrollLeft:Math.min(_.value-o,r)})},{onWheel:te}=(({atXEndEdge:e,atXStartEdge:t,atYEndEdge:l,atYStartEdge:o},r)=>{let a=null,n=0,s=0;const i=(r,a)=>{const n=r<=0&&t.value||r>=0&&e.value,s=a<=0&&o.value||a>=0&&l.value;return n&&s};return{hasReachedEdge:i,onWheel:e=>{ze(a);let t=e.deltaX,l=e.deltaY;Math.abs(t)>Math.abs(l)?l=0:t=0,e.shiftKey&&0!==l&&(t=l,l=0),i(n,s)&&i(n+t,s+l)||(n+=t,s+=l,e.preventDefault(),a=ke((()=>{r(n,s),n=0,s=0})))}}})({atXStartEdge:e((()=>G.value.scrollLeft<=0)),atXEndEdge:e((()=>G.value.scrollLeft>=_.value-t(P))),atYStartEdge:e((()=>G.value.scrollTop<=0)),atYEndEdge:e((()=>G.value.scrollTop>=U.value-t($)))},((e,l)=>{var o,r,a,n;null==(r=null==(o=j.value)?void 0:o.onMouseUp)||r.call(o),null==(n=null==(a=F.value)?void 0:a.onMouseUp)||n.call(a);const s=t(P),i=t($);le({scrollLeft:Math.min(G.value.scrollLeft+e,_.value-s),scrollTop:Math.min(G.value.scrollTop+l,U.value-i)})}));H(k,"wheel",te,{passive:!1});const le=({scrollLeft:e=G.value.scrollLeft,scrollTop:l=G.value.scrollTop})=>{e=Math.max(e,0),l=Math.max(l,0);const o=t(G);l===o.scrollTop&&e===o.scrollLeft||(G.value={...o,xAxisScrollDir:be(o.scrollLeft,e),yAxisScrollDir:be(o.scrollTop,l),scrollLeft:e,scrollTop:l,updateRequested:!0},c((()=>re())),ae(),Q())},oe=(e,o)=>{const{columnWidth:a,direction:s,rowHeight:i}=l,c=N.value(r&&a,r&&i,r&&s),d=`${e},${o}`;if(W(c,d))return c[d];{const[,r]=n(l,o,t(z)),a=t(z),i=Ee(s),[u,h]=g(l,e,a),[m]=n(l,o,a);return c[d]={position:"absolute",left:i?void 0:`${r}px`,right:i?`${r}px`:void 0,top:`${h}px`,height:`${u}px`,width:`${m}px`},c[d]}},re=()=>{G.value.isScrolling=!1,c((()=>{N.value(-1,null,null)}))};C((()=>{if(!I)return;const{initScrollLeft:e,initScrollTop:o}=l,r=t(k);r&&(s(e)&&(r.scrollLeft=e),s(o)&&(r.scrollTop=o)),Q()}));const ae=()=>{const{direction:e}=l,{scrollLeft:o,scrollTop:r,updateRequested:a}=t(G),n=t(k);if(a&&n){if(e===Se)switch(Te()){case Ce:n.scrollLeft=-o;break;case He:n.scrollLeft=o;break;default:{const{clientWidth:e,scrollWidth:t}=n;n.scrollLeft=t-e-o;break}}else n.scrollLeft=Math.max(0,o);n.scrollTop=Math.max(0,r)}},{resetAfterColumnIndex:ne,resetAfterRowIndex:se,resetAfter:ie}=A.proxy;T({windowRef:k,innerRef:V,getItemStyleCache:N,scrollTo:le,scrollToItem:(e=0,o=0,r=Re)=>{const a=t(G);o=Math.max(0,Math.min(o,l.totalColumn-1)),e=Math.max(0,Math.min(e,l.totalRow-1));const n=E(L.namespace.value),s=t(z),i=h(l,s),c=m(l,s);le({scrollLeft:f(l,o,r,a.scrollLeft,s,c>l.width?n:0),scrollTop:w(l,e,r,a.scrollTop,s,i>l.height?n:0)})},states:G,resetAfterColumnIndex:ne,resetAfterRowIndex:se,resetAfter:ie});const ce=()=>{const e=M(l.innerElement),o=(()=>{var e;const[o,r]=t(B),[a,n]=t(q),{data:s,totalColumn:i,totalRow:c,useIsScrolling:d,itemKey:h}=l,m=[];if(c>0&&i>0)for(let l=a;l<=n;l++)for(let a=o;a<=r;a++){const o=h({columnIndex:a,data:s,rowIndex:l});m.push(u(K,{key:o},null==(e=D.default)?void 0:e.call(D,{columnIndex:a,data:s,isScrolling:d?t(G).isScrolling:void 0,style:oe(l,a),rowIndex:l})))}return m})();return[u(e,{style:t(Y),ref:V},O(e)?o:{default:()=>o})]};return()=>{const e=M(l.containerElement),{horizontalScrollbar:o,verticalScrollbar:r}=(()=>{const{scrollbarAlwaysOn:e,scrollbarStartGap:o,scrollbarEndGap:r,totalColumn:a,totalRow:n}=l,s=t(P),i=t($),c=t(_),d=t(U),{scrollLeft:h,scrollTop:m}=t(G);return{horizontalScrollbar:u(Ie,{ref:j,alwaysOn:e,startGap:o,endGap:r,class:L.e("horizontal"),clientSize:s,layout:"horizontal",onScroll:ee,ratio:100*s/c,scrollFrom:h/(c-s),total:n,visible:!0}),verticalScrollbar:u(Ie,{ref:F,alwaysOn:e,startGap:o,endGap:r,class:L.e("vertical"),clientSize:i,layout:"vertical",onScroll:J,ratio:100*i/d,scrollFrom:m/(d-i),total:a,visible:!0})}})(),a=ce();return u("div",{key:0,class:L.e("wrapper"),role:l.role},[u(e,{class:l.className,style:t(X),onScroll:Z,ref:k},O(e)?a:{default:()=>a}),o,r])}}}),{max:ft,min:wt,floor:pt}=Math,gt={column:"columnWidth",row:"rowHeight"},yt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},xt=(e,t,l,o)=>{const[r,a,n]=[l[o],e[gt[o]],l[yt[o]]];if(t>n){let e=0;if(n>=0){const t=r[n];e=t.offset+t.size}for(let l=n+1;l<=t;l++){const t=a(l);r[l]={offset:e,size:t},e+=t}l[yt[o]]=t}return r[t]},vt=(e,t,l,o,r,a)=>{for(;l<=o;){const n=l+pt((o-l)/2),s=xt(e,n,t,a).offset;if(s===r)return n;s<r?l=n+1:o=n-1}return ft(0,l-1)},Rt=(e,t,l,o)=>{const[r,a]=[t[o],t[yt[o]]];return(a>0?r[a].offset:0)>=l?vt(e,t,0,a,l,o):((e,t,l,o,r)=>{const a="column"===r?e.totalColumn:e.totalRow;let n=1;for(;l<a&&xt(e,l,t,r).offset<o;)l+=n,n*=2;return vt(e,t,pt(l/2),wt(l,a-1),o,r)})(e,t,ft(0,a),l,o)},bt=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:o})=>{let r=0;if(l>=e&&(l=e-1),l>=0){const e=o[l];r=e.offset+e.size}return r+(e-l-1)*t},St=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:o})=>{let r=0;if(o>e&&(o=e-1),o>=0){const e=t[o];r=e.offset+e.size}return r+(e-o-1)*l},Tt={column:St,row:bt},Ht=(e,t,l,o,r,a,n)=>{const[s,i]=["row"===a?e.height:e.width,Tt[a]],c=xt(e,t,r,a),d=i(e,r),u=ft(0,wt(d-s,c.offset)),h=ft(0,c.offset-s+n+c.size);switch(l===Le&&(l=o>=h-s&&o<=u+s?Re:Ke),l){case De:return u;case We:return h;case Ke:return Math.round(h+(u-h)/2);default:return o>=h&&o<=u?o:h>u||o<h?h:u}},Ct=mt({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const o=xt(e,t,l,"column");return[o.size,o.offset]},getRowPosition:(e,t,l)=>{const o=xt(e,t,l,"row");return[o.size,o.offset]},getColumnOffset:(e,t,l,o,r,a)=>Ht(e,t,l,o,r,"column",a),getRowOffset:(e,t,l,o,r,a)=>Ht(e,t,l,o,r,"row",a),getColumnStartIndexForOffset:(e,t,l)=>Rt(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,o)=>{const r=xt(e,t,o,"column"),a=l+e.width;let n=r.offset+r.size,s=t;for(;s<e.totalColumn-1&&n<a;)s++,n+=xt(e,t,o,"column").size;return s},getEstimatedTotalHeight:bt,getEstimatedTotalWidth:St,getRowStartIndexForOffset:(e,t,l)=>Rt(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,o)=>{const{totalRow:r,height:a}=e,n=xt(e,t,o,"row"),s=l+a;let i=n.size+n.offset,c=t;for(;c<r-1&&i<s;)c++,i+=xt(e,c,o,"row").size;return c},injectToInstance:(e,t)=>{const l=({columnIndex:l,rowIndex:o},r)=>{var a,n;r=!!D(r)||r,s(l)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,l-1)),s(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),null==(a=e.exposed)||a.getItemStyleCache.value(-1,null,null),r&&(null==(n=e.proxy)||n.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{l({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{l({rowIndex:e},t)},resetAfter:l})},initCache:({estimatedColumnWidth:e=Oe,estimatedRowHeight:t=Oe})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),It=mt({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},o,r,a,n,s)=>{l=Number(l);const i=Math.max(0,e*t-l),c=Math.min(i,o*t),d=Math.max(0,o*t-l+s+t);switch("smart"===r&&(r=a>=d-l&&a<=c+l?Re:Ke),r){case De:return c;case We:return d;case Ke:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(l/2)?0:e>i+Math.floor(l/2)?i:e}default:return a>=d&&a<=c?a:d>c||a<d?d:c}},getRowOffset:({rowHeight:e,height:t,totalRow:l},o,r,a,n,s)=>{t=Number(t);const i=Math.max(0,l*e-t),c=Math.min(i,o*e),d=Math.max(0,o*e-t+s+e);switch(r===Le&&(r=a>=d-t&&a<=c+t?Re:Ke),r){case De:return c;case We:return d;case Ke:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(t/2)?0:e>i+Math.floor(t/2)?i:e}default:return a>=d&&a<=c?a:d>c||a<d?d:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},o,r)=>{const a=o*e,n=Math.ceil((l+r-a)/e);return Math.max(0,Math.min(t-1,o+n-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},o,r)=>{const a=o*e,n=Math.ceil((l+r-a)/e);return Math.max(0,Math.min(t-1,o+n-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}});var Et=v({name:"ElTableV2Grid",props:dt,setup(a,{slots:n,expose:i}){const{ns:d}=R(Ye),{bodyRef:u,fixedRowHeight:h,gridHeight:m,hasHeader:f,headerRef:w,headerHeight:p,totalHeight:g,forceUpdate:y,itemKey:x,onItemRendered:v,resetAfterRowIndex:b,scrollTo:S,scrollToTop:H,scrollToRow:C,scrollLeft:I}=(a=>{const n=o(),i=o(),c=o(0),d=e((()=>{const{data:e,rowHeight:t,estimatedRowHeight:l}=a;if(!l)return e.length*t})),u=e((()=>{const{fixedData:e,rowHeight:t}=a;return((null==e?void 0:e.length)||0)*t})),h=e((()=>Be(a.headerHeight))),m=e((()=>{const{height:e}=a;return Math.max(0,e-t(h)-t(u))})),f=e((()=>t(h)+t(u)>0));return r((()=>a.bodyWidth),(()=>{var e;s(a.estimatedRowHeight)&&(null==(e=i.value)||e.resetAfter({columnIndex:0},!1))})),{bodyRef:i,forceUpdate:function(){var e,l;null==(e=t(i))||e.$forceUpdate(),null==(l=t(n))||l.$forceUpdate()},fixedRowHeight:u,gridHeight:m,hasHeader:f,headerHeight:h,headerRef:n,totalHeight:d,itemKey:({data:e,rowIndex:t})=>e[t][a.rowKey],onItemRendered:function({rowCacheStart:e,rowCacheEnd:t,rowVisibleStart:l,rowVisibleEnd:o}){var r;null==(r=a.onRowsRendered)||r.call(a,{rowCacheStart:e,rowCacheEnd:t,rowVisibleStart:l,rowVisibleEnd:o})},resetAfterRowIndex:function(e,t){var l;null==(l=i.value)||l.resetAfterRowIndex(e,t)},scrollTo:function(e,o){const r=t(n),a=t(i);l(e)?(null==r||r.scrollToLeft(e.scrollLeft),c.value=e.scrollLeft,null==a||a.scrollTo(e)):(null==r||r.scrollToLeft(e),c.value=e,null==a||a.scrollTo({scrollLeft:e,scrollTop:o}))},scrollToTop:function(e){var l;null==(l=t(i))||l.scrollTo({scrollTop:e})},scrollToRow:function(e,l){var o;null==(o=t(i))||o.scrollToItem(e,1,l)},scrollLeft:c}})(a);A(Qe,I),L((async()=>{var e;await c();const t=null==(e=u.value)?void 0:e.states.scrollTop;t&&H(Math.round(t)+1)})),i({forceUpdate:y,totalHeight:g,scrollTo:S,scrollToTop:H,scrollToRow:C,resetAfterRowIndex:b});const E=()=>a.bodyWidth;return()=>{const{cache:e,columns:l,data:o,fixedData:r,useIsScrolling:i,scrollbarAlwaysOn:c,scrollbarEndGap:g,scrollbarStartGap:y,style:R,rowHeight:b,bodyWidth:S,estimatedRowHeight:H,headerWidth:C,height:I,width:M,getRowHeight:O,onScroll:K}=a,W=s(H),D=W?Ct:It,L=t(p);return T("div",{role:"table",class:[d.e("table"),a.class],style:R},[T(D,{ref:u,data:o,useIsScrolling:i,itemKey:x,columnCache:0,columnWidth:W?E:S,totalColumn:1,totalRow:o.length,rowCache:e,rowHeight:W?O:b,width:M,height:t(m),class:d.e("body"),role:"rowgroup",scrollbarStartGap:y,scrollbarEndGap:g,scrollbarAlwaysOn:c,onScroll:K,onItemRendered:v,perfMode:!1},{default:e=>{var t;const r=o[e.rowIndex];return null==(t=n.row)?void 0:t.call(n,{...e,columns:l,rowData:r})}}),t(f)&&T(ht,{ref:w,class:d.e("header-wrapper"),columns:l,headerData:o,headerHeight:a.headerHeight,fixedHeaderData:r,rowWidth:C,rowHeight:b,width:M,height:Math.min(L+t(h),I)},{dynamic:n.header,fixed:n.row})])}}});var Mt=(e,{slots:t})=>{const{mainTableRef:l,...o}=e;return T(Et,z({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!m(r)?t:{default:()=>[t]});var r};var Ot=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:l,...o}=e;return T(Et,z({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!m(r)?t:{default:()=>[t]});var r};var Kt=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:l,...o}=e;return T(Et,z({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!m(r)?t:{default:()=>[t]});var r};const Wt=l=>{const{isScrolling:r}=R(Ye),a=o(!1),n=o(),i=e((()=>s(l.estimatedRowHeight)&&l.rowIndex>=0)),d=e((()=>{const{rowData:e,rowIndex:t,rowKey:o,onRowHover:r}=l,a=l.rowEventHandlers||{},n={};return Object.entries(a).forEach((([l,r])=>{f(r)&&(n[l]=l=>{r({event:l,rowData:e,rowIndex:t,rowKey:o})})})),r&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:l,hovered:a})=>{const s=n[l];n[l]=l=>{r({event:l,hovered:a,rowData:e,rowIndex:t,rowKey:o}),null==s||s(l)}})),n}));return C((()=>{t(i)&&((e=!1)=>{const o=t(n);if(!o)return;const{columns:r,onRowHeightChange:s,rowKey:i,rowIndex:d,style:u}=l,{height:h}=o.getBoundingClientRect();a.value=!0,c((()=>{if(e||h!==Number.parseInt(u.height)){const e=r[0],t=(null==e?void 0:e.placeholderSign)===Ne;null==s||s({rowKey:i,height:h,rowIndex:d},e&&!t&&e.fixed)}}))})(!0)})),{isScrolling:r,measurable:i,measured:a,rowRef:n,eventHandlers:d,onExpand:e=>{const{onRowExpand:t,rowData:o,rowIndex:r,rowKey:a}=l;null==t||t({expanded:e,rowData:o,rowIndex:r,rowKey:a})}}};var Dt=v({name:"ElTableV2TableRow",props:st,setup(e,{expose:l,slots:o,attrs:r}){const{eventHandlers:a,isScrolling:n,measurable:s,measured:i,rowRef:c,onExpand:u}=Wt(e);return l({onExpand:u}),()=>{const{columns:l,columnsStyles:h,expandColumnKey:m,depth:f,rowData:w,rowIndex:p,style:g}=e;let y=l.map(((e,r)=>{const a=d(w.children)&&w.children.length>0&&e.key===m;return o.cell({column:e,columns:l,columnIndex:r,depth:f,style:h[e.key],rowData:w,rowIndex:p,isScrolling:t(n),expandIconProps:a?{rowData:w,rowIndex:p,onExpand:u}:void 0})}));if(o.row&&(y=o.row({cells:y.map((e=>d(e)&&1===e.length?e[0]:e)),style:g,columns:l,depth:f,rowData:w,rowIndex:p,isScrolling:t(n)})),t(s)){const{height:l,...o}=g||{},n=t(i);return T("div",z({ref:c,class:e.class,style:n?g:o,role:"row"},r,t(a)),[y])}return T("div",z(r,{ref:c,class:e.class,style:g,role:"row"},t(a)),[y])}}});var Lt=(e,{slots:t})=>{const{columns:l,columnsStyles:o,depthMap:r,expandColumnKey:a,expandedRowKeys:n,estimatedRowHeight:s,hasFixedColumns:i,rowData:c,rowIndex:d,style:u,isScrolling:h,rowProps:f,rowClass:w,rowKey:p,rowEventHandlers:g,ns:y,onRowHovered:x,onRowExpanded:v}=e,R=qe(w,{columns:l,rowData:c,rowIndex:d},""),b=qe(f,{columns:l,rowData:c,rowIndex:d}),S=c[p],H=r[S]||0,C=Boolean(a),I=d<0,E=[y.e("row"),R,{[y.e(`row-depth-${H}`)]:C&&d>=0,[y.is("expanded")]:C&&n.includes(S),[y.is("fixed")]:!H&&I,[y.is("customized")]:Boolean(t.row)}],M=i?x:void 0,O={...b,columns:l,columnsStyles:o,class:E,depth:H,expandColumnKey:a,estimatedRowHeight:I?void 0:s,isScrolling:h,rowIndex:d,rowData:c,rowKey:S,rowEventHandlers:g,style:u};return T(Dt,z(O,{onRowExpand:v,onMouseenter:e=>{null==M||M({hovered:!0,rowKey:S,event:e,rowData:c,rowIndex:d})},onMouseleave:e=>{null==M||M({hovered:!1,rowKey:S,event:e,rowData:c,rowIndex:d})},rowkey:S}),"function"==typeof(K=t)||"[object Object]"===Object.prototype.toString.call(K)&&!m(K)?t:{default:()=>[t]});var K};const At=(e,{slots:t})=>{var l;const{cellData:o,style:r}=e,a=(null==(l=null==o?void 0:o.toString)?void 0:l.call(o))||"",n=k(t,"default",e,(()=>[a]));return T("div",{class:e.class,title:a,style:r},[n])};At.displayName="ElTableV2Cell",At.inheritAttrs=!1;var zt=At;var kt=e=>{const{expanded:t,expandable:l,onExpand:o,style:r,size:a}=e,n={onClick:l?()=>o(!t):void 0,class:e.class};return T(F,z(n,{size:a,style:r}),{default:()=>[T(j,null,null)]})};const jt=({columns:e,column:t,columnIndex:o,depth:r,expandIconProps:a,isScrolling:n,rowData:s,rowIndex:i,style:c,expandedRowKeys:d,ns:u,cellProps:h,expandColumnKey:m,indentSize:w,iconSize:p,rowKey:g},{slots:y})=>{const x=Ue(c);if(t.placeholderSign===Ne)return T("div",{class:u.em("row-cell","placeholder"),style:x},null);const{cellRenderer:v,dataKey:R,dataGetter:b}=t,S=f(b)?b({columns:e,column:t,columnIndex:o,rowData:s,rowIndex:i}):V(s,null!=R?R:""),H=qe(h,{cellData:S,columns:e,column:t,columnIndex:o,rowIndex:i,rowData:s}),C={class:u.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:S,isScrolling:n,rowData:s,rowIndex:i},I=_e(v),E=I?I(C):k(y,"default",C,(()=>[T(zt,C,null)])),M=[u.e("row-cell"),t.class,t.align===Fe.CENTER&&u.is("align-center"),t.align===Fe.RIGHT&&u.is("align-right")],O=i>=0&&m&&t.key===m,K=i>=0&&d.includes(s[g]);let W;const D=`margin-inline-start: ${r*w}px;`;return O&&(W=l(a)?T(kt,z(a,{class:[u.e("expand-icon"),u.is("expanded",K)],size:p,expanded:K,style:D,expandable:!0}),null):T("div",{style:[D,`width: ${p}px; height: ${p}px;`].join(" ")},null)),T("div",z({class:M,style:x},H,{role:"cell"}),[W,E])};jt.inheritAttrs=!1;var Ft=jt;const Vt=x({class:String,columns:Je,columnsStyles:{type:y(Object),required:!0},headerIndex:Number,style:{type:y(Object)}});var Gt=v({name:"ElTableV2HeaderRow",props:Vt,setup:(e,{slots:t})=>()=>{const{columns:l,columnsStyles:o,headerIndex:r,style:a}=e;let n=l.map(((e,a)=>t.cell({columns:l,column:e,columnIndex:a,headerIndex:r,style:o[e.key]})));return t.header&&(n=t.header({cells:n.map((e=>d(e)&&1===e.length?e[0]:e)),columns:l,headerIndex:r})),T("div",{class:e.class,style:a,role:"row"},[n])}});var Nt=({columns:e,columnsStyles:t,headerIndex:l,style:o,headerClass:r,headerProps:a,ns:n},{slots:s})=>{const i={columns:e,headerIndex:l},c=[n.e("header-row"),qe(r,i,""),{[n.is("customized")]:Boolean(s.header)}],d={...qe(a,i),columnsStyles:t,class:c,columns:e,headerIndex:l,style:o};return T(Gt,d,"function"==typeof(u=s)||"[object Object]"===Object.prototype.toString.call(u)&&!m(u)?s:{default:()=>[s]});var u};const $t=(e,{slots:t})=>k(t,"default",e,(()=>{var t,l;return[T("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(l=e.column)?void 0:l.title])]}));$t.displayName="ElTableV2HeaderCell",$t.inheritAttrs=!1;var Pt=$t;var Bt=e=>{const{sortOrder:t}=e;return T(F,{size:14,class:e.class},{default:()=>[t===je.ASC?T(G,null,null):T(N,null,null)]})};var qt=(e,{slots:t})=>{const{column:l,ns:o,style:r,onColumnSorted:a}=e,n=Ue(r);if(l.placeholderSign===Ne)return T("div",{class:o.em("header-row-cell","placeholder"),style:n},null);const{headerCellRenderer:s,headerClass:i,sortable:c}=l,d={...e,class:o.e("header-cell-text")},u=_e(s),h=u?u(d):k(t,"default",d,(()=>[T(Pt,d,null)])),{sortBy:m,sortState:f,headerCellProps:w}=e;let p,g;if(f){const e=f[l.key];p=Boolean(Ge[e]),g=p?e:je.ASC}else p=l.key===m.key,g=p?m.order:je.ASC;const y=[o.e("header-cell"),qe(i,e,""),l.align===Fe.CENTER&&o.is("align-center"),l.align===Fe.RIGHT&&o.is("align-right"),c&&o.is("sortable")],x={...qe(w,e),onClick:l.sortable?a:void 0,class:y,style:n,"data-key":l.key};return T("div",z(x,{role:"columnheader"}),[h,c&&T(Bt,{class:[o.e("sort-icon"),p&&o.is("sorting")],sortOrder:g},null)])};const Ut=(e,{slots:t})=>{var l;return T("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};Ut.displayName="ElTableV2Footer";var _t=Ut;const Xt=(e,{slots:t})=>{const l=k(t,"default",{},(()=>[T(Ae,null,null)]));return T("div",{class:e.class,style:e.style},[l])};Xt.displayName="ElTableV2Empty";var Yt=Xt;const Qt=(e,{slots:t})=>{var l;return T("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};Qt.displayName="ElTableV2Overlay";var Zt=Qt;function Jt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!m(e)}var el=v({name:"ElTableV2",props:ut,setup(e,{slots:l,expose:o}){const r=p("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:n,fixedColumnsOnRight:s,mainColumns:i,mainTableHeight:c,fixedTableHeight:d,leftTableWidth:u,rightTableWidth:h,data:m,depthMap:f,expandedRowKeys:w,hasFixedColumns:g,mainTableRef:y,leftTableRef:x,rightTableRef:v,isDynamic:R,isResetting:b,isScrolling:S,bodyWidth:H,emptyStyle:C,rootStyle:I,footerHeight:E,showEmpty:M,scrollTo:O,scrollToLeft:K,scrollToTop:W,scrollToRow:D,getRowHeight:L,onColumnSorted:k,onRowHeightChange:j,onRowHovered:F,onRowExpanded:V,onRowsRendered:G,onScroll:N,onVerticalScroll:$}=Xe(e);return o({scrollTo:O,scrollToLeft:K,scrollToTop:W,scrollToRow:D}),A(Ye,{ns:r,isResetting:b,isScrolling:S}),()=>{const{cache:o,cellProps:p,estimatedRowHeight:b,expandColumnKey:S,fixedData:O,headerHeight:K,headerClass:W,headerProps:D,headerCellProps:A,sortBy:P,sortState:B,rowHeight:q,rowClass:U,rowEventHandlers:_,rowKey:X,rowProps:Y,scrollbarAlwaysOn:Q,indentSize:Z,iconSize:J,useIsScrolling:ee,vScrollbarSize:te,width:le}=e,oe=t(m),re={cache:o,class:r.e("main"),columns:t(i),data:oe,fixedData:O,estimatedRowHeight:b,bodyWidth:t(H),headerHeight:K,headerWidth:t(H),height:t(c),mainTableRef:y,rowKey:X,rowHeight:q,scrollbarAlwaysOn:Q,scrollbarStartGap:2,scrollbarEndGap:te,useIsScrolling:ee,width:le,getRowHeight:L,onRowsRendered:G,onScroll:N},ae=t(u),ne=t(d),se={cache:o,class:r.e("left"),columns:t(n),data:oe,fixedData:O,estimatedRowHeight:b,leftTableRef:x,rowHeight:q,bodyWidth:ae,headerWidth:ae,headerHeight:K,height:ne,rowKey:X,scrollbarAlwaysOn:Q,scrollbarStartGap:2,scrollbarEndGap:te,useIsScrolling:ee,width:ae,getRowHeight:L,onScroll:$},ie=t(h),ce={cache:o,class:r.e("right"),columns:t(s),data:oe,fixedData:O,estimatedRowHeight:b,rightTableRef:v,rowHeight:q,bodyWidth:ie,headerWidth:ie,headerHeight:K,height:ne,rowKey:X,scrollbarAlwaysOn:Q,scrollbarStartGap:2,scrollbarEndGap:te,width:ie,style:`--${t(r.namespace)}-table-scrollbar-size: ${te}px`,useIsScrolling:ee,getRowHeight:L,onScroll:$},de=t(a),ue={ns:r,depthMap:t(f),columnsStyles:de,expandColumnKey:S,expandedRowKeys:t(w),estimatedRowHeight:b,hasFixedColumns:t(g),rowProps:Y,rowClass:U,rowKey:X,rowEventHandlers:_,onRowHovered:F,onRowExpanded:V,onRowHeightChange:j},he={cellProps:p,expandColumnKey:S,indentSize:Z,iconSize:J,rowKey:X,expandedRowKeys:t(w),ns:r},me={ns:r,headerClass:W,headerProps:D,columnsStyles:de},fe={ns:r,sortBy:P,sortState:B,headerCellProps:A,onColumnSorted:k},we={row:e=>T(Lt,z(e,ue),{row:l.row,cell:e=>{let t;return l.cell?T(Ft,z(e,he,{style:de[e.column.key]}),Jt(t=l.cell(e))?t:{default:()=>[t]}):T(Ft,z(e,he,{style:de[e.column.key]}),null)}}),header:e=>T(Nt,z(e,me),{header:l.header,cell:e=>{let t;return l["header-cell"]?T(qt,z(e,fe,{style:de[e.column.key]}),Jt(t=l["header-cell"](e))?t:{default:()=>[t]}):T(qt,z(e,fe,{style:de[e.column.key]}),null)}})},pe=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:t(R)}],ge={class:r.e("footer"),style:t(E)};return T("div",{class:pe,style:t(I)},[T(Mt,re,Jt(we)?we:{default:()=>[we]}),T(Ot,se,Jt(we)?we:{default:()=>[we]}),T(Kt,ce,Jt(we)?we:{default:()=>[we]}),l.footer&&T(_t,ge,{default:l.footer}),t(M)&&T(Yt,{class:r.e("empty"),style:t(C)},{default:l.empty}),l.overlay&&T(Zt,{class:r.e("overlay")},{default:l.overlay})])}}});const tl=x({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:y(Function)}});var ll=v({name:"ElAutoResizer",props:tl,setup(e,{slots:t}){const l=p("auto-resizer"),{height:a,width:n,sizer:s}=(e=>{const t=o(),l=o(0),a=o(0);let n;return C((()=>{n=$(t,(([e])=>{const{width:t,height:o}=e.contentRect,{paddingLeft:r,paddingRight:n,paddingTop:s,paddingBottom:i}=getComputedStyle(e.target),c=Number.parseInt(r)||0,d=Number.parseInt(n)||0,u=Number.parseInt(s)||0,h=Number.parseInt(i)||0;l.value=t-c-d,a.value=o-u-h})).stop})),P((()=>{null==n||n()})),r([l,a],(([t,l])=>{var o;null==(o=e.onResize)||o.call(e,{width:t,height:l})})),{sizer:t,width:l,height:a}})(e),i={width:"100%",height:"100%"};return()=>{var e;return T("div",{ref:s,class:l.b(),style:i},[null==(e=t.default)?void 0:e.call(t,{height:a.value,width:n.value})])}}});const ol=B(el),rl=B(ll),al={key:0,class:"h-full flex flex-col items-center justify-center pt-100px"},nl={key:0,src:se,alt:""},sl={key:1,src:ie,alt:""},il={key:2,class:"mt-10px"},cl={key:1},dl=he(v({__name:"index",props:{columns:{},data:{},showEmptyText:{type:Boolean},emptyText:{default:""},showFooter:{type:Boolean,default:!1},footText:{default:""},rowHeight:{default:50},headerHeight:{default:32},headerClass:{default:""},footerHeight:{default:0},loading:{type:Boolean},fixed:{type:Boolean},rowKey:{default:"id"},rowClass:{default:""}},emits:["endReached"],setup(l,{expose:o,emit:r}){const{t:a}=q(),n=l,s=r,i=U(),c=_(),d=X(),u=Y("tableRef");o({scrollTo:(...e)=>{var t,l;null==(l=null==(t=u.value)?void 0:t.scrollTo)||l.call(t,...e)},scrollToLeft:(...e)=>{var t,l;null==(l=null==(t=u.value)?void 0:t.scrollToLeft)||l.call(t,...e)},scrollToTop:(...e)=>{var t,l;null==(l=null==(t=u.value)?void 0:t.scrollToTop)||l.call(t,...e)},scrollToRow:(...e)=>{var t,l;null==(l=null==(t=u.value)?void 0:t.scrollToRow)||l.call(t,...e)}});const{width:h}=Q(u),m=["empty","footer","overlay","row","cell","header-cell"],f=e((()=>{const e={};for(const t of m)i[t]&&(e[t]=i[t]);return e})),w=e((()=>{const e=function(){const e=n.columns.reduce(((e,t)=>e+t.minWidth),0);if(e>=h.value)return n.columns.map((e=>e.minWidth));const t=(h.value-6-e)/n.columns.length;return n.columns.map((e=>e.minWidth+t))}();return n.columns.map(((t,l)=>{const o=i[`cell-${t.key}`]||i[`cell-${t.dataKey}`],r=i[`header-${t.key}`]||i[`header-${t.dataKey}`];return{...t,cellRenderer:o?({rowData:e,column:t,rowIndex:l,columnIndex:r})=>o({row:e,column:t,rowIndex:l,columnIndex:r}):t.cellRenderer,headerCellRenderer:r?({column:e})=>r({column:e}):t.headerCellRenderer,width:e[l]}}))}));return(e,l)=>{const o=ol,r=rl;return J(),Z(r,null,{default:ee((({height:r,width:n})=>[T(o,z({ref_key:"tableRef",ref:u,rowKey:e.rowKey,class:"el-table",style:{"--el-table-border":"0","--el-bg-color":"transparent","font-size":"12px"},"header-class":`bg-[--main-list-header-bg] ${e.headerClass}`,"header-height":e.headerHeight,columns:t(w),data:e.data,height:r,width:n,"footer-height":e.footerHeight},t(c),{fixed:e.fixed,"row-height":e.rowHeight,"row-class":e.rowClass,onEndReached:l[0]||(l[0]=e=>s("endReached",e))}),te({_:2},[le(t(f),((t,l)=>({name:l,fn:ee((t=>[k(e.$slots,l,oe(re(t)),void 0,!0)]))}))),t(f).empty?void 0:{name:"empty",fn:ee((()=>[e.loading?(J(),ae("span",cl)):(J(),ae("div",al,["light"===t(d).theme?(J(),ae("img",nl)):(J(),ae("img",sl)),e.showEmptyText?(J(),ae("span",il,ce(e.emptyText||t(a)("emptyNoData")),1)):ne("",!0)]))])),key:"0"},e.data.length>0&&e.showFooter?{name:"footer",fn:ee((()=>[de("div",{class:ue(["text-center px-0 pt-15px pb-10px text-12px text-[--third-text] absolute w-100%",`top-${e.rowHeight}px`])},ce(e.footText||t(a)("loading")),3)])),key:"1"}:void 0]),1040,["rowKey","header-class","header-height","columns","data","height","width","footer-height","fixed","row-height","row-class"])])),_:3})}}}),[["__scopeId","data-v-1c78b276"]]);export{dl as _};
